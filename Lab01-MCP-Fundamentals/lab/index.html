<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><meta content="Hands-on labs for the K-Agent framework - Kubernetes-native MCP server" name="description"/><meta content="CodeWizard-IL" name="author"/><link href="https://nirgeier.github.io/AI-K8S-MCP/Lab01-MCP-Fundamentals/lab/" rel="canonical"/><link href="../../Lab00-Setup/lab/" rel="prev"/><link href="../../Lab02-First-MCP-Server/lab/" rel="next"/><link href="../../assets/favicon.png" rel="icon"/><meta content="mkdocs-1.6.1, mkdocs-material-9.6.16" name="generator"/><title>Lab 1: MCP Fundamentals - K-Agent Labs</title><link href="../../assets/stylesheets/main.7e37652d.min.css" rel="stylesheet"/><link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%202a7%207%200%200%200-7%207c0%202.38%201.19%204.47%203%205.74V17a1%201%200%200%200%201%201h6a1%201%200%200%200%201-1v-2.26c1.81-1.27%203-3.36%203-5.74a7%207%200%200%200-7-7M9%2021a1%201%200%200%200%201%201h4a1%201%200%200%200%201-1v-1H9z%22/%3E%3C/svg%3E');}</style><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Mulish:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font:"Mulish";--md-code-font:"JetBrains Mono"}</style><link href="../../css/print-site.css" rel="stylesheet"/><link href="../../css/print-site-material.css" rel="stylesheet"/><link href="../../assets/stylesheets/codewizard.css?v=1766553928" rel="stylesheet"/><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="slate" dir="ltr"> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#lab-1-mcp-fundamentals"> Skip to content </a> </div> <div data-md-component="announce"> </div> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Determine classes --> <!-- Header --> <header class="md-header md-header--shadow md-header--lifted" data-md-component="header"> <nav aria-label="Header" class="md-header__inner md-grid"> <!-- Link to home --> <a aria-label="K-Agent Labs" class="md-header__button md-logo" data-md-component="logo" href="../.." title="K-Agent Labs"> <svg viewbox="0 0 89 89" xmlns="http://www.w3.org/2000/svg"> <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z"></path> <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5"></path> <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z"></path> <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25"></path> </svg> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <!-- Header title --> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> K-Agent Labs </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Lab 1: MCP Fundamentals </span> </div> </div> </div> <div class="m-social__top"> <!-- Social links --> <div class="md-social"> <a class="md-social__link social-class__github" href="https://github.com/nirgeier/AI-K8S-MCP" rel="noopener" target="_blank" title="View on GitHub"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__fork" href="https://github.com/nirgeier/AI-K8S-MCP/network/members" rel="noopener" target="_blank" title="Fork this repo"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"></path></svg> </a> <a class="md-social__link social-class__star" href="https://github.com/nirgeier/AI-K8S-MCP/stargazers" rel="noopener" target="_blank" title="Star this repo"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"></path></svg> </a> <a class="md-social__link social-class__linkedin" href="https://www.linkedin.com/in/nirgeier/" rel="noopener" target="_blank" title="Connect on LinkedIn"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__discord" href="https://discord.gg/U6xW23Ss" rel="noopener" target="_blank" title="Follow me on Discord"> <svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__stackoverflow" href="https://stackoverflow.com/users/1755598/codewizard" rel="noopener" target="_blank" title="Follow me on Stack Overflow"> <svg viewbox="0 0 384 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__whatsapp" href="https://wa.me/972548122310" rel="noopener" target="_blank" title="Follow me on WhatsApp"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__email" href="mailto:nirg@codewizard.co.il" rel="noopener" target="_blank" title="Email me"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z" fill="currentColor"></path></svg> </a> </div> </div> <!-- Color palette toggle --> <form class="md-header__option" data-md-component="palette"> <input aria-hidden="true" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_0" name="__palette" type="radio"/> </form> <!-- User preference: color palette --> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <!-- Site language selector --> <!-- Button to open search modal --> <!-- Check if search is actually enabled - see https://t.ly/DT_0V --> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <!-- Search interface --> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label="Search" class="md-search__options"> <a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class="md-search__suggest" data-md-component="search-suggest"></div> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0"> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <!-- Repository information --> <div class="md-header__source"> <a class="md-source" data-md-component="source" href="https://github.com/nirgeier/AI-K8S-MCP.git" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg> </div> <div class="md-source__repository"> nirgeier/AI-K8S-MCP </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> <nav aria-label="Tabs" class="md-tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../welcome/"> Welcome </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a class="md-tabs__link" href="../../labs/"> Labs </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../Tasks/"> Tasks </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../Resources/Lab01-MCP-Fundamentals/MCP-Basics-py/"> Resources </a> </li> </ul> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="K-Agent Labs" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="K-Agent Labs"> <svg viewbox="0 0 89 89" xmlns="http://www.w3.org/2000/svg"> <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z"></path> <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5"></path> <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z"></path> <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25"></path> </svg> </a> K-Agent Labs </label> <div class="md-nav__source"> <a class="md-source" data-md-component="source" href="https://github.com/nirgeier/AI-K8S-MCP.git" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg> </div> <div class="md-source__repository"> nirgeier/AI-K8S-MCP </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../welcome/"> <span class="md-ellipsis"> Welcome </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/> <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex=""> <span class="md-ellipsis"> Labs </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> Labs </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../labs/"> <span class="md-ellipsis"> MCP Labs - Learning Series </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab00-Setup/lab/"> <span class="md-ellipsis"> Lab 0: Setup </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> Lab 1: MCP Fundamentals </span> <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href="./"> <span class="md-ellipsis"> Lab 1: MCP Fundamentals </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#overview"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#learning-objectives"> <span class="md-ellipsis"> Learning Objectives </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#what-is-mcp"> <span class="md-ellipsis"> What is MCP? </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#mcp-architecture-overview"> <span class="md-ellipsis"> MCP Architecture Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#mcp-components"> <span class="md-ellipsis"> MCP Components </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#mcp-tool-structure"> <span class="md-ellipsis"> MCP Tool Structure </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#core-mcp-capabilities"> <span class="md-ellipsis"> Core MCP Capabilities </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#the-mcp-lifecycle"> <span class="md-ellipsis"> The MCP Lifecycle </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#mcp-communication-model"> <span class="md-ellipsis"> MCP Communication Model </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#security-considerations"> <span class="md-ellipsis"> Security Considerations </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#common-use-cases"> <span class="md-ellipsis"> Common Use Cases </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#mcp-vs-other-approaches"> <span class="md-ellipsis"> MCP vs. Other Approaches </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#hands-on-exercise"> <span class="md-ellipsis"> Hands-On Exercise </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#testing-mcp-tools-ts"> <span class="md-ellipsis"> Testing MCP Tools (TS) </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#deep-dive-mcp-base-components-python-focus"> <span class="md-ellipsis"> Deep Dive: MCP Base Components (Python Focus) </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#mcp-method-flow-with-echo-commands"> <span class="md-ellipsis"> MCP Method Flow with Echo Commands </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#what-realizes-mcp"> <span class="md-ellipsis"> What Realizes MCP </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#core-primitive-operations"> <span class="md-ellipsis"> Core Primitive Operations </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#building-your-own-mcp-components"> <span class="md-ellipsis"> Building Your Own MCP Components </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#key-takeaways"> <span class="md-ellipsis"> Key Takeaways </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#next-steps"> <span class="md-ellipsis"> Next Steps </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#additional-resources"> <span class="md-ellipsis"> Additional Resources </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab02-First-MCP-Server/lab/"> <span class="md-ellipsis"> Lab 2: First MCP Server </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab03-MCP-Tools/lab/"> <span class="md-ellipsis"> Lab 3: MCP Tools </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab04-MCP-Resources/lab/"> <span class="md-ellipsis"> Lab 4: MCP Resources </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab05-MCP-Prompts/lab/"> <span class="md-ellipsis"> Lab 5: MCP Prompts </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab06-MCP-Workflow/lab/"> <span class="md-ellipsis"> Lab 6: MCP Workflow </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab07-MCP-Ollama/lab/"> <span class="md-ellipsis"> Lab 7: MCP Ollama </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab08-Kagent/lab/"> <span class="md-ellipsis"> Lab 8: Kagent </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../Tasks/"> <span class="md-ellipsis"> Tasks </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../Resources/Lab01-MCP-Fundamentals/MCP-Basics-py/"> <span class="md-ellipsis"> Resources </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="lab-1-mcp-fundamentals">Lab 1 - MCP Fundamentals<a class="headerlink" href="#lab-1-mcp-fundamentals" title="Permanent link">¶</a></h1> <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2> <ul> <li><code>MCP</code> is a game-changer for AI application development .</li> <li>In this lab, you’ll learn about the Model Context Protocol (<code>MCP</code>), the communication standard that enables AI assistants to interact with external tools and services. </li> <li>You’ll explore MCP concepts, test simple tools, and understand the protocol structure.</li> <li> <p>This lab uses the MCP server included in the K-Agent labs environment.</p> <div class="admonition danger"> <p class="admonition-title">Prerequisites</p> <ul> <li>Make sure you have completed <a href="../000-setup/">Lab 000 - Environment Setup</a> before starting this lab.</li> </ul> </div> </li> </ul> <hr/> <h2 id="learning-objectives">Learning Objectives<a class="headerlink" href="#learning-objectives" title="Permanent link">¶</a></h2> <p>By the end of this lab, you will:</p> <ul> <li>Understand what <code>MCP</code> is and why it was created</li> <li>Learn the core architecture and components of <code>MCP</code></li> <li>Identify the key capabilities <code>MCP</code> provides</li> <li>Understand the client-server model in <code>MCP</code></li> <li>Recognize common use cases for <code>MCP</code></li> <li>Learn MCP server and client communication</li> <li>Testing MCP tools with stdio transport</li> </ul> <hr/> <h2 id="what-is-mcp">What is MCP?<a class="headerlink" href="#what-is-mcp" title="Permanent link">¶</a></h2> <ul> <li>The <strong>Model Context Protocol (MCP)</strong> is an open protocol that standardizes how AI applications interact with external data sources and tools. </li> <li>It defines a structured way for AI assistants (clients) to discover, call, and receive responses from tools (servers) using JSON-RPC over various transport layers.</li> <li>MCP is designed to be flexible and extensible, allowing developers to create custom tools that can be easily integrated with different AI models.</li> </ul> <hr/> <h3 id="what-does-mcp-offer">What does MCP offer?<a class="headerlink" href="#what-does-mcp-offer" title="Permanent link">¶</a></h3> <div class="grid cards"> <ul> <li> <h4 id="standardized-communication">Standardized Communication<a class="headerlink" href="#standardized-communication" title="Permanent link">¶</a></h4> <p>AI assistants can work with any MCP-compatible tool</p> </li> <li> <h4 id="tool-discovery">Tool Discovery<a class="headerlink" href="#tool-discovery" title="Permanent link">¶</a></h4> <p>Clients can discover available tools from servers</p> </li> <li> <h4 id="structured-interaction">Structured Interaction<a class="headerlink" href="#structured-interaction" title="Permanent link">¶</a></h4> <p>Well-defined input/output schemas using JSON</p> </li> <li> <h4 id="standardized-communication_1">Standardized Communication<a class="headerlink" href="#standardized-communication_1" title="Permanent link">¶</a></h4> <p>AI assistants can work with any MCP-compatible tool</p> </li> <li> <h4 id="tool-discovery_1">Tool Discovery<a class="headerlink" href="#tool-discovery_1" title="Permanent link">¶</a></h4> <p>Clients can discover available tools from servers</p> </li> <li> <h4 id="structured-interaction_1">Structured Interaction<a class="headerlink" href="#structured-interaction_1" title="Permanent link">¶</a></h4> <p>Well-defined input/output schemas using JSON</p> </li> <li> <h4 id="multiple-transports">Multiple Transports<a class="headerlink" href="#multiple-transports" title="Permanent link">¶</a></h4> <p>Supports stdio, HTTP, WebSocket</p> </li> </ul> </div> <hr/> <h3 id="the-problem-mcp-solves">The Problem MCP Solves<a class="headerlink" href="#the-problem-mcp-solves" title="Permanent link">¶</a></h3> <p>Before <code>MCP</code>, every AI application had to build custom integrations for each data source or tool it wanted to use. This led to:</p> <ul> <li><strong>Fragmentation</strong>: Each app using different methods to connect to the same services</li> <li><strong>Duplication</strong>: Developers rebuilding the same integrations repeatedly</li> <li><strong>Limited scalability</strong>: Adding new integrations was time-consuming and error-prone</li> <li><strong>Inconsistent experiences</strong>: No standard way for LLMs to interact with external systems</li> </ul> <hr/> <h3 id="the-mcp-solution">The MCP Solution<a class="headerlink" href="#the-mcp-solution" title="Permanent link">¶</a></h3> <p><code>MCP</code> provides a <strong>standardized protocol</strong> that:</p> <ul> <li>Enables <strong>universal connectivity</strong> between LLMs and data sources</li> <li>Allows <strong>one integration to work across all MCP-compatible applications</strong></li> <li>Provides a <strong>consistent interface</strong> for accessing tools, resources, and prompts</li> <li>Supports <strong>secure, controlled access</strong> to external systems</li> </ul> <hr/> <h2 id="mcp-architecture-overview">MCP Architecture Overview<a class="headerlink" href="#mcp-architecture-overview" title="Permanent link">¶</a></h2> <p><code>MCP</code> follows a <strong>client-server architecture</strong> with clear separation of concerns:</p> <pre class="mermaid"><code>graph TD
    A[MCP Client] --&gt; B[Ollama Module]
    A --&gt; C[IDEs &amp; Apps]
    A --&gt; D[AI Tools]
    B --&gt; E[MCP Protocol]
    C --&gt; E
    D --&gt; E
    E --&gt; F[MCP Server]
    F --&gt; G[Exposes: Tools, Resources &amp; Prompts]
    F --&gt; H[Connects to: APIs, Databases, Files, etc.]</code></pre> <hr/> <h3 id="k-agent-architecture-flow">K-Agent Architecture Flow<a class="headerlink" href="#k-agent-architecture-flow" title="Permanent link">¶</a></h3> <pre class="mermaid"><code>flowchart TD
    assistant[AI Assistant] --&gt;|MCP tool request| kagent[K-Agent MCP Server]
    kagent --&gt; toolRouter[K-Agent Tool Router]
    toolRouter --&gt;|kubeclient| k8s[Kubernetes API]
    toolRouter --&gt;|cloud sdk| clouds[Cloud Providers]
    kagent --&gt;|context updates| datastore[State &amp; Context Store]
    datastore --&gt;|observability| observ[Logs &amp; Metrics]
    k8s --&gt;|responses| kagent
    clouds --&gt;|responses| kagent
    kagent --&gt;|MCP response| assistant
    subgraph cluster [Kubernetes Cluster]
        direction LR
        k8s
        datastore
        observ
    end</code></pre> <hr/> <h2 id="mcp-components">MCP Components<a class="headerlink" href="#mcp-components" title="Permanent link">¶</a></h2> <p><img alt="MCP Components Diagram" class="center" src="../assets/images/MCP.svg" style="max-width:800; border-radius:20px;"/></p> <h3 id="mcp-server">MCP Server<a class="headerlink" href="#mcp-server" title="Permanent link">¶</a></h3> <div class="cards grid single-column"> <ul> <li> <h4 id="exposes-toolsresources-to-clients">Exposes tools/resources to clients<a class="headerlink" href="#exposes-toolsresources-to-clients" title="Permanent link">¶</a></h4> <ul> <li>Provides a standardized interface for tool interaction</li> <li>Allows AI assistants to discover and call tools</li> <li>Manages tool lifecycle and execution</li> <li>Handles tool errors and retries</li> </ul> </li> </ul> </div> <div class="cards grid single-column"> <ul> <li> <h4 id="implements-the-mcp-protocol">Implements the MCP protocol<a class="headerlink" href="#implements-the-mcp-protocol" title="Permanent link">¶</a></h4> <ul> <li>Follows JSON-RPC 2.0 specification</li> <li>Supports multiple transport layers (stdio, HTTP, WebSocket)</li> <li>Manages tool schemas and validation</li> <li>Supports tool discovery and listing</li> <li>Provides structured responses</li> </ul> </li> </ul> </div> <div class="cards grid single-column"> <ul> <li> <h4 id="typical-mcp-server-features">Typical MCP Server Features<a class="headerlink" href="#typical-mcp-server-features" title="Permanent link">¶</a></h4> <ul> <li>Runs as a standalone process or service</li> <li>Can be deployed locally or in the cloud</li> <li>Can run in containers or serverless environments</li> <li>Scales based on demand</li> <li>Monitors tool usage and performance</li> <li>Logs tool interactions for auditing</li> <li>Supports authentication and authorization</li> <li>Integrates with AI assistants and applications</li> <li>Defines tool schemas (inputs/outputs)</li> <li>Handles tool execution</li> </ul> </li> </ul> </div> <div class="cards grid single-column"> <ul> <li> <h4 id="mcp-server-notes">MCP Server Notes<a class="headerlink" href="#mcp-server-notes" title="Permanent link">¶</a></h4> <ul> <li>Communicates via transport layer (stdio, HTTP, WebSocket)</li> <li>Typically runs as a local process or container</li> <li>In K-Agent, the MCP server exposes Kubernetes and cloud management tools.</li> <li>The server listens for incoming MCP requests from AI assistants and executes the requested tools.</li> <li>In our lab The server translates MCP tool calls into Kubernetes API calls or cloud service operations.</li> <li>The server returns structured responses back to the AI assistant.</li> <li>The server can also update context/state in a datastore for persistent information.</li> <li>The server is implemented using the MCP SDK, which simplifies tool definition and communication handling.</li> <li>The server supports multiple transport layers, allowing it to communicate with different types of AI assistants.</li> </ul> </li> </ul> </div> <hr/> <h3 id="mcp-client">MCP Client<a class="headerlink" href="#mcp-client" title="Permanent link">¶</a></h3> <div class="cards grid single-column"> <ul> <li> <h3 id="general-mcp-client-features">General MCP Client Features<a class="headerlink" href="#general-mcp-client-features" title="Permanent link">¶</a></h3> <ul> <li>The application that hosts the LLM (e.g., Roo Code, VS Code, Visual Studio, etc.)</li> <li>Discovers available tools from MCP servers</li> <li>Sends tool call requests with parameters</li> <li>Receives and processes tool responses</li> <li>Manages tool invocation lifecycle</li> <li>Handles errors and retries</li> <li>Typically embedded in remote AI assistants (Claude, ChatGPT, etc.) or local models (Ollama, etc.)</li> <li>Presents server capabilities to the user/LLM</li> </ul> </li> </ul> </div> <div class="cards grid single-column"> <ul> <li> <h3 id="the-host-application">The Host Application<a class="headerlink" href="#the-host-application" title="Permanent link">¶</a></h3> <ul> <li>The <code>Client</code> is often part of a <strong>Host Application</strong> (like VS Code, Claude Desktop, or a CLI).</li> <li>The Host manages the connection to the MCP Server.</li> <li>It provides the user interface for interacting with the AI.</li> <li>It handles permissions (asking the user before running a tool).</li> </ul> </li> </ul> </div> <h3 id="client-capabilities">Client Capabilities<a class="headerlink" href="#client-capabilities" title="Permanent link">¶</a></h3> <table> <thead> <tr> <th>Capability</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong>Sampling</strong></td> <td>The server can request the client to sample an LLM (generate text).</td> </tr> <tr> <td><strong>Roots</strong></td> <td>The client can tell the server which files/folders are accessible.</td> </tr> <tr> <td><strong>Notifications</strong></td> <td>The client can receive notifications from the server (e.g. logs, progress).</td> </tr> <tr> <td><strong>Context Updates</strong></td> <td>The client can send context/state updates to the server.</td> </tr> <tr> <td><strong>Authentication</strong></td> <td>The client can provide authentication tokens/credentials to the server.</td> </tr> <tr> <td><strong>Transport</strong></td> <td>The client supports multiple transport layers (stdio, HTTP, WebSocket).</td> </tr> <tr> <td><strong>Error Handling</strong></td> <td>The client manages errors and retries for tool calls.</td> </tr> <tr> <td><strong>Tool Discovery</strong></td> <td>The client can list available tools from the server.</td> </tr> <tr> <td><strong>Tool Invocation</strong></td> <td>The client can call tools with parameters and receive structured responses.</td> </tr> <tr> <td><strong>Logging</strong></td> <td>The client can log tool interactions for auditing and debugging.</td> </tr> </tbody> </table> <hr/> <h3 id="transport-layer-mcp-communication">Transport Layer - MCP Communication<a class="headerlink" href="#transport-layer-mcp-communication" title="Permanent link">¶</a></h3> <ul> <li>MCP supports multiple transport mechanisms:</li> </ul> <table> <thead> <tr> <th>Protocol</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>stdio</code></td> <td>Standard input/output (used in K-Agent)</td> </tr> <tr> <td><code>HTTP</code></td> <td>RESTful API communication</td> </tr> <tr> <td><code>WebSocket</code></td> <td>Real-time bidirectional communication</td> </tr> <tr> <td><code>gRPC</code></td> <td>High-performance RPC framework</td> </tr> <tr> <td><code>MQTT</code></td> <td>Lightweight messaging protocol</td> </tr> <tr> <td><code>Custom</code></td> <td>Any custom transport implementation</td> </tr> </tbody> </table> <hr/> <h3 id="mcp-communication-flow">MCP Communication Flow<a class="headerlink" href="#mcp-communication-flow" title="Permanent link">¶</a></h3> <pre class="mermaid"><code>sequenceDiagram
    participant C as Client
    participant S as Server

    C-&gt;&gt;S: 1. Discover available tools
    C-&gt;&gt;S: 2. Send tool call request (parameters)
    Note over S: 3. Validate request against schema
    Note over S: 4. Execute tool logic
    S--&gt;&gt;C: 5. Return structured response
    Note over C: 6. Process response &amp; continue interaction</code></pre> <h2 id="mcp-tool-structure">MCP Tool Structure<a class="headerlink" href="#mcp-tool-structure" title="Permanent link">¶</a></h2> <ul> <li>An MCP tool consists of:</li> </ul> <div class="cards grid single-column"> <ul> <li> <h4 id="tool-definition">Tool Definition<a class="headerlink" href="#tool-definition" title="Permanent link">¶</a></h4> <ul> <li>Metadata about the tool (name, description)</li> <li>Input schema defining parameters</li> <li>Output schema defining response structure</li> <li>Versioning information</li> <li>Dependencies and requirements</li> <li>Authentication requirements</li> <li>Rate limiting information</li> <li>Error handling strategies</li> </ul> </li> </ul> </div> <div class="cards grid single-column"> <ul> <li> <h4 id="tool-handler">Tool Handler<a class="headerlink" href="#tool-handler" title="Permanent link">¶</a></h4> <ul> <li>Function that implements the tool’s logic</li> <li>Receives input parameters</li> <li>Performs the tool’s operation</li> <li>Returns structured output</li> <li>Handles errors and exceptions</li> <li>Logs execution details</li> <li>Manages state/context if needed</li> </ul> </li> </ul> </div> <div class="cards grid single-column"> <ul> <li> <h4 id="tool-execution-flow">Tool Execution Flow<a class="headerlink" href="#tool-execution-flow" title="Permanent link">¶</a></h4> <ul> <li>Client discovers tool from server</li> <li>Client sends tool call request with parameters</li> <li>Server validates request against tool schema</li> <li>Server invokes tool handler with parameters</li> <li>Tool handler executes logic and returns response</li> <li>Server sends structured response back to client</li> </ul> </li> </ul> </div> <div class="cards grid single-column"> <ul> <li> <h3 id="input-schema">Input Schema<a class="headerlink" href="#input-schema" title="Permanent link">¶</a></h3> <ul> <li>Defines expected parameters for the tool</li> <li>Uses JSON Schema format</li> <li>Specifies data types, required fields, and descriptions</li> <li>Enables validation of incoming requests</li> <li>Facilitates client-side form generation</li> <li>Supports complex nested structures</li> <li>Allows default values and constraints</li> <li>Enhances interoperability between clients and servers</li> </ul> </li> </ul> </div> <hr/> <h2 id="core-mcp-capabilities">Core MCP Capabilities<a class="headerlink" href="#core-mcp-capabilities" title="Permanent link">¶</a></h2> <p><code>MCP</code> servers can expose three main types of capabilities:</p> <h3 id="1-tools">1. <strong>Tools</strong><a class="headerlink" href="#1-tools" title="Permanent link">¶</a></h3> <p>Functions that the LLM can call to perform actions or retrieve information.</p> <p><strong>Examples:</strong></p> <ul> <li>Search a database</li> <li>Make an API call</li> <li>Perform calculations</li> <li>Execute system commands</li> </ul> <p><strong>Characteristics:</strong></p> <ul> <li>Defined with JSON Schema for input validation</li> <li>Return structured results</li> <li>Can have side effects (create, update, delete operations)</li> </ul> <h4 id="examples">Examples:<a class="headerlink" href="#examples" title="Permanent link">¶</a></h4> <ul> <li> <p><strong>Tool Definition</strong>:</p> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="p">{</span>
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"hello"</span><span class="p">,</span>
</span><span id="__span-0-3"><a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Returns a greeting message"</span><span class="p">,</span>
</span><span id="__span-0-4"><a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">  </span><span class="nx">inputSchema</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-5"><a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">    </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
</span><span id="__span-0-6"><a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">    </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-7"><a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-8"><a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">        </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span>
</span><span id="__span-0-9"><a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">        </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Name to greet"</span>
</span><span id="__span-0-10"><a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-0-11"><a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-0-12"><a href="#__codelineno-0-12" id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">    </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span>
</span><span id="__span-0-13"><a href="#__codelineno-0-13" id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-0-14"><a href="#__codelineno-0-14" id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="p">}</span>
</span></code></pre></div> </li> <li> <p><strong>Tool Handler:</strong></p> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleHello</span><span class="p">(</span><span class="nx">args</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-2"><a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-3"><a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-1-4"><a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-1-5"><a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">        </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-1-6"><a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">        </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Hello, </span><span class="si">${</span><span class="nx">args</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span>
</span><span id="__span-1-7"><a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-1-8"><a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-1-9"><a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-1-10"><a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="p">}</span>
</span></code></pre></div> </li> </ul> <hr/> <h3 id="2-resources">2. <strong>Resources</strong><a class="headerlink" href="#2-resources" title="Permanent link">¶</a></h3> <p>Contextual data that can be read by the LLM.</p> <p><strong>Examples:</strong></p> <ul> <li>File contents</li> <li>Database records</li> <li>API responses</li> <li>Documentation</li> </ul> <p><strong>Characteristics:</strong></p> <ul> <li>Identified by URI (Uniform Resource Identifier)</li> <li>Can be text, binary, or structured data</li> <li>Typically read-only</li> <li>Support for templates and subscriptions</li> </ul> <hr/> <h3 id="3-prompts">3. <strong>Prompts</strong><a class="headerlink" href="#3-prompts" title="Permanent link">¶</a></h3> <p>Pre-built prompt templates that users can invoke.</p> <p><strong>Examples:</strong></p> <ul> <li>Code review templates</li> <li>Documentation generation prompts</li> <li>Analysis frameworks</li> <li>Interaction patterns</li> </ul> <p><strong>Characteristics:</strong></p> <ul> <li>Can include embedded resources</li> <li>Support arguments for customization</li> <li>Help standardize common tasks</li> <li>Improve consistency and quality</li> </ul> <hr/> <h2 id="the-mcp-lifecycle">The MCP Lifecycle<a class="headerlink" href="#the-mcp-lifecycle" title="Permanent link">¶</a></h2> <p>Understanding how <code>MCP</code> clients and servers interact:</p> <h3 id="1-initialization">1. <strong>Initialization</strong><a class="headerlink" href="#1-initialization" title="Permanent link">¶</a></h3> <ul> <li>Client connects to server via transport layer</li> <li>Handshake to establish protocol version and capabilities</li> <li>Server sends initial tool/resource/prompt listings</li> <li>Client acknowledges and prepares for interaction</li> </ul> <h3 id="2-capability-discovery">2. <strong>Capability Discovery</strong><a class="headerlink" href="#2-capability-discovery" title="Permanent link">¶</a></h3> <ul> <li>Client requests list of available tools, resources, or prompts</li> <li>Server responds with detailed descriptions</li> <li>Client presents these to the user/LLM</li> <li>Client selects tools/resources/prompts to use</li> </ul> <h3 id="3-execution">3. <strong>Execution</strong><a class="headerlink" href="#3-execution" title="Permanent link">¶</a></h3> <ul> <li>Client sends requests to invoke tools, read resources, or render prompts</li> <li>Server processes the request</li> <li>Server returns results in standardized format</li> <li>Client handles the response and continues interaction</li> </ul> <h3 id="4-cleanup">4. <strong>Cleanup</strong><a class="headerlink" href="#4-cleanup" title="Permanent link">¶</a></h3> <ul> <li>Either party can close the connection</li> <li>Graceful shutdown with notifications</li> </ul> <hr/> <h2 id="mcp-communication-model">MCP Communication Model<a class="headerlink" href="#mcp-communication-model" title="Permanent link">¶</a></h2> <p><code>MCP</code> uses <strong>three types of messages</strong>:</p> <h3 id="1-requests">1. <strong>Requests</strong><a class="headerlink" href="#1-requests" title="Permanent link">¶</a></h3> <ul> <li>Require a response</li> <li>Include a unique request ID</li> <li>Examples: <code>tools/list</code>, <code>resources/read</code>, <code>tools/call</code></li> </ul> <h3 id="2-responses">2. <strong>Responses</strong><a class="headerlink" href="#2-responses" title="Permanent link">¶</a></h3> <ul> <li>Match to requests by ID</li> <li>Contain either results or errors</li> <li>Must be sent for every request</li> </ul> <h3 id="3-notifications">3. <strong>Notifications</strong><a class="headerlink" href="#3-notifications" title="Permanent link">¶</a></h3> <ul> <li>One-way messages</li> <li>Don’t require responses</li> <li>Examples: <code>notifications/initialized</code>, <code>notifications/cancelled</code></li> </ul> <hr/> <h2 id="security-considerations">Security Considerations<a class="headerlink" href="#security-considerations" title="Permanent link">¶</a></h2> <p>When working with <code>MCP</code>, keep these best practices in mind:</p> <ol> <li> <p><strong>Authentication &amp; Authorization</strong></p> <ul> <li>Servers should validate requests</li> <li>Use appropriate credentials management</li> <li>Implement least-privilege access</li> </ul> </li> <li> <p><strong>Data Privacy</strong></p> <ul> <li>Be mindful of what data is exposed</li> <li>Implement proper access controls</li> <li>Consider encryption for sensitive data</li> </ul> </li> <li> <p><strong>Rate Limiting</strong></p> <ul> <li>Protect against abuse</li> <li>Implement appropriate throttling</li> <li>Monitor usage patterns</li> </ul> </li> <li> <p><strong>Input Validation</strong></p> <ul> <li>Always validate tool inputs</li> <li>Sanitize user-provided data</li> <li>Prevent injection attacks</li> </ul> </li> </ol> <hr/> <h2 id="common-use-cases">Common Use Cases<a class="headerlink" href="#common-use-cases" title="Permanent link">¶</a></h2> <p><code>MCP</code> is ideal for:</p> <h3 id="enterprise-integration">Enterprise Integration<a class="headerlink" href="#enterprise-integration" title="Permanent link">¶</a></h3> <ul> <li>Connect LLMs to internal databases</li> <li>Access corporate knowledge bases</li> <li>Integrate with business tools (CRM, ERP, etc.)</li> </ul> <h3 id="developer-tools">Developer Tools<a class="headerlink" href="#developer-tools" title="Permanent link">¶</a></h3> <ul> <li>File system access</li> <li>Git operations</li> <li>Database queries</li> <li>API testing and documentation</li> </ul> <h3 id="data-analysis">Data Analysis<a class="headerlink" href="#data-analysis" title="Permanent link">¶</a></h3> <ul> <li>Query and visualize data</li> <li>Generate reports</li> <li>Perform statistical analysis</li> <li>Access multiple data sources</li> </ul> <h3 id="productivity">Productivity<a class="headerlink" href="#productivity" title="Permanent link">¶</a></h3> <ul> <li>Calendar and email management</li> <li>Task and project tracking</li> <li>Document processing</li> <li>Automated workflows</li> </ul> <hr/> <h2 id="mcp-vs-other-approaches">MCP vs. Other Approaches<a class="headerlink" href="#mcp-vs-other-approaches" title="Permanent link">¶</a></h2> <table> <thead> <tr> <th>Approach</th> <th>Pros</th> <th>Cons</th> </tr> </thead> <tbody> <tr> <td><strong>Function Calling</strong></td> <td>Simple, direct</td> <td>Requires custom implementation per app</td> </tr> <tr> <td><strong>API Integration</strong></td> <td>Flexible</td> <td>No standard, duplicated effort</td> </tr> <tr> <td><strong>MCP</strong></td> <td>Universal standard, reusable, scalable</td> <td>Requires initial setup</td> </tr> </tbody> </table> <hr/> <h2 id="hands-on-exercise">Hands-On Exercise<a class="headerlink" href="#hands-on-exercise" title="Permanent link">¶</a></h2> <h3 id="explore-an-mcp-server-configuration">Explore an MCP Server Configuration<a class="headerlink" href="#explore-an-mcp-server-configuration" title="Permanent link">¶</a></h3> <p>Look at how an <code>MCP</code> server is configured in a client application (like Roo Code):</p> <div class="language-json highlight"><pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="p">{</span>
</span><span id="__span-2-2"><a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">  </span><span class="nt">"mcpServers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-3"><a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span><span class="nt">"example-server"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-4"><a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">      </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node"</span><span class="p">,</span>
</span><span id="__span-2-5"><a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">      </span><span class="nt">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/path/to/server/index.js"</span><span class="p">],</span>
</span><span id="__span-2-6"><a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">      </span><span class="nt">"env"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-7"><a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">        </span><span class="nt">"API_KEY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-api-key"</span>
</span><span id="__span-2-8"><a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-2-9"><a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-2-10"><a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-2-11"><a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="p">}</span>
</span></code></pre></div> <hr/> <h2 id="testing-mcp-tools-ts">Testing MCP Tools (TS)<a class="headerlink" href="#testing-mcp-tools-ts" title="Permanent link">¶</a></h2> <h3 id="using-mcp-inspector">Using MCP Inspector<a class="headerlink" href="#using-mcp-inspector" title="Permanent link">¶</a></h3> <p><code>MCP Inspector</code> is a tool for testing MCP servers interactively.</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1"># Install mcp-inspector (if not already installed)</span>
</span><span id="__span-3-2"><a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a>npm<span class="w"> </span>install<span class="w"> </span>-g<span class="w"> </span>@modelcontextprotocol/inspector
</span><span id="__span-3-3"><a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a>
</span><span id="__span-3-4"><a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="c1"># Start the MCP Inspector with the TS code</span>
</span><span id="__span-3-5"><a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>node<span class="w"> </span>./build/index.js
</span></code></pre></div> <div class="admonition info"> <p class="admonition-title">MCP Inspector UI</p> <ul> <li>MCP Inspector will start a web interface at <code>http://localhost:6274</code></li> <li>You can also test tools programmatically using the examples below.</li> </ul> </div> <hr/> <p><strong>Step-by-step MCP Inspector Testing:</strong></p> <ol> <li> <p>Get the Authentication Token<br/> When you start MCP Inspector, the terminal displays:</p> <div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a>🔑 Session token: [long-token-string]
</span><span id="__span-4-2"><a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a>
</span><span id="__span-4-3"><a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a>🔗 Open inspector with token pre-filled:
</span><span id="__span-4-4"><a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a>    http://localhost:6274/?MCP_PROXY_AUTH_TOKEN=[token]
</span></code></pre></div> </li> <li> <p>Copy the Authentication URL<br/> Copy the complete URL with the token (the second line starting with <code>http://</code>)</p> </li> <li> <p>Open MCP Inspector in Your Browser<br/> Paste the complete URL with the token from step 2 into your browser. You’ll be authenticated immediately.</p> </li> <li> <p>Configure the Server Connection<br/> In the MCP Inspector interface:</p> <ul> <li>Verify the <strong>“Transport”</strong> is set to <strong><code>stdio</code></strong> (NOT http or streamable-http)</li> <li>You’ll see a <strong>“Command”</strong> field - it should already show: <code>node</code></li> <li>look for the <strong>“Argument”</strong> field - it should show: <code>/app/build/index.js</code></li> <li>Click the <strong>“Connect”</strong> button</li> <li>Wait for the status to show <strong>“Connected”</strong> with a green indicator</li> </ul> </li> <li> <p>Explore Available Tools:</p> <ul> <li>Once connected, click on the <strong>“Tools”</strong> tab at the top of the interface, and the on <strong>“List Tools”</strong> button</li> <li>You’ll see a list of available tools from your MCP server</li> </ul> </li> </ol> <div class="admonition warning"> <p class="admonition-title">Authentication Required</p> <ul> <li>The MCP Inspector requires authentication by default. </li> <li>Always use the URL with the token (shown in the terminal when you start the inspector), or manually enter the token in the Configuration settings. </li> <li>If you forget the token, restart the MCP Inspector to generate a new one.</li> </ul> </div> <div class="admonition tip"> <p class="admonition-title">Disabling Authentication (Development Only)</p> <p>Y* ou can disable authentication by setting the <code>DANGEROUSLY_OMIT_AUTH=true</code> environment variable: <div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="nv">DANGEROUSLY_OMIT_AUTH</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>node<span class="w"> </span>/app/build/index.js
</span></code></pre></div> <strong>⚠️ WARNING</strong>: This is dangerous and should ONLY be used in isolated development environments, never in production or when exposed to the internet.</p> </div> <div class="admonition warning"> <p class="admonition-title">Keep MCP Inspector Running</p> <ul> <li>Make sure the MCP Inspector command (<code>npx @modelcontextprotocol/inspector node /app/build/index.js</code>) is still running in your terminal. </li> <li>If the connection fails or you see errors, restart the command in the container.</li> </ul> </div> <div class="admonition tip"> <p class="admonition-title">Interactive Testing</p> <ul> <li>The MCP Inspector provides a user-friendly web interface to test your MCP server without writing code. </li> <li>This is perfect for debugging and understanding how MCP tools work before integrating them with AI assistants.</li> </ul> </div> <div class="admonition explore"> <p class="admonition-title">Understanding MCP Inspector Output</p> <ul> <li>The Inspector displays tool results in a readable format. </li> <li>Internally, MCP uses JSON-RPC 2.0 protocol with structured responses, but the UI shows you the human-readable content. </li> <li>For JSON view, see the “History” section below the UI</li> </ul> </div> <hr/> <h2 id="deep-dive-mcp-base-components-python-focus">Deep Dive: MCP Base Components (Python Focus)<a class="headerlink" href="#deep-dive-mcp-base-components-python-focus" title="Permanent link">¶</a></h2> <p>Now let’s examine the essential building blocks of MCP and how they’re implemented in Python. We’ll focus on the Python implementation since it’s often clearer and more accessible than TypeScript.</p> <h3 id="1-mcp-server-framework-fastmcp">1. <strong>MCP Server Framework (FastMCP)</strong><a class="headerlink" href="#1-mcp-server-framework-fastmcp" title="Permanent link">¶</a></h3> <p>The foundation of any MCP server is the server framework. In Python, we use <code>FastMCP</code>:</p> <div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">mcp.server.fastmcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastMCP</span>
</span><span id="__span-6-2"><a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a>
</span><span id="__span-6-3"><a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="c1"># Create the MCP server instance</span>
</span><span id="__span-6-4"><a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="n">mcp</span> <span class="o">=</span> <span class="n">FastMCP</span><span class="p">(</span><span class="s2">"my-mcp-server"</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">8889</span><span class="p">)</span>
</span></code></pre></div> <p><strong>What it does:</strong></p> <ul> <li>Provides the HTTP server infrastructure</li> <li>Handles JSON-RPC communication</li> <li>Manages tool, resource, and prompt registration</li> <li>Implements the MCP protocol handshake</li> </ul> <p><strong>What’s inside:</strong></p> <ul> <li>HTTP request handlers for all MCP endpoints</li> <li>Tool execution engine</li> <li>Resource serving system</li> <li>Prompt template management</li> </ul> <h3 id="2-tool-registration-decorator">2. <strong>Tool Registration Decorator</strong><a class="headerlink" href="#2-tool-registration-decorator" title="Permanent link">¶</a></h3> <p>Tools are the core functionality exposed by MCP servers:</p> <div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-7-2"><a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-7-3"><a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span><span class="sd">"""Returns a friendly greeting message"""</span>
</span><span id="__span-7-4"><a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">"Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">! Welcome to K-Agent Labs."</span>
</span></code></pre></div> <p><strong>What it produces:</strong></p> <ul> <li>A callable function registered with the MCP server</li> <li>JSON Schema for input validation</li> <li>Metadata for client discovery</li> </ul> <p><strong>What’s inside:</strong></p> <ul> <li>Function signature inspection</li> <li>Automatic parameter validation</li> <li>Execution tracking and logging</li> </ul> <h3 id="3-resource-handlers">3. <strong>Resource Handlers</strong><a class="headerlink" href="#3-resource-handlers" title="Permanent link">¶</a></h3> <p>Resources provide read-only data access:</p> <div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span><span class="s2">"mcp://server-info"</span><span class="p">)</span>
</span><span id="__span-8-2"><a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_server_info</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-8-3"><a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="sd">"""Returns information about this MCP server"""</span>
</span><span id="__span-8-4"><a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a>    <span class="k">return</span> <span class="s2">"""K-Agent MCP Server</span>
</span><span id="__span-8-5"><a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a>
</span><span id="__span-8-6"><a href="#__codelineno-8-6" id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="s2">Version: 0.1.0</span>
</span><span id="__span-8-7"><a href="#__codelineno-8-7" id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="s2">Capabilities:</span>
</span><span id="__span-8-8"><a href="#__codelineno-8-8" id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="s2">- Tools: hello, add</span>
</span><span id="__span-8-9"><a href="#__codelineno-8-9" id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="s2">- Prompts: code_review_prompt, debug_prompt</span>
</span><span id="__span-8-10"><a href="#__codelineno-8-10" id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="s2">- Resources: code, server-info</span>
</span><span id="__span-8-11"><a href="#__codelineno-8-11" id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="s2">"""</span>
</span></code></pre></div> <p><strong>What it produces:</strong></p> <ul> <li>A resource accessible via a URI</li> <li>Content generation logic</li> <li>MIME type specification</li> <li>URI-addressable data endpoints</li> <li>Structured metadata for discovery</li> <li>MIME type information</li> </ul> <h3 id="4-prompt-templates">4. <strong>Prompt Templates</strong><a class="headerlink" href="#4-prompt-templates" title="Permanent link">¶</a></h3> <p>Reusable prompt templates for consistent interactions:</p> <div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">prompt</span><span class="p">()</span>
</span><span id="__span-9-2"><a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">code_review_prompt</span><span class="p">(</span><span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">"python"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-9-3"><a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">    </span><span class="sd">"""Generate a code review prompt for the given code"""</span>
</span><span id="__span-9-4"><a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a>    <span class="c1"># Create the prompt template with proper markdown formatting</span>
</span><span id="__span-9-5"><a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a>    <span class="n">template</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"""Please review this </span><span class="si">{</span><span class="n">language</span><span class="si">}</span><span class="s2"> code and provide feedback:</span>
</span><span id="__span-9-6"><a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a>
</span><span id="__span-9-7"><a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="s2">``` + language + f"""</span>
</span><span id="__span-9-8"><a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="sd">""" + code + f"""</span>
</span><span id="__span-9-9"><a href="#__codelineno-9-9" id="__codelineno-9-9" name="__codelineno-9-9"></a>
</span><span id="__span-9-10"><a href="#__codelineno-9-10" id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="n">Focus</span> <span class="n">on</span><span class="p">:</span>
</span><span id="__span-9-11"><a href="#__codelineno-9-11" id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="o">-</span> <span class="n">Code</span> <span class="n">quality</span> <span class="ow">and</span> <span class="n">best</span> <span class="n">practices</span>
</span><span id="__span-9-12"><a href="#__codelineno-9-12" id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="o">-</span> <span class="n">Potential</span> <span class="n">bugs</span> <span class="ow">or</span> <span class="n">issues</span>
</span><span id="__span-9-13"><a href="#__codelineno-9-13" id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="o">-</span> <span class="n">Performance</span> <span class="n">improvements</span>
</span><span id="__span-9-14"><a href="#__codelineno-9-14" id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="o">-</span> <span class="n">Security</span> <span class="n">concerns</span>
</span><span id="__span-9-15"><a href="#__codelineno-9-15" id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="s2">"""</span>
</span><span id="__span-9-16"><a href="#__codelineno-9-16" id="__codelineno-9-16" name="__codelineno-9-16"></a><span class="s2">    return template</span>
</span></code></pre></div> <p><strong>What it produces:</strong></p> <ul> <li>A prompt template registered with the MCP server</li> <li>Argument definitions for dynamic rendering</li> <li>Metadata for client discovery</li> <li>Parameterized prompt templates</li> <li>Standardized interaction patterns</li> <li>Consistent output formatting</li> </ul> <p><strong>Example output when called:</strong> <div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a>Please review this python code and provide feedback:
</span><span id="__span-10-2"><a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a>
</span><span id="__span-10-3"><a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a>&amp;#96;&amp;#96;&amp;#96;python
</span><span id="__span-10-4"><a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a>def hello(): pass
</span><span id="__span-10-5"><a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a>&amp;#96;&amp;#96;&amp;#96;
</span><span id="__span-10-6"><a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a>
</span><span id="__span-10-7"><a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a>Focus on:
</span><span id="__span-10-8"><a href="#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a>- Code quality and best practices
</span><span id="__span-10-9"><a href="#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a>- Potential bugs or issues
</span><span id="__span-10-10"><a href="#__codelineno-10-10" id="__codelineno-10-10" name="__codelineno-10-10"></a>- Performance improvements
</span><span id="__span-10-11"><a href="#__codelineno-10-11" id="__codelineno-10-11" name="__codelineno-10-11"></a>- Security concerns
</span></code></pre></div></p> <h3 id="5-transport-layer-http-routes">5. <strong>Transport Layer (HTTP Routes)</strong><a class="headerlink" href="#5-transport-layer-http-routes" title="Permanent link">¶</a></h3> <p>Custom routes handle the MCP protocol communication:</p> <div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">custom_route</span><span class="p">(</span><span class="s2">"/.well-known/mcp"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"GET"</span><span class="p">,</span> <span class="s2">"OPTIONS"</span><span class="p">])</span>
</span><span id="__span-11-2"><a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">mcp_manifest</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JSONResponse</span><span class="p">:</span>
</span><span id="__span-11-3"><a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a>    <span class="n">manifest</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-11-4"><a href="#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a>        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"kagent-mcp-server"</span><span class="p">,</span>
</span><span id="__span-11-5"><a href="#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a>        <span class="s2">"version"</span><span class="p">:</span> <span class="s2">"0.1.0"</span><span class="p">,</span>
</span><span id="__span-11-6"><a href="#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a>        <span class="s2">"capabilities"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-11-7"><a href="#__codelineno-11-7" id="__codelineno-11-7" name="__codelineno-11-7"></a>            <span class="s2">"tools"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-11-8"><a href="#__codelineno-11-8" id="__codelineno-11-8" name="__codelineno-11-8"></a>            <span class="s2">"prompts"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-11-9"><a href="#__codelineno-11-9" id="__codelineno-11-9" name="__codelineno-11-9"></a>            <span class="s2">"resources"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-11-10"><a href="#__codelineno-11-10" id="__codelineno-11-10" name="__codelineno-11-10"></a>            <span class="s2">"sampling"</span><span class="p">:</span> <span class="kc">True</span>
</span><span id="__span-11-11"><a href="#__codelineno-11-11" id="__codelineno-11-11" name="__codelineno-11-11"></a>        <span class="p">}</span>
</span><span id="__span-11-12"><a href="#__codelineno-11-12" id="__codelineno-11-12" name="__codelineno-11-12"></a>    <span class="p">}</span>
</span><span id="__span-11-13"><a href="#__codelineno-11-13" id="__codelineno-11-13" name="__codelineno-11-13"></a>    <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">(</span><span class="n">manifest</span><span class="p">)</span>
</span></code></pre></div> <p><strong>What it does:</strong></p> <ul> <li>Implements MCP protocol endpoints</li> <li>Handles client-server negotiation</li> <li>Provides capability discovery</li> </ul> <hr/> <h2 id="mcp-method-flow-with-echo-commands">MCP Method Flow with Echo Commands<a class="headerlink" href="#mcp-method-flow-with-echo-commands" title="Permanent link">¶</a></h2> <p>Let’s trace through the Python methods called during a typical MCP interaction, with echo commands to show what’s happening:</p> <div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="c1"># 1. Server Initialization</span>
</span><span id="__span-12-2"><a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
</span><span id="__span-12-3"><a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🔧 Initializing MCP server..."</span><span class="p">)</span>
</span><span id="__span-12-4"><a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a>    <span class="n">mcp</span> <span class="o">=</span> <span class="n">FastMCP</span><span class="p">(</span><span class="s2">"kagent-mcp-server"</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">8889</span><span class="p">)</span>
</span><span id="__span-12-5"><a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"✅ Server instance created with port 8889"</span><span class="p">)</span>
</span><span id="__span-12-6"><a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a>
</span><span id="__span-12-7"><a href="#__codelineno-12-7" id="__codelineno-12-7" name="__codelineno-12-7"></a>    <span class="c1"># Register tools</span>
</span><span id="__span-12-8"><a href="#__codelineno-12-8" id="__codelineno-12-8" name="__codelineno-12-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🛠️  Registering tools..."</span><span class="p">)</span>
</span><span id="__span-12-9"><a href="#__codelineno-12-9" id="__codelineno-12-9" name="__codelineno-12-9"></a>    <span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-12-10"><a href="#__codelineno-12-10" id="__codelineno-12-10" name="__codelineno-12-10"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-12-11"><a href="#__codelineno-12-11" id="__codelineno-12-11" name="__codelineno-12-11"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"👋 Executing hello tool for </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-12-12"><a href="#__codelineno-12-12" id="__codelineno-12-12" name="__codelineno-12-12"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">"Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!"</span>
</span><span id="__span-12-13"><a href="#__codelineno-12-13" id="__codelineno-12-13" name="__codelineno-12-13"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"✅ Tool 'hello' registered"</span><span class="p">)</span>
</span><span id="__span-12-14"><a href="#__codelineno-12-14" id="__codelineno-12-14" name="__codelineno-12-14"></a>
</span><span id="__span-12-15"><a href="#__codelineno-12-15" id="__codelineno-12-15" name="__codelineno-12-15"></a>    <span class="c1"># Start the server</span>
</span><span id="__span-12-16"><a href="#__codelineno-12-16" id="__codelineno-12-16" name="__codelineno-12-16"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🚀 Starting MCP server..."</span><span class="p">)</span>
</span><span id="__span-12-17"><a href="#__codelineno-12-17" id="__codelineno-12-17" name="__codelineno-12-17"></a>    <span class="n">mcp</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">transport</span><span class="o">=</span><span class="s2">"streamable-http"</span><span class="p">,</span> <span class="n">mount_path</span><span class="o">=</span><span class="s2">"/mcp"</span><span class="p">)</span>
</span><span id="__span-12-18"><a href="#__codelineno-12-18" id="__codelineno-12-18" name="__codelineno-12-18"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"✅ Server running on http://localhost:8889"</span><span class="p">)</span>
</span><span id="__span-12-19"><a href="#__codelineno-12-19" id="__codelineno-12-19" name="__codelineno-12-19"></a>
</span><span id="__span-12-20"><a href="#__codelineno-12-20" id="__codelineno-12-20" name="__codelineno-12-20"></a><span class="c1"># 2. Client Connection Process</span>
</span><span id="__span-12-21"><a href="#__codelineno-12-21" id="__codelineno-12-21" name="__codelineno-12-21"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">connect_to_server</span><span class="p">():</span>
</span><span id="__span-12-22"><a href="#__codelineno-12-22" id="__codelineno-12-22" name="__codelineno-12-22"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🔗 Connecting to MCP server..."</span><span class="p">)</span>
</span><span id="__span-12-23"><a href="#__codelineno-12-23" id="__codelineno-12-23" name="__codelineno-12-23"></a>
</span><span id="__span-12-24"><a href="#__codelineno-12-24" id="__codelineno-12-24" name="__codelineno-12-24"></a>    <span class="c1"># Get manifest</span>
</span><span id="__span-12-25"><a href="#__codelineno-12-25" id="__codelineno-12-25" name="__codelineno-12-25"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"📋 Fetching server manifest..."</span><span class="p">)</span>
</span><span id="__span-12-26"><a href="#__codelineno-12-26" id="__codelineno-12-26" name="__codelineno-12-26"></a>    <span class="n">manifest</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">/.well-known/mcp"</span><span class="p">)</span>
</span><span id="__span-12-27"><a href="#__codelineno-12-27" id="__codelineno-12-27" name="__codelineno-12-27"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"✅ Got manifest: </span><span class="si">{</span><span class="n">manifest</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span><span class="si">}</span><span class="s2"> v</span><span class="si">{</span><span class="n">manifest</span><span class="p">[</span><span class="s1">'version'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-12-28"><a href="#__codelineno-12-28" id="__codelineno-12-28" name="__codelineno-12-28"></a>
</span><span id="__span-12-29"><a href="#__codelineno-12-29" id="__codelineno-12-29" name="__codelineno-12-29"></a>    <span class="c1"># Negotiate connection</span>
</span><span id="__span-12-30"><a href="#__codelineno-12-30" id="__codelineno-12-30" name="__codelineno-12-30"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🤝 Negotiating connection..."</span><span class="p">)</span>
</span><span id="__span-12-31"><a href="#__codelineno-12-31" id="__codelineno-12-31" name="__codelineno-12-31"></a>    <span class="n">negotiate_response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">/negotiate"</span><span class="p">)</span>
</span><span id="__span-12-32"><a href="#__codelineno-12-32" id="__codelineno-12-32" name="__codelineno-12-32"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"✅ Negotiation complete: </span><span class="si">{</span><span class="n">negotiate_response</span><span class="p">[</span><span class="s1">'transport'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-12-33"><a href="#__codelineno-12-33" id="__codelineno-12-33" name="__codelineno-12-33"></a>
</span><span id="__span-12-34"><a href="#__codelineno-12-34" id="__codelineno-12-34" name="__codelineno-12-34"></a>    <span class="c1"># List tools</span>
</span><span id="__span-12-35"><a href="#__codelineno-12-35" id="__codelineno-12-35" name="__codelineno-12-35"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"📋 Listing available tools..."</span><span class="p">)</span>
</span><span id="__span-12-36"><a href="#__codelineno-12-36" id="__codelineno-12-36" name="__codelineno-12-36"></a>    <span class="n">tools</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">/tools"</span><span class="p">)</span>
</span><span id="__span-12-37"><a href="#__codelineno-12-37" id="__codelineno-12-37" name="__codelineno-12-37"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"✅ Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">tools</span><span class="p">[</span><span class="s1">'tools'</span><span class="p">])</span><span class="si">}</span><span class="s2"> tools"</span><span class="p">)</span>
</span><span id="__span-12-38"><a href="#__codelineno-12-38" id="__codelineno-12-38" name="__codelineno-12-38"></a>
</span><span id="__span-12-39"><a href="#__codelineno-12-39" id="__codelineno-12-39" name="__codelineno-12-39"></a>    <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-12-40"><a href="#__codelineno-12-40" id="__codelineno-12-40" name="__codelineno-12-40"></a>
</span><span id="__span-12-41"><a href="#__codelineno-12-41" id="__codelineno-12-41" name="__codelineno-12-41"></a><span class="c1"># 3. Tool Execution Flow</span>
</span><span id="__span-12-42"><a href="#__codelineno-12-42" id="__codelineno-12-42" name="__codelineno-12-42"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute_tool_flow</span><span class="p">():</span>
</span><span id="__span-12-43"><a href="#__codelineno-12-43" id="__codelineno-12-43" name="__codelineno-12-43"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🎯 Executing tool 'hello'..."</span><span class="p">)</span>
</span><span id="__span-12-44"><a href="#__codelineno-12-44" id="__codelineno-12-44" name="__codelineno-12-44"></a>
</span><span id="__span-12-45"><a href="#__codelineno-12-45" id="__codelineno-12-45" name="__codelineno-12-45"></a>    <span class="c1"># Validate arguments</span>
</span><span id="__span-12-46"><a href="#__codelineno-12-46" id="__codelineno-12-46" name="__codelineno-12-46"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🔍 Validating tool arguments..."</span><span class="p">)</span>
</span><span id="__span-12-47"><a href="#__codelineno-12-47" id="__codelineno-12-47" name="__codelineno-12-47"></a>    <span class="c1"># (validation logic here)</span>
</span><span id="__span-12-48"><a href="#__codelineno-12-48" id="__codelineno-12-48" name="__codelineno-12-48"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"✅ Arguments valid"</span><span class="p">)</span>
</span><span id="__span-12-49"><a href="#__codelineno-12-49" id="__codelineno-12-49" name="__codelineno-12-49"></a>
</span><span id="__span-12-50"><a href="#__codelineno-12-50" id="__codelineno-12-50" name="__codelineno-12-50"></a>    <span class="c1"># Execute tool</span>
</span><span id="__span-12-51"><a href="#__codelineno-12-51" id="__codelineno-12-51" name="__codelineno-12-51"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"⚡ Calling tool function..."</span><span class="p">)</span>
</span><span id="__span-12-52"><a href="#__codelineno-12-52" id="__codelineno-12-52" name="__codelineno-12-52"></a>    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">execute_tool</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">,</span> <span class="p">{</span><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Alice"</span><span class="p">})</span>
</span><span id="__span-12-53"><a href="#__codelineno-12-53" id="__codelineno-12-53" name="__codelineno-12-53"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"✅ Tool executed successfully: </span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="s1">'result'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="__span-12-54"><a href="#__codelineno-12-54" id="__codelineno-12-54" name="__codelineno-12-54"></a>
</span><span id="__span-12-55"><a href="#__codelineno-12-55" id="__codelineno-12-55" name="__codelineno-12-55"></a>    <span class="c1"># Track execution</span>
</span><span id="__span-12-56"><a href="#__codelineno-12-56" id="__codelineno-12-56" name="__codelineno-12-56"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"📊 Recording execution metrics..."</span><span class="p">)</span>
</span><span id="__span-12-57"><a href="#__codelineno-12-57" id="__codelineno-12-57" name="__codelineno-12-57"></a>    <span class="c1"># (tracking logic here)</span>
</span><span id="__span-12-58"><a href="#__codelineno-12-58" id="__codelineno-12-58" name="__codelineno-12-58"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"✅ Execution tracked"</span><span class="p">)</span>
</span><span id="__span-12-59"><a href="#__codelineno-12-59" id="__codelineno-12-59" name="__codelineno-12-59"></a>
</span><span id="__span-12-60"><a href="#__codelineno-12-60" id="__codelineno-12-60" name="__codelineno-12-60"></a>    <span class="k">return</span> <span class="n">result</span>
</span><span id="__span-12-61"><a href="#__codelineno-12-61" id="__codelineno-12-61" name="__codelineno-12-61"></a>
</span><span id="__span-12-62"><a href="#__codelineno-12-62" id="__codelineno-12-62" name="__codelineno-12-62"></a><span class="c1"># 4. Resource Access Flow</span>
</span><span id="__span-12-63"><a href="#__codelineno-12-63" id="__codelineno-12-63" name="__codelineno-12-63"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">access_resource_flow</span><span class="p">():</span>
</span><span id="__span-12-64"><a href="#__codelineno-12-64" id="__codelineno-12-64" name="__codelineno-12-64"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"📖 Accessing resource..."</span><span class="p">)</span>
</span><span id="__span-12-65"><a href="#__codelineno-12-65" id="__codelineno-12-65" name="__codelineno-12-65"></a>
</span><span id="__span-12-66"><a href="#__codelineno-12-66" id="__codelineno-12-66" name="__codelineno-12-66"></a>    <span class="c1"># Resolve resource URI</span>
</span><span id="__span-12-67"><a href="#__codelineno-12-67" id="__codelineno-12-67" name="__codelineno-12-67"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🔗 Resolving resource URI..."</span><span class="p">)</span>
</span><span id="__span-12-68"><a href="#__codelineno-12-68" id="__codelineno-12-68" name="__codelineno-12-68"></a>    <span class="c1"># (URI resolution logic)</span>
</span><span id="__span-12-69"><a href="#__codelineno-12-69" id="__codelineno-12-69" name="__codelineno-12-69"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"✅ Resource resolved"</span><span class="p">)</span>
</span><span id="__span-12-70"><a href="#__codelineno-12-70" id="__codelineno-12-70" name="__codelineno-12-70"></a>
</span><span id="__span-12-71"><a href="#__codelineno-12-71" id="__codelineno-12-71" name="__codelineno-12-71"></a>    <span class="c1"># Fetch resource content</span>
</span><span id="__span-12-72"><a href="#__codelineno-12-72" id="__codelineno-12-72" name="__codelineno-12-72"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"📥 Fetching resource content..."</span><span class="p">)</span>
</span><span id="__span-12-73"><a href="#__codelineno-12-73" id="__codelineno-12-73" name="__codelineno-12-73"></a>    <span class="n">content</span> <span class="o">=</span> <span class="k">await</span> <span class="n">get_resource_content</span><span class="p">(</span><span class="s2">"mcp://server-info"</span><span class="p">)</span>
</span><span id="__span-12-74"><a href="#__codelineno-12-74" id="__codelineno-12-74" name="__codelineno-12-74"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"✅ Resource content retrieved (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">content</span><span class="p">)</span><span class="si">}</span><span class="s2"> chars)"</span><span class="p">)</span>
</span><span id="__span-12-75"><a href="#__codelineno-12-75" id="__codelineno-12-75" name="__codelineno-12-75"></a>
</span><span id="__span-12-76"><a href="#__codelineno-12-76" id="__codelineno-12-76" name="__codelineno-12-76"></a>    <span class="k">return</span> <span class="n">content</span>
</span><span id="__span-12-77"><a href="#__codelineno-12-77" id="__codelineno-12-77" name="__codelineno-12-77"></a>
</span><span id="__span-12-78"><a href="#__codelineno-12-78" id="__codelineno-12-78" name="__codelineno-12-78"></a><span class="c1"># 5. Prompt Usage Flow</span>
</span><span id="__span-12-79"><a href="#__codelineno-12-79" id="__codelineno-12-79" name="__codelineno-12-79"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">use_prompt_flow</span><span class="p">():</span>
</span><span id="__span-12-80"><a href="#__codelineno-12-80" id="__codelineno-12-80" name="__codelineno-12-80"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"📝 Using prompt template..."</span><span class="p">)</span>
</span><span id="__span-12-81"><a href="#__codelineno-12-81" id="__codelineno-12-81" name="__codelineno-12-81"></a>
</span><span id="__span-12-82"><a href="#__codelineno-12-82" id="__codelineno-12-82" name="__codelineno-12-82"></a>    <span class="c1"># Get prompt template</span>
</span><span id="__span-12-83"><a href="#__codelineno-12-83" id="__codelineno-12-83" name="__codelineno-12-83"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🔍 Finding prompt template..."</span><span class="p">)</span>
</span><span id="__span-12-84"><a href="#__codelineno-12-84" id="__codelineno-12-84" name="__codelineno-12-84"></a>    <span class="n">template</span> <span class="o">=</span> <span class="k">await</span> <span class="n">get_prompt_template</span><span class="p">(</span><span class="s2">"code_review_prompt"</span><span class="p">,</span> 
</span><span id="__span-12-85"><a href="#__codelineno-12-85" id="__codelineno-12-85" name="__codelineno-12-85"></a>                                       <span class="n">code</span><span class="o">=</span><span class="s2">"def test(): pass"</span><span class="p">)</span>
</span><span id="__span-12-86"><a href="#__codelineno-12-86" id="__codelineno-12-86" name="__codelineno-12-86"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"✅ Template retrieved (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">template</span><span class="p">)</span><span class="si">}</span><span class="s2"> chars)"</span><span class="p">)</span>
</span><span id="__span-12-87"><a href="#__codelineno-12-87" id="__codelineno-12-87" name="__codelineno-12-87"></a>
</span><span id="__span-12-88"><a href="#__codelineno-12-88" id="__codelineno-12-88" name="__codelineno-12-88"></a>    <span class="c1"># Render with arguments</span>
</span><span id="__span-12-89"><a href="#__codelineno-12-89" id="__codelineno-12-89" name="__codelineno-12-89"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🎨 Rendering prompt with arguments..."</span><span class="p">)</span>
</span><span id="__span-12-90"><a href="#__codelineno-12-90" id="__codelineno-12-90" name="__codelineno-12-90"></a>    <span class="n">final_prompt</span> <span class="o">=</span> <span class="n">template</span>  <span class="c1"># Already rendered</span>
</span><span id="__span-12-91"><a href="#__codelineno-12-91" id="__codelineno-12-91" name="__codelineno-12-91"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"✅ Prompt rendered"</span><span class="p">)</span>
</span><span id="__span-12-92"><a href="#__codelineno-12-92" id="__codelineno-12-92" name="__codelineno-12-92"></a>
</span><span id="__span-12-93"><a href="#__codelineno-12-93" id="__codelineno-12-93" name="__codelineno-12-93"></a>    <span class="c1"># Send to LLM</span>
</span><span id="__span-12-94"><a href="#__codelineno-12-94" id="__codelineno-12-94" name="__codelineno-12-94"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">"🤖 Sending to LLM for processing..."</span><span class="p">)</span>
</span><span id="__span-12-95"><a href="#__codelineno-12-95" id="__codelineno-12-95" name="__codelineno-12-95"></a>    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">sample_llm</span><span class="p">(</span><span class="n">final_prompt</span><span class="p">)</span>
</span><span id="__span-12-96"><a href="#__codelineno-12-96" id="__codelineno-12-96" name="__codelineno-12-96"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"✅ LLM response received (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="si">}</span><span class="s2"> chars)"</span><span class="p">)</span>
</span><span id="__span-12-97"><a href="#__codelineno-12-97" id="__codelineno-12-97" name="__codelineno-12-97"></a>
</span><span id="__span-12-98"><a href="#__codelineno-12-98" id="__codelineno-12-98" name="__codelineno-12-98"></a>    <span class="k">return</span> <span class="n">response</span>
</span></code></pre></div> <p><strong>Method Call Order:</strong></p> <ol> <li><code>FastMCP.__init__()</code> - Server initialization</li> <li><code>@mcp.tool()</code> decorator - Tool registration</li> <li><code>mcp.run()</code> - Start HTTP server</li> <li><code>/.well-known/mcp</code> GET - Client discovery</li> <li><code>/negotiate</code> GET - Connection negotiation</li> <li><code>/tools</code> POST - Tool discovery</li> <li><code>/tools/execute</code> POST - Tool execution</li> <li><code>/resources</code> GET - Resource discovery</li> <li><code>/sampling</code> POST - LLM interaction</li> </ol> <hr/> <h2 id="what-realizes-mcp">What Realizes MCP<a class="headerlink" href="#what-realizes-mcp" title="Permanent link">¶</a></h2> <h3 id="what-makes-mcp-work">What Makes MCP Work<a class="headerlink" href="#what-makes-mcp-work" title="Permanent link">¶</a></h3> <p>MCP is realized through several key mechanisms:</p> <h4 id="1-protocol-standardization">1. <strong>Protocol Standardization</strong><a class="headerlink" href="#1-protocol-standardization" title="Permanent link">¶</a></h4> <ul> <li><strong>JSON-RPC 2.0</strong> as the communication protocol</li> <li><strong>HTTP transport</strong> for reliable message delivery</li> <li><strong>Capability negotiation</strong> during connection establishment</li> <li><strong>Structured error handling</strong> and response formatting</li> </ul> <h4 id="2-component-integration">2. <strong>Component Integration</strong><a class="headerlink" href="#2-component-integration" title="Permanent link">¶</a></h4> <ul> <li><strong>Server frameworks</strong> (FastMCP, MCP SDK) that implement the protocol</li> <li><strong>Client libraries</strong> that know how to communicate with servers</li> <li><strong>Tool execution engines</strong> that safely run server-provided functions</li> <li><strong>Resource resolution systems</strong> that handle URI-based data access</li> </ul> <h4 id="3-security-boundaries">3. <strong>Security Boundaries</strong><a class="headerlink" href="#3-security-boundaries" title="Permanent link">¶</a></h4> <ul> <li><strong>Process isolation</strong> between client and server</li> <li><strong>Input validation</strong> using JSON Schema</li> <li><strong>Access control</strong> through authentication tokens</li> <li><strong>Rate limiting</strong> and abuse prevention</li> </ul> <h3 id="whats-still-missing">What’s Still Missing<a class="headerlink" href="#whats-still-missing" title="Permanent link">¶</a></h3> <p>While MCP provides a solid foundation, some aspects are still evolving:</p> <h4 id="1-advanced-authentication">1. <strong>Advanced Authentication</strong><a class="headerlink" href="#1-advanced-authentication" title="Permanent link">¶</a></h4> <ul> <li>OAuth 2.0 integration patterns</li> <li>Role-based access control (RBAC)</li> <li>Token refresh mechanisms</li> </ul> <h4 id="2-streaming-and-real-time-updates">2. <strong>Streaming and Real-time Updates</strong><a class="headerlink" href="#2-streaming-and-real-time-updates" title="Permanent link">¶</a></h4> <ul> <li>Server-sent events for live data</li> <li>WebSocket support for bidirectional streaming</li> <li>Real-time resource subscriptions</li> </ul> <h4 id="3-performance-optimization">3. <strong>Performance Optimization</strong><a class="headerlink" href="#3-performance-optimization" title="Permanent link">¶</a></h4> <ul> <li>Connection pooling</li> <li>Caching strategies</li> <li>Batch operation optimizations</li> </ul> <h4 id="4-enterprise-features">4. <strong>Enterprise Features</strong><a class="headerlink" href="#4-enterprise-features" title="Permanent link">¶</a></h4> <ul> <li>Audit logging and compliance</li> <li>Multi-tenant isolation</li> <li>Service mesh integration</li> </ul> <h3 id="extra-value-mcp-provides">Extra Value MCP Provides<a class="headerlink" href="#extra-value-mcp-provides" title="Permanent link">¶</a></h3> <p>Beyond basic integration, MCP adds significant value:</p> <h4 id="1-developer-experience">1. <strong>Developer Experience</strong><a class="headerlink" href="#1-developer-experience" title="Permanent link">¶</a></h4> <ul> <li><strong>Consistent APIs</strong> across different tools and services</li> <li><strong>Auto-discovery</strong> of capabilities</li> <li><strong>Type safety</strong> through schema validation</li> <li><strong>Rich tooling</strong> (debuggers, inspectors, documentation)</li> </ul> <h4 id="2-operational-benefits">2. <strong>Operational Benefits</strong><a class="headerlink" href="#2-operational-benefits" title="Permanent link">¶</a></h4> <ul> <li><strong>Centralized management</strong> of AI integrations</li> <li><strong>Version compatibility</strong> checking</li> <li><strong>Health monitoring</strong> and metrics</li> <li><strong>Graceful degradation</strong> when services are unavailable</li> </ul> <h4 id="3-security-advantages">3. <strong>Security Advantages</strong><a class="headerlink" href="#3-security-advantages" title="Permanent link">¶</a></h4> <ul> <li><strong>Controlled access</strong> to external systems</li> <li><strong>Audit trails</strong> of AI actions</li> <li><strong>Input sanitization</strong> and validation</li> <li><strong>Isolation</strong> between different integrations</li> </ul> <h4 id="4-scalability-features">4. <strong>Scalability Features</strong><a class="headerlink" href="#4-scalability-features" title="Permanent link">¶</a></h4> <ul> <li><strong>Horizontal scaling</strong> of MCP servers</li> <li><strong>Load balancing</strong> across multiple instances</li> <li><strong>Caching layers</strong> for performance</li> <li><strong>Circuit breakers</strong> for resilience</li> </ul> <hr/> <h2 id="core-primitive-operations">Core Primitive Operations<a class="headerlink" href="#core-primitive-operations" title="Permanent link">¶</a></h2> <p>Let’s examine the fundamental MCP operations that make everything work:</p> <h3 id="1-wellknownmcp-server-discovery">1. <strong>wellknown/mcp</strong> - Server Discovery<a class="headerlink" href="#1-wellknownmcp-server-discovery" title="Permanent link">¶</a></h3> <p><strong>Location:</strong> <code>/.well-known/mcp</code> endpoint<br/> <strong>When it happens:</strong> During initial client connection<br/> <strong>How it works:</strong> <div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">custom_route</span><span class="p">(</span><span class="s2">"/.well-known/mcp"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"GET"</span><span class="p">])</span>
</span><span id="__span-13-2"><a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">mcp_manifest</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JSONResponse</span><span class="p">:</span>
</span><span id="__span-13-3"><a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a>    <span class="n">manifest</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-13-4"><a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a>        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"kagent-mcp-server"</span><span class="p">,</span>
</span><span id="__span-13-5"><a href="#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a>        <span class="s2">"version"</span><span class="p">:</span> <span class="s2">"0.1.0"</span><span class="p">,</span>
</span><span id="__span-13-6"><a href="#__codelineno-13-6" id="__codelineno-13-6" name="__codelineno-13-6"></a>        <span class="s2">"capabilities"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-13-7"><a href="#__codelineno-13-7" id="__codelineno-13-7" name="__codelineno-13-7"></a>            <span class="s2">"tools"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-13-8"><a href="#__codelineno-13-8" id="__codelineno-13-8" name="__codelineno-13-8"></a>            <span class="s2">"prompts"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-13-9"><a href="#__codelineno-13-9" id="__codelineno-13-9" name="__codelineno-13-9"></a>            <span class="s2">"resources"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-13-10"><a href="#__codelineno-13-10" id="__codelineno-13-10" name="__codelineno-13-10"></a>            <span class="s2">"sampling"</span><span class="p">:</span> <span class="kc">True</span>
</span><span id="__span-13-11"><a href="#__codelineno-13-11" id="__codelineno-13-11" name="__codelineno-13-11"></a>        <span class="p">},</span>
</span><span id="__span-13-12"><a href="#__codelineno-13-12" id="__codelineno-13-12" name="__codelineno-13-12"></a>        <span class="s2">"endpoints"</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-13-13"><a href="#__codelineno-13-13" id="__codelineno-13-13" name="__codelineno-13-13"></a>            <span class="s2">"negotiate"</span><span class="p">:</span> <span class="s2">"/negotiate"</span><span class="p">,</span>
</span><span id="__span-13-14"><a href="#__codelineno-13-14" id="__codelineno-13-14" name="__codelineno-13-14"></a>            <span class="s2">"tools"</span><span class="p">:</span> <span class="s2">"/tools"</span><span class="p">,</span>
</span><span id="__span-13-15"><a href="#__codelineno-13-15" id="__codelineno-13-15" name="__codelineno-13-15"></a>            <span class="s2">"resources"</span><span class="p">:</span> <span class="s2">"/resources"</span><span class="p">,</span>
</span><span id="__span-13-16"><a href="#__codelineno-13-16" id="__codelineno-13-16" name="__codelineno-13-16"></a>            <span class="s2">"sampling"</span><span class="p">:</span> <span class="s2">"/sampling"</span>
</span><span id="__span-13-17"><a href="#__codelineno-13-17" id="__codelineno-13-17" name="__codelineno-13-17"></a>        <span class="p">}</span>
</span><span id="__span-13-18"><a href="#__codelineno-13-18" id="__codelineno-13-18" name="__codelineno-13-18"></a>    <span class="p">}</span>
</span><span id="__span-13-19"><a href="#__codelineno-13-19" id="__codelineno-13-19" name="__codelineno-13-19"></a>    <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">(</span><span class="n">manifest</span><span class="p">)</span>
</span></code></pre></div></p> <p><strong>Outcome:</strong> Client learns server capabilities and available endpoints</p> <h3 id="2-negotiate-connection-establishment">2. <strong>negotiate</strong> - Connection Establishment<a class="headerlink" href="#2-negotiate-connection-establishment" title="Permanent link">¶</a></h3> <p><strong>Location:</strong> <code>/negotiate</code> endpoint<br/> <strong>When it happens:</strong> After manifest discovery, before using server<br/> <strong>How it works:</strong> <div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">custom_route</span><span class="p">(</span><span class="s2">"/negotiate"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"GET"</span><span class="p">,</span> <span class="s2">"POST"</span><span class="p">])</span>
</span><span id="__span-14-2"><a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">negotiate</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JSONResponse</span><span class="p">:</span>
</span><span id="__span-14-3"><a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a>    <span class="n">token</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"x-proxy-token"</span><span class="p">)</span>
</span><span id="__span-14-4"><a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a>    <span class="n">response</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-14-5"><a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a>        <span class="s2">"transport"</span><span class="p">:</span> <span class="s2">"streamable-http"</span><span class="p">,</span>
</span><span id="__span-14-6"><a href="#__codelineno-14-6" id="__codelineno-14-6" name="__codelineno-14-6"></a>        <span class="s2">"url"</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">scheme</span><span class="si">}</span><span class="s2">://</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">host</span><span class="si">}</span><span class="s2">/mcp"</span>
</span><span id="__span-14-7"><a href="#__codelineno-14-7" id="__codelineno-14-7" name="__codelineno-14-7"></a>    <span class="p">}</span>
</span><span id="__span-14-8"><a href="#__codelineno-14-8" id="__codelineno-14-8" name="__codelineno-14-8"></a>    <span class="k">if</span> <span class="n">token</span><span class="p">:</span>
</span><span id="__span-14-9"><a href="#__codelineno-14-9" id="__codelineno-14-9" name="__codelineno-14-9"></a>        <span class="n">response</span><span class="p">[</span><span class="s2">"proxy_token"</span><span class="p">]</span> <span class="o">=</span> <span class="n">token</span>
</span><span id="__span-14-10"><a href="#__codelineno-14-10" id="__codelineno-14-10" name="__codelineno-14-10"></a>    <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</span></code></pre></div></p> <p><strong>Outcome:</strong> Establishes authenticated connection parameters</p> <h3 id="3-toolcall-tool-execution">3. <strong>tool/call</strong> - Tool Execution<a class="headerlink" href="#3-toolcall-tool-execution" title="Permanent link">¶</a></h3> <p><strong>Location:</strong> <code>/tools/execute</code> endpoint<br/> <strong>When it happens:</strong> When client wants to execute a tool function<br/> <strong>How it works:</strong> <div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">custom_route</span><span class="p">(</span><span class="s2">"/tools/execute"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"POST"</span><span class="p">])</span>
</span><span id="__span-15-2"><a href="#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">tool_execute</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JSONResponse</span><span class="p">:</span>
</span><span id="__span-15-3"><a href="#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a>    <span class="n">body</span> <span class="o">=</span> <span class="k">await</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span><span id="__span-15-4"><a href="#__codelineno-15-4" id="__codelineno-15-4" name="__codelineno-15-4"></a>    <span class="n">tool_name</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"tool"</span><span class="p">)</span>
</span><span id="__span-15-5"><a href="#__codelineno-15-5" id="__codelineno-15-5" name="__codelineno-15-5"></a>    <span class="n">arguments</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"arguments"</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="__span-15-6"><a href="#__codelineno-15-6" id="__codelineno-15-6" name="__codelineno-15-6"></a>
</span><span id="__span-15-7"><a href="#__codelineno-15-7" id="__codelineno-15-7" name="__codelineno-15-7"></a>    <span class="c1"># Validate and execute</span>
</span><span id="__span-15-8"><a href="#__codelineno-15-8" id="__codelineno-15-8" name="__codelineno-15-8"></a>    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">execute_tool</span><span class="p">(</span><span class="n">tool_name</span><span class="p">,</span> <span class="n">arguments</span><span class="p">)</span>
</span><span id="__span-15-9"><a href="#__codelineno-15-9" id="__codelineno-15-9" name="__codelineno-15-9"></a>    <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></code></pre></div></p> <p><strong>Outcome:</strong> Executes server-side function and returns structured result</p> <h3 id="4-resourceread-resource-access">4. <strong>resource/read</strong> - Resource Access<a class="headerlink" href="#4-resourceread-resource-access" title="Permanent link">¶</a></h3> <p><strong>Location:</strong> <code>/resources</code> endpoint (for listing) or direct URI resolution<br/> <strong>When it happens:</strong> When client needs to access data resources<br/> <strong>How it works:</strong> <div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a href="#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span><span class="s2">"mcp://server-info"</span><span class="p">)</span>
</span><span id="__span-16-2"><a href="#__codelineno-16-2" id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_server_info</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-16-3"><a href="#__codelineno-16-3" id="__codelineno-16-3" name="__codelineno-16-3"></a>    <span class="k">return</span> <span class="s2">"Server information content"</span>
</span><span id="__span-16-4"><a href="#__codelineno-16-4" id="__codelineno-16-4" name="__codelineno-16-4"></a>
</span><span id="__span-16-5"><a href="#__codelineno-16-5" id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="c1"># Or via endpoint:</span>
</span><span id="__span-16-6"><a href="#__codelineno-16-6" id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">custom_route</span><span class="p">(</span><span class="s2">"/resources"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"GET"</span><span class="p">])</span>
</span><span id="__span-16-7"><a href="#__codelineno-16-7" id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">resources_list</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JSONResponse</span><span class="p">:</span>
</span><span id="__span-16-8"><a href="#__codelineno-16-8" id="__codelineno-16-8" name="__codelineno-16-8"></a>    <span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-16-9"><a href="#__codelineno-16-9" id="__codelineno-16-9" name="__codelineno-16-9"></a>        <span class="p">{</span>
</span><span id="__span-16-10"><a href="#__codelineno-16-10" id="__codelineno-16-10" name="__codelineno-16-10"></a>            <span class="s2">"uri"</span><span class="p">:</span> <span class="s2">"mcp://server-info"</span><span class="p">,</span>
</span><span id="__span-16-11"><a href="#__codelineno-16-11" id="__codelineno-16-11" name="__codelineno-16-11"></a>            <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Server Information"</span><span class="p">,</span>
</span><span id="__span-16-12"><a href="#__codelineno-16-12" id="__codelineno-16-12" name="__codelineno-16-12"></a>            <span class="s2">"mimeType"</span><span class="p">:</span> <span class="s2">"text/plain"</span>
</span><span id="__span-16-13"><a href="#__codelineno-16-13" id="__codelineno-16-13" name="__codelineno-16-13"></a>        <span class="p">}</span>
</span><span id="__span-16-14"><a href="#__codelineno-16-14" id="__codelineno-16-14" name="__codelineno-16-14"></a>    <span class="p">]</span>
</span><span id="__span-16-15"><a href="#__codelineno-16-15" id="__codelineno-16-15" name="__codelineno-16-15"></a>    <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">({</span><span class="s2">"resources"</span><span class="p">:</span> <span class="n">resources</span><span class="p">})</span>
</span></code></pre></div></p> <p><strong>Outcome:</strong> Provides access to structured data through URI-based addressing</p> <h3 id="5-sampling-llm-integration">5. <strong>sampling</strong> - LLM Integration<a class="headerlink" href="#5-sampling-llm-integration" title="Permanent link">¶</a></h3> <p><strong>Location:</strong> <code>/sampling</code> endpoint<br/> <strong>When it happens:</strong> When client needs LLM processing<br/> <strong>How it works:</strong> <div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">custom_route</span><span class="p">(</span><span class="s2">"/sampling"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"POST"</span><span class="p">])</span>
</span><span id="__span-17-2"><a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">sampling</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JSONResponse</span><span class="p">:</span>
</span><span id="__span-17-3"><a href="#__codelineno-17-3" id="__codelineno-17-3" name="__codelineno-17-3"></a>    <span class="n">body</span> <span class="o">=</span> <span class="k">await</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span><span id="__span-17-4"><a href="#__codelineno-17-4" id="__codelineno-17-4" name="__codelineno-17-4"></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"prompt"</span><span class="p">)</span>
</span><span id="__span-17-5"><a href="#__codelineno-17-5" id="__codelineno-17-5" name="__codelineno-17-5"></a>
</span><span id="__span-17-6"><a href="#__codelineno-17-6" id="__codelineno-17-6" name="__codelineno-17-6"></a>    <span class="c1"># Call LLM API</span>
</span><span id="__span-17-7"><a href="#__codelineno-17-7" id="__codelineno-17-7" name="__codelineno-17-7"></a>    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">call_llm_api</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
</span><span id="__span-17-8"><a href="#__codelineno-17-8" id="__codelineno-17-8" name="__codelineno-17-8"></a>    <span class="k">return</span> <span class="n">JSONResponse</span><span class="p">({</span>
</span><span id="__span-17-9"><a href="#__codelineno-17-9" id="__codelineno-17-9" name="__codelineno-17-9"></a>        <span class="s2">"completion"</span><span class="p">:</span> <span class="n">response</span><span class="p">,</span>
</span><span id="__span-17-10"><a href="#__codelineno-17-10" id="__codelineno-17-10" name="__codelineno-17-10"></a>        <span class="s2">"model"</span><span class="p">:</span> <span class="s2">"llama3.2:latest"</span>
</span><span id="__span-17-11"><a href="#__codelineno-17-11" id="__codelineno-17-11" name="__codelineno-17-11"></a>    <span class="p">})</span>
</span></code></pre></div></p> <p><strong>Outcome:</strong> Enables AI processing through standardized interface</p> <hr/> <h2 id="building-your-own-mcp-components">Building Your Own MCP Components<a class="headerlink" href="#building-your-own-mcp-components" title="Permanent link">¶</a></h2> <h3 id="step-by-step-creating-a-basic-tool">Step-by-Step: Creating a Basic Tool<a class="headerlink" href="#step-by-step-creating-a-basic-tool" title="Permanent link">¶</a></h3> <div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a href="#__codelineno-18-1" id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">mcp.server.fastmcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastMCP</span>
</span><span id="__span-18-2"><a href="#__codelineno-18-2" id="__codelineno-18-2" name="__codelineno-18-2"></a>
</span><span id="__span-18-3"><a href="#__codelineno-18-3" id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="n">mcp</span> <span class="o">=</span> <span class="n">FastMCP</span><span class="p">(</span><span class="s2">"my-basic-server"</span><span class="p">)</span>
</span><span id="__span-18-4"><a href="#__codelineno-18-4" id="__codelineno-18-4" name="__codelineno-18-4"></a>
</span><span id="__span-18-5"><a href="#__codelineno-18-5" id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-18-6"><a href="#__codelineno-18-6" id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">calculate_area</span><span class="p">(</span><span class="n">length</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-18-7"><a href="#__codelineno-18-7" id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="w">    </span><span class="sd">"""Calculate the area of a rectangle"""</span>
</span><span id="__span-18-8"><a href="#__codelineno-18-8" id="__codelineno-18-8" name="__codelineno-18-8"></a>    <span class="n">area</span> <span class="o">=</span> <span class="n">length</span> <span class="o">*</span> <span class="n">width</span>
</span><span id="__span-18-9"><a href="#__codelineno-18-9" id="__codelineno-18-9" name="__codelineno-18-9"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">"The area of a rectangle with length </span><span class="si">{</span><span class="n">length</span><span class="si">}</span><span class="s2"> and width </span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">area</span><span class="si">}</span><span class="s2">"</span>
</span><span id="__span-18-10"><a href="#__codelineno-18-10" id="__codelineno-18-10" name="__codelineno-18-10"></a>
</span><span id="__span-18-11"><a href="#__codelineno-18-11" id="__codelineno-18-11" name="__codelineno-18-11"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">resource</span><span class="p">(</span><span class="s2">"mcp://math-constants"</span><span class="p">)</span>
</span><span id="__span-18-12"><a href="#__codelineno-18-12" id="__codelineno-18-12" name="__codelineno-18-12"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_math_constants</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-18-13"><a href="#__codelineno-18-13" id="__codelineno-18-13" name="__codelineno-18-13"></a><span class="w">    </span><span class="sd">"""Returns common mathematical constants"""</span>
</span><span id="__span-18-14"><a href="#__codelineno-18-14" id="__codelineno-18-14" name="__codelineno-18-14"></a>    <span class="k">return</span> <span class="s2">"""</span>
</span><span id="__span-18-15"><a href="#__codelineno-18-15" id="__codelineno-18-15" name="__codelineno-18-15"></a><span class="s2">Pi: 3.14159</span>
</span><span id="__span-18-16"><a href="#__codelineno-18-16" id="__codelineno-18-16" name="__codelineno-18-16"></a><span class="s2">E: 2.71828</span>
</span><span id="__span-18-17"><a href="#__codelineno-18-17" id="__codelineno-18-17" name="__codelineno-18-17"></a><span class="s2">Golden Ratio: 1.61803</span>
</span><span id="__span-18-18"><a href="#__codelineno-18-18" id="__codelineno-18-18" name="__codelineno-18-18"></a><span class="s2">"""</span>
</span><span id="__span-18-19"><a href="#__codelineno-18-19" id="__codelineno-18-19" name="__codelineno-18-19"></a>
</span><span id="__span-18-20"><a href="#__codelineno-18-20" id="__codelineno-18-20" name="__codelineno-18-20"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
</span><span id="__span-18-21"><a href="#__codelineno-18-21" id="__codelineno-18-21" name="__codelineno-18-21"></a>    <span class="n">mcp</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div> <p><strong>What this produces:</strong> - A tool that can be called by MCP clients - A resource that can be read by clients - A complete MCP server ready to run</p> <p><strong>What’s inside each component:</strong> - <strong>Tool:</strong> Function + JSON schema + metadata - <strong>Resource:</strong> URI + content generator + MIME type - <strong>Server:</strong> HTTP handlers + protocol implementation + capability management</p> <hr/> <h2 id="key-takeaways">Key Takeaways<a class="headerlink" href="#key-takeaways" title="Permanent link">¶</a></h2> <p>✅ MCP consists of <strong>server frameworks</strong>, <strong>tool decorators</strong>, <strong>resource handlers</strong>, and <strong>transport layers</strong></p> <p>✅ Python methods follow a <strong>clear execution flow</strong>: init → register → run → handle requests</p> <p>✅ MCP is realized through <strong>protocol standardization</strong>, <strong>component integration</strong>, and <strong>security boundaries</strong></p> <p>✅ Core primitives handle <strong>discovery</strong> (<code>wellknown/mcp</code>), <strong>connection</strong> (<code>negotiate</code>), <strong>execution</strong> (<code>tool/call</code>), and <strong>data access</strong> (<code>resource/read</code>)</p> <p>✅ Each step produces <strong>structured outputs</strong> with <strong>clear interfaces</strong> and <strong>validation</strong></p> <p>✅ <strong>Extra value</strong> comes from <strong>consistency</strong>, <strong>security</strong>, <strong>scalability</strong>, and <strong>developer experience</strong></p> <h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">¶</a></h2> <p>In <strong>Lab 2</strong>, you’ll get hands-on experience by building your first MCP server from scratch. You’ll learn:</p> <ul> <li>Setting up the development environment</li> <li>Creating a basic MCP server structure</li> <li>Implementing the initialization handshake</li> <li>Testing your server with an MCP client</li> </ul> <h2 id="additional-resources">Additional Resources<a class="headerlink" href="#additional-resources" title="Permanent link">¶</a></h2> <ul> <li><a href="https://modelcontextprotocol.io">MCP Official Documentation</a></li> <li><a href="https://spec.modelcontextprotocol.io">MCP Specification</a></li> <li><a href="https://github.com/modelcontextprotocol">MCP GitHub Repository</a></li> <li><a href="https://www.jsonrpc.org/specification">JSON-RPC 2.0 Specification</a></li> <li><a href="https://github.com/jlowin/fastmcp">FastMCP Python Library</a></li> </ul> <hr/> <p><strong>Ready to build your first MCP server? <a href="../Lab02-First-MCP-Server/index.md">Continue to Lab 2!</a></strong></p> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Render date of last update --> <!-- Render date of creation --> <!-- ---------------------------------------------------------------------- --> <!-- Render authors --> <!-- ---------------------------------------------------------------------- --> <!-- Render committers from GitHub --> <!-- Render committers from GitLab --> <!-- Render committers --> <!-- ---------------------------------------------------------------------- --> <!-- Determine date of last update --> <!-- Determine date of creation --> <!-- Source file information --> <aside class="md-source-file"> <!-- Date of last update --> <span class="md-source-file__fact"> <span class="md-icon" title="Last update"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 26, 2026 00:56:59 UTC">January 26, 2026</span> </span> <!-- Authors (git-authors plugin) --> <!-- Authors (git-committers plugin) --> <!-- Fallback: Manual GitHub avatar for repository owner --> <span class="md-source-file__fact"> <nav> <a class="md-author" href="https://github.com/nirgeier" title="@nirgeier"> <img alt="Nir Geier" src="https://avatars.githubusercontent.com/u/555154?size=256"/> </a> </nav> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class="md-footer"> <div class="logo1"></div> <div class="logo2"></div> <!-- Link to previous and/or next page --> <nav aria-label="Footer" class="md-footer__inner md-grid"> <!-- Link to previous page --> <a aria-label="Previous: Lab 0: Setup" class="md-footer__link md-footer__link--prev" href="../../Lab00-Setup/lab/"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> Previous </span> <div class="md-ellipsis"> Lab 0: Setup </div> </div> </a> <!-- <ul class="social-badges">
          <li><a href="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" target="_blank" rel="noopener"><img src="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" alt="Visitor Badge"></a></li>
          <li><a href="https://www.linkedin.com/in/nirgeier/" target="_blank" rel="noopener"><i class="fab fa-linkedin" aria-hidden="true"></i><span class="sr-only">LinkedIn profile</span></a></li>
          <li><a href="mailto:nirgeier@gmail.com"><img src="https://img.shields.io/badge/-nirgeier@gmail.com-fcc624?style=flat&logo=Gmail&logoColor=red" alt="Gmail Badge"></a></li>
          <li><a href="mailto:nirg@codewizard.co.il"><img src="https://img.shields.io/badge/-nirg@codewizard.co.il-fcc624?style=flat&logo=microsoftoutlook&logoColor=blue" alt="Outlook Badge"></a></li>
        </ul> --> <!-- Link to next page --> <a aria-label="Next: Lab 2: First MCP Server" class="md-footer__link md-footer__link--next" href="../../Lab02-First-MCP-Server/lab/"> <div class="md-footer__title"> <span class="md-footer__direction"> Next </span> <div class="md-ellipsis"> Lab 2: First MCP Server </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> <div class="md-copyright__highlight"> ©2021-2025 Nir Geier<br/><a href="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" rel="noopener" target="_blank"><img alt="Visitor Badge" src="https://visitor-badge.laobi.icu/badge?page_id=nirgeier"/></a> </div> </div> <!-- Social links --> <div class="md-social"> <a class="md-social__link social-class__github" href="https://github.com/nirgeier/AI-K8S-MCP" rel="noopener" target="_blank" title="View on GitHub"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__fork" href="https://github.com/nirgeier/AI-K8S-MCP/network/members" rel="noopener" target="_blank" title="Fork this repo"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"></path></svg> </a> <a class="md-social__link social-class__star" href="https://github.com/nirgeier/AI-K8S-MCP/stargazers" rel="noopener" target="_blank" title="Star this repo"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"></path></svg> </a> <a class="md-social__link social-class__linkedin" href="https://www.linkedin.com/in/nirgeier/" rel="noopener" target="_blank" title="Connect on LinkedIn"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__discord" href="https://discord.gg/U6xW23Ss" rel="noopener" target="_blank" title="Follow me on Discord"> <svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__stackoverflow" href="https://stackoverflow.com/users/1755598/codewizard" rel="noopener" target="_blank" title="Follow me on Stack Overflow"> <svg viewbox="0 0 384 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__whatsapp" href="https://wa.me/972548122310" rel="noopener" target="_blank" title="Follow me on WhatsApp"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__email" href="mailto:nirg@codewizard.co.il" rel="noopener" target="_blank" title="Email me"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z" fill="currentColor"></path></svg> </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-progress" data-md-component="progress" role="progressbar"></div> <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "content.footer.last-updated", "content.footer.contributors", {"navigation.expand": false}, "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", {"navigation.top": true}, "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate", "toc.sticky", "mermaid"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src="../../assets/javascripts/bundle.50899def.min.js"></script> <script src="../../js/print-site.js"></script> <script src="https://buttons.github.io/buttons.js?v=1766553928"></script> </body> </html>