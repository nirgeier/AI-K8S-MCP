<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><meta content="Hands-on labs for the K-Agent framework - Kubernetes-native MCP server" name="description"/><meta content="CodeWizard-IL" name="author"/><link href="https://nirgeier.github.io/AI-K8S-MCP/Lab05-MCP-Prompts/lab/" rel="canonical"/><link href="../../Lab04-MCP-Resources/lab/" rel="prev"/><link href="../../Lab06-MCP-Workflow/lab/" rel="next"/><link href="../../assets/favicon.png" rel="icon"/><meta content="mkdocs-1.6.1, mkdocs-material-9.6.16" name="generator"/><title>Lab 5: MCP Prompts - K-Agent Labs</title><link href="../../assets/stylesheets/main.7e37652d.min.css" rel="stylesheet"/><link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%202a7%207%200%200%200-7%207c0%202.38%201.19%204.47%203%205.74V17a1%201%200%200%200%201%201h6a1%201%200%200%200%201-1v-2.26c1.81-1.27%203-3.36%203-5.74a7%207%200%200%200-7-7M9%2021a1%201%200%200%200%201%201h4a1%201%200%200%200%201-1v-1H9z%22/%3E%3C/svg%3E');}</style><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Mulish:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font:"Mulish";--md-code-font:"JetBrains Mono"}</style><link href="../../css/print-site.css" rel="stylesheet"/><link href="../../css/print-site-material.css" rel="stylesheet"/><link href="../../assets/stylesheets/codewizard.css?v=1766553928" rel="stylesheet"/><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="slate" dir="ltr"> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#lab-5-mcp-prompts-and-complete-integration"> Skip to content </a> </div> <div data-md-component="announce"> </div> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Determine classes --> <!-- Header --> <header class="md-header md-header--shadow md-header--lifted" data-md-component="header"> <nav aria-label="Header" class="md-header__inner md-grid"> <!-- Link to home --> <a aria-label="K-Agent Labs" class="md-header__button md-logo" data-md-component="logo" href="../.." title="K-Agent Labs"> <svg viewbox="0 0 89 89" xmlns="http://www.w3.org/2000/svg"> <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z"></path> <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5"></path> <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z"></path> <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25"></path> </svg> </a> <!-- Button to open drawer --> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <!-- Header title --> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> K-Agent Labs </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Lab 5: MCP Prompts </span> </div> </div> </div> <div class="m-social__top"> <!-- Social links --> <div class="md-social"> <a class="md-social__link social-class__github" href="https://github.com/nirgeier/AI-K8S-MCP" rel="noopener" target="_blank" title="View on GitHub"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__fork" href="https://github.com/nirgeier/AI-K8S-MCP/network/members" rel="noopener" target="_blank" title="Fork this repo"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"></path></svg> </a> <a class="md-social__link social-class__star" href="https://github.com/nirgeier/AI-K8S-MCP/stargazers" rel="noopener" target="_blank" title="Star this repo"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"></path></svg> </a> <a class="md-social__link social-class__linkedin" href="https://www.linkedin.com/in/nirgeier/" rel="noopener" target="_blank" title="Connect on LinkedIn"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__discord" href="https://discord.gg/U6xW23Ss" rel="noopener" target="_blank" title="Follow me on Discord"> <svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__stackoverflow" href="https://stackoverflow.com/users/1755598/codewizard" rel="noopener" target="_blank" title="Follow me on Stack Overflow"> <svg viewbox="0 0 384 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__whatsapp" href="https://wa.me/972548122310" rel="noopener" target="_blank" title="Follow me on WhatsApp"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__email" href="mailto:nirg@codewizard.co.il" rel="noopener" target="_blank" title="Email me"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z" fill="currentColor"></path></svg> </a> </div> </div> <!-- Color palette toggle --> <form class="md-header__option" data-md-component="palette"> <input aria-hidden="true" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_0" name="__palette" type="radio"/> </form> <!-- User preference: color palette --> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <!-- Site language selector --> <!-- Button to open search modal --> <!-- Check if search is actually enabled - see https://t.ly/DT_0V --> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <!-- Search interface --> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label="Search" class="md-search__options"> <a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class="md-search__suggest" data-md-component="search-suggest"></div> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0"> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <!-- Repository information --> <div class="md-header__source"> <a class="md-source" data-md-component="source" href="https://github.com/nirgeier/AI-K8S-MCP.git" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg> </div> <div class="md-source__repository"> nirgeier/AI-K8S-MCP </div> </a> </div> </nav> <!-- Navigation tabs (sticky) --> <nav aria-label="Tabs" class="md-tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../welcome/"> Welcome </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a class="md-tabs__link" href="../../labs/"> Labs </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../.."> Resources </a> </li> </ul> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="K-Agent Labs" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="K-Agent Labs"> <svg viewbox="0 0 89 89" xmlns="http://www.w3.org/2000/svg"> <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z"></path> <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5"></path> <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z"></path> <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25"></path> </svg> </a> K-Agent Labs </label> <div class="md-nav__source"> <a class="md-source" data-md-component="source" href="https://github.com/nirgeier/AI-K8S-MCP.git" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg> </div> <div class="md-source__repository"> nirgeier/AI-K8S-MCP </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../welcome/"> <span class="md-ellipsis"> Welcome </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/> <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex=""> <span class="md-ellipsis"> Labs </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> Labs </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../labs/"> <span class="md-ellipsis"> MCP Labs - Learning Series </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab00-Setup/lab/"> <span class="md-ellipsis"> Lab 0: Setup </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab01-MCP-Fundamentals/lab/"> <span class="md-ellipsis"> Lab 1: MCP Fundamentals </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab02-First-MCP-Server/lab/"> <span class="md-ellipsis"> Lab 2: First MCP Server </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab03-MCP-Tools/lab/"> <span class="md-ellipsis"> Lab 3: MCP Tools </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab04-MCP-Resources/lab/"> <span class="md-ellipsis"> Lab 4: MCP Resources </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> Lab 5: MCP Prompts </span> <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href="./"> <span class="md-ellipsis"> Lab 5: MCP Prompts </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#overview"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#learning-objectives"> <span class="md-ellipsis"> Learning Objectives </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#prerequisites"> <span class="md-ellipsis"> Prerequisites </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#what-makes-prompts-special"> <span class="md-ellipsis"> What Makes Prompts Special? </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#project-setup"> <span class="md-ellipsis"> Project Setup </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#creating-your-first-prompt-server"> <span class="md-ellipsis"> Creating Your First Prompt Server </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#integrating-resources-with-prompts"> <span class="md-ellipsis"> Integrating Resources with Prompts </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#complete-mcp-server-integration"> <span class="md-ellipsis"> Complete MCP Server Integration </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#hands-on-exercises"> <span class="md-ellipsis"> Hands-On Exercises </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#key-takeaways"> <span class="md-ellipsis"> Key Takeaways </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#next-steps"> <span class="md-ellipsis"> Next Steps </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#whats-next"> <span class="md-ellipsis"> What’s Next? </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab06-MCP-Workflow/lab/"> <span class="md-ellipsis"> Lab 6: MCP Workflow </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab07-MCP-Ollama/lab/"> <span class="md-ellipsis"> Lab 7: MCP Ollama </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab08-Kagent/lab/"> <span class="md-ellipsis"> Lab 8: Kagent </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../Lab09-K8S-Event-Monitor/lab.md"> <span class="md-ellipsis"> Lab 9: K8S Event Monitor </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../.."> <span class="md-ellipsis"> Resources </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="lab-5-mcp-prompts-and-complete-integration">Lab 5: MCP Prompts and Complete Integration<a class="headerlink" href="#lab-5-mcp-prompts-and-complete-integration" title="Permanent link">¶</a></h1> <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2> <p>Congratulations on reaching the final lab!</p> <p>As you have already mastered tools and resources, now it’s time to complete your MCP expertise with <strong>Prompts</strong>.</p> <p>Prompts are reusable templates that help users and LLMs perform common tasks consistently and effectively. They can embed resources, accept arguments, and create structured workflows that combine the best of human expertise with AI capabilities.</p> <p>In this lab, you’ll learn how to create sophisticated prompt templates, integrate them with resources and tools, and build complete, production-ready MCP servers that showcase all three capabilities working together.</p> <hr/> <h2 id="learning-objectives">Learning Objectives<a class="headerlink" href="#learning-objectives" title="Permanent link">¶</a></h2> <p>By the end of this lab, you will:</p> <ul> <li>Understand the role of prompts in MCP ecosystems</li> <li>Create static and dynamic prompt templates</li> <li>Embed resources and arguments in prompts</li> <li>Implement prompt handlers with proper validation</li> <li>Build complete MCP servers combining all capabilities</li> <li>Apply production best practices for deployment</li> <li>Debug and troubleshoot complex MCP integrations</li> <li>Create reusable prompt libraries for common tasks</li> </ul> <hr/> <h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">¶</a></h2> <ul> <li>Completed <a href="../Lab04-MCP-Resources/">Lab 4 - Implementing MCP Resources</a></li> <li>Understanding of prompt engineering concepts</li> <li>Familiarity with template systems and variable substitution</li> <li>Experience with complex application architecture</li> </ul> <hr/> <h2 id="what-makes-prompts-special">What Makes Prompts Special?<a class="headerlink" href="#what-makes-prompts-special" title="Permanent link">¶</a></h2> <p>Prompts in MCP are more than just text templates - they’re <strong>structured, reusable AI workflows</strong> that:</p> <ul> <li><strong>Standardize</strong> common tasks across different users and contexts</li> <li><strong>Combine expertise</strong> from domain specialists with AI capabilities</li> <li><strong>Integrate resources</strong> to provide rich context automatically</li> <li><strong>Accept parameters</strong> to customize behavior dynamically</li> <li><strong>Create consistency</strong> in AI interactions and outputs</li> </ul> <h3 id="when-to-use-prompts-vs-tools">When to Use Prompts vs. Tools<a class="headerlink" href="#when-to-use-prompts-vs-tools" title="Permanent link">¶</a></h3> <table> <thead> <tr> <th>Use Case</th> <th>Use Prompt</th> <th>Use Tool</th> <th>Why</th> </tr> </thead> <tbody> <tr> <td>Code review</td> <td>✅ Prompt</td> <td>❌ Tool</td> <td>Needs structured guidance and context</td> </tr> <tr> <td>Data analysis</td> <td>✅ Prompt</td> <td>❌ Tool</td> <td>Requires analytical reasoning framework</td> </tr> <tr> <td>Content writing</td> <td>✅ Prompt</td> <td>❌ Tool</td> <td>Benefits from style guides and examples</td> </tr> <tr> <td>API calls</td> <td>❌ Prompt</td> <td>✅ Tool</td> <td>Direct action with predictable results</td> </tr> <tr> <td>Calculations</td> <td>❌ Prompt</td> <td>✅ Tool</td> <td>Mathematical precision required</td> </tr> <tr> <td>Research synthesis</td> <td>✅ Prompt</td> <td>❌ Tool</td> <td>Complex reasoning and integration needed</td> </tr> </tbody> </table> <h3 id="prompt-architecture">Prompt Architecture<a class="headerlink" href="#prompt-architecture" title="Permanent link">¶</a></h3> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">Prompt</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span><span class="w">              </span><span class="c1">// Unique identifier</span>
</span><span id="__span-0-3"><a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span><span class="w">       </span><span class="c1">// What the prompt does</span>
</span><span id="__span-0-4"><a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">  </span><span class="nx">arguments?</span><span class="o">:</span><span class="w"> </span><span class="kt">Argument</span><span class="p">[];</span><span class="w">    </span><span class="c1">// Optional parameters</span>
</span><span id="__span-0-5"><a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">  </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="kt">Message</span><span class="p">[];</span><span class="w">       </span><span class="c1">// The actual prompt content</span>
</span><span id="__span-0-6"><a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="p">}</span>
</span><span id="__span-0-7"><a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a>
</span><span id="__span-0-8"><a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">Argument</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-9"><a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span><span class="w">              </span><span class="c1">// Parameter name</span>
</span><span id="__span-0-10"><a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span><span class="w">       </span><span class="c1">// What it controls</span>
</span><span id="__span-0-11"><a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">  </span><span class="nx">required?</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span><span class="w">        </span><span class="c1">// Is it mandatory?</span>
</span><span id="__span-0-12"><a href="#__codelineno-0-12" id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="p">}</span>
</span><span id="__span-0-13"><a href="#__codelineno-0-13" id="__codelineno-0-13" name="__codelineno-0-13"></a>
</span><span id="__span-0-14"><a href="#__codelineno-0-14" id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">Message</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-15"><a href="#__codelineno-0-15" id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="w">  </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">"assistant"</span><span class="p">;</span><span class="w"> </span><span class="c1">// Who says this</span>
</span><span id="__span-0-16"><a href="#__codelineno-0-16" id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="w">  </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="kt">Content</span><span class="p">;</span><span class="w">          </span><span class="c1">// The message content</span>
</span><span id="__span-0-17"><a href="#__codelineno-0-17" id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="p">}</span>
</span></code></pre></div> <hr/> <h2 id="project-setup">Project Setup<a class="headerlink" href="#project-setup" title="Permanent link">¶</a></h2> <h3 id="step-1-create-your-project">Step 1: Create Your Project<a class="headerlink" href="#step-1-create-your-project" title="Permanent link">¶</a></h3> <p>Let’s start by creating a new MCP server project for prompts:</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a>mkdir<span class="w"> </span>my-mcp-prompts-server<span class="w">  </span><span class="c1"># &lt;-- next to the directory created in previous labs</span>
</span><span id="__span-1-2"><a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="nb">cd</span><span class="w"> </span>my-mcp-prompts-server
</span><span id="__span-1-3"><a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a>npm<span class="w"> </span>init<span class="w"> </span>-y
</span></code></pre></div> <h3 id="step-2-install-dependencies">Step 2: Install Dependencies<a class="headerlink" href="#step-2-install-dependencies" title="Permanent link">¶</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1"># Core MCP SDK</span>
</span><span id="__span-2-2"><a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a>npm<span class="w"> </span>install<span class="w"> </span>@modelcontextprotocol/sdk
</span><span id="__span-2-3"><a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a>
</span><span id="__span-2-4"><a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="c1"># TypeScript and development tools</span>
</span><span id="__span-2-5"><a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a>npm<span class="w"> </span>install<span class="w"> </span>-D<span class="w"> </span>typescript<span class="w"> </span>@types/node<span class="w"> </span>tsx
</span></code></pre></div> <h3 id="step-3-configure-typescript">Step 3: Configure TypeScript<a class="headerlink" href="#step-3-configure-typescript" title="Permanent link">¶</a></h3> <p>Create a <code>tsconfig.json</code> file with the following content inside the <code>my-mcp-prompts-server</code> directory you have just created:</p> <div class="language-json highlight"><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="p">{</span>
</span><span id="__span-3-2"><a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">  </span><span class="nt">"compilerOptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-3"><a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ES2022"</span><span class="p">,</span>
</span><span id="__span-3-4"><a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="nt">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Node16"</span><span class="p">,</span>
</span><span id="__span-3-5"><a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">    </span><span class="nt">"moduleResolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Node16"</span><span class="p">,</span>
</span><span id="__span-3-6"><a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="nt">"outDir"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./dist"</span><span class="p">,</span>
</span><span id="__span-3-7"><a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">    </span><span class="nt">"rootDir"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./src"</span><span class="p">,</span>
</span><span id="__span-3-8"><a href="#__codelineno-3-8" id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">    </span><span class="nt">"strict"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-3-9"><a href="#__codelineno-3-9" id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="w">    </span><span class="nt">"esModuleInterop"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-3-10"><a href="#__codelineno-3-10" id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">    </span><span class="nt">"skipLibCheck"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-3-11"><a href="#__codelineno-3-11" id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">    </span><span class="nt">"forceConsistentCasingInFileNames"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-3-12"><a href="#__codelineno-3-12" id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-3-13"><a href="#__codelineno-3-13" id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="w">  </span><span class="nt">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"src/**/*"</span><span class="p">],</span>
</span><span id="__span-3-14"><a href="#__codelineno-3-14" id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="w">  </span><span class="nt">"exclude"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"node_modules"</span><span class="p">,</span><span class="w"> </span><span class="s2">"dist"</span><span class="p">]</span>
</span><span id="__span-3-15"><a href="#__codelineno-3-15" id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="p">}</span>
</span></code></pre></div> <h3 id="step-4-create-project-structure">Step 4: Create Project Structure<a class="headerlink" href="#step-4-create-project-structure" title="Permanent link">¶</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a>mkdir<span class="w"> </span>src<span class="w">     </span><span class="c1"># &lt;-- inside "my-mcp-prompts-server" directory</span>
</span><span id="__span-4-2"><a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a>touch<span class="w"> </span>src/index.ts<span class="w">   </span><span class="c1"># and leave it empty for now</span>
</span></code></pre></div> <hr/> <h2 id="creating-your-first-prompt-server">Creating Your First Prompt Server<a class="headerlink" href="#creating-your-first-prompt-server" title="Permanent link">¶</a></h2> <h3 id="step-1-basic-server-setup">Step 1: Basic Server Setup<a class="headerlink" href="#step-1-basic-server-setup" title="Permanent link">¶</a></h3> <p>Let’s create a basic MCP server that exposes prompts. Paste the following inside <code>src/index.ts</code>:</p> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-5-1"><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="ch">#!/usr/bin/env node</span>
</span><span id="__span-5-2"><a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a>
</span><span id="__span-5-3"><a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@modelcontextprotocol/sdk/server/index.js"</span><span class="p">;</span>
</span><span id="__span-5-4"><a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@modelcontextprotocol/sdk/server/stdio.js"</span><span class="p">;</span>
</span><span id="__span-5-5"><a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-6"><a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">  </span><span class="nx">ListPromptsRequestSchema</span><span class="p">,</span>
</span><span id="__span-5-7"><a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">  </span><span class="nx">GetPromptRequestSchema</span><span class="p">,</span>
</span><span id="__span-5-8"><a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@modelcontextprotocol/sdk/types.js"</span><span class="p">;</span>
</span><span id="__span-5-9"><a href="#__codelineno-5-9" id="__codelineno-5-9" name="__codelineno-5-9"></a>
</span><span id="__span-5-10"><a href="#__codelineno-5-10" id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="kd">class</span><span class="w"> </span><span class="nx">PromptServer</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-11"><a href="#__codelineno-5-11" id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">server</span><span class="o">:</span><span class="w"> </span><span class="kt">Server</span><span class="p">;</span>
</span><span id="__span-5-12"><a href="#__codelineno-5-12" id="__codelineno-5-12" name="__codelineno-5-12"></a>
</span><span id="__span-5-13"><a href="#__codelineno-5-13" id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">  </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-14"><a href="#__codelineno-5-14" id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Server</span><span class="p">(</span>
</span><span id="__span-5-15"><a href="#__codelineno-5-15" id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-5-16"><a href="#__codelineno-5-16" id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"mcp-prompts-server"</span><span class="p">,</span>
</span><span id="__span-5-17"><a href="#__codelineno-5-17" id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="w">        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span>
</span><span id="__span-5-18"><a href="#__codelineno-5-18" id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-5-19"><a href="#__codelineno-5-19" id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-5-20"><a href="#__codelineno-5-20" id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="w">        </span><span class="nx">capabilities</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-21"><a href="#__codelineno-5-21" id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="w">          </span><span class="nx">prompts</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-5-22"><a href="#__codelineno-5-22" id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-5-23"><a href="#__codelineno-5-23" id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-5-24"><a href="#__codelineno-5-24" id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="w">    </span><span class="p">);</span>
</span><span id="__span-5-25"><a href="#__codelineno-5-25" id="__codelineno-5-25" name="__codelineno-5-25"></a>
</span><span id="__span-5-26"><a href="#__codelineno-5-26" id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupHandlers</span><span class="p">();</span>
</span><span id="__span-5-27"><a href="#__codelineno-5-27" id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupErrorHandling</span><span class="p">();</span>
</span><span id="__span-5-28"><a href="#__codelineno-5-28" id="__codelineno-5-28" name="__codelineno-5-28"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-29"><a href="#__codelineno-5-29" id="__codelineno-5-29" name="__codelineno-5-29"></a>
</span><span id="__span-5-30"><a href="#__codelineno-5-30" id="__codelineno-5-30" name="__codelineno-5-30"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupHandlers</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-31"><a href="#__codelineno-5-31" id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="w">    </span><span class="c1">// List available prompts</span>
</span><span id="__span-5-32"><a href="#__codelineno-5-32" id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ListPromptsRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-33"><a href="#__codelineno-5-33" id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-34"><a href="#__codelineno-5-34" id="__codelineno-5-34" name="__codelineno-5-34"></a><span class="w">        </span><span class="nx">prompts</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-5-35"><a href="#__codelineno-5-35" id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-5-36"><a href="#__codelineno-5-36" id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"hello-prompt"</span><span class="p">,</span>
</span><span id="__span-5-37"><a href="#__codelineno-5-37" id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="w">            </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"A simple greeting prompt"</span><span class="p">,</span>
</span><span id="__span-5-38"><a href="#__codelineno-5-38" id="__codelineno-5-38" name="__codelineno-5-38"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-5-39"><a href="#__codelineno-5-39" id="__codelineno-5-39" name="__codelineno-5-39"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-5-40"><a href="#__codelineno-5-40" id="__codelineno-5-40" name="__codelineno-5-40"></a><span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"code-review"</span><span class="p">,</span>
</span><span id="__span-5-41"><a href="#__codelineno-5-41" id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="w">            </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Comprehensive code review with best practices"</span><span class="p">,</span>
</span><span id="__span-5-42"><a href="#__codelineno-5-42" id="__codelineno-5-42" name="__codelineno-5-42"></a><span class="w">            </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-5-43"><a href="#__codelineno-5-43" id="__codelineno-5-43" name="__codelineno-5-43"></a><span class="w">              </span><span class="p">{</span>
</span><span id="__span-5-44"><a href="#__codelineno-5-44" id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"language"</span><span class="p">,</span>
</span><span id="__span-5-45"><a href="#__codelineno-5-45" id="__codelineno-5-45" name="__codelineno-5-45"></a><span class="w">                </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Programming language (e.g., typescript, python)"</span><span class="p">,</span>
</span><span id="__span-5-46"><a href="#__codelineno-5-46" id="__codelineno-5-46" name="__codelineno-5-46"></a><span class="w">                </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
</span><span id="__span-5-47"><a href="#__codelineno-5-47" id="__codelineno-5-47" name="__codelineno-5-47"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-5-48"><a href="#__codelineno-5-48" id="__codelineno-5-48" name="__codelineno-5-48"></a><span class="w">            </span><span class="p">],</span>
</span><span id="__span-5-49"><a href="#__codelineno-5-49" id="__codelineno-5-49" name="__codelineno-5-49"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-5-50"><a href="#__codelineno-5-50" id="__codelineno-5-50" name="__codelineno-5-50"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-5-51"><a href="#__codelineno-5-51" id="__codelineno-5-51" name="__codelineno-5-51"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-5-52"><a href="#__codelineno-5-52" id="__codelineno-5-52" name="__codelineno-5-52"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-5-53"><a href="#__codelineno-5-53" id="__codelineno-5-53" name="__codelineno-5-53"></a>
</span><span id="__span-5-54"><a href="#__codelineno-5-54" id="__codelineno-5-54" name="__codelineno-5-54"></a><span class="w">    </span><span class="c1">// Get specific prompt</span>
</span><span id="__span-5-55"><a href="#__codelineno-5-55" id="__codelineno-5-55" name="__codelineno-5-55"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">GetPromptRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-56"><a href="#__codelineno-5-56" id="__codelineno-5-56" name="__codelineno-5-56"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="kt">args</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
</span><span id="__span-5-57"><a href="#__codelineno-5-57" id="__codelineno-5-57" name="__codelineno-5-57"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">generatePrompt</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">{});</span>
</span><span id="__span-5-58"><a href="#__codelineno-5-58" id="__codelineno-5-58" name="__codelineno-5-58"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-5-59"><a href="#__codelineno-5-59" id="__codelineno-5-59" name="__codelineno-5-59"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-60"><a href="#__codelineno-5-60" id="__codelineno-5-60" name="__codelineno-5-60"></a>
</span><span id="__span-5-61"><a href="#__codelineno-5-61" id="__codelineno-5-61" name="__codelineno-5-61"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">generatePrompt</span><span class="p">(</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="o">:</span><span class="w"> </span><span class="kt">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-62"><a href="#__codelineno-5-62" id="__codelineno-5-62" name="__codelineno-5-62"></a><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-63"><a href="#__codelineno-5-63" id="__codelineno-5-63" name="__codelineno-5-63"></a><span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s2">"hello-prompt"</span><span class="o">:</span>
</span><span id="__span-5-64"><a href="#__codelineno-5-64" id="__codelineno-5-64" name="__codelineno-5-64"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-65"><a href="#__codelineno-5-65" id="__codelineno-5-65" name="__codelineno-5-65"></a><span class="w">          </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"A simple greeting prompt"</span><span class="p">,</span>
</span><span id="__span-5-66"><a href="#__codelineno-5-66" id="__codelineno-5-66" name="__codelineno-5-66"></a><span class="w">          </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-5-67"><a href="#__codelineno-5-67" id="__codelineno-5-67" name="__codelineno-5-67"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-5-68"><a href="#__codelineno-5-68" id="__codelineno-5-68" name="__codelineno-5-68"></a><span class="w">              </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span>
</span><span id="__span-5-69"><a href="#__codelineno-5-69" id="__codelineno-5-69" name="__codelineno-5-69"></a><span class="w">              </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-70"><a href="#__codelineno-5-70" id="__codelineno-5-70" name="__codelineno-5-70"></a><span class="w">                </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-5-71"><a href="#__codelineno-5-71" id="__codelineno-5-71" name="__codelineno-5-71"></a><span class="w">                </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s2">"Hello! Please introduce yourself and explain what you can help me with today."</span><span class="p">,</span>
</span><span id="__span-5-72"><a href="#__codelineno-5-72" id="__codelineno-5-72" name="__codelineno-5-72"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-5-73"><a href="#__codelineno-5-73" id="__codelineno-5-73" name="__codelineno-5-73"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-5-74"><a href="#__codelineno-5-74" id="__codelineno-5-74" name="__codelineno-5-74"></a><span class="w">          </span><span class="p">],</span>
</span><span id="__span-5-75"><a href="#__codelineno-5-75" id="__codelineno-5-75" name="__codelineno-5-75"></a><span class="w">        </span><span class="p">};</span>
</span><span id="__span-5-76"><a href="#__codelineno-5-76" id="__codelineno-5-76" name="__codelineno-5-76"></a>
</span><span id="__span-5-77"><a href="#__codelineno-5-77" id="__codelineno-5-77" name="__codelineno-5-77"></a><span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s2">"code-review"</span><span class="o">:</span>
</span><span id="__span-5-78"><a href="#__codelineno-5-78" id="__codelineno-5-78" name="__codelineno-5-78"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">language</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"typescript"</span><span class="p">;</span>
</span><span id="__span-5-79"><a href="#__codelineno-5-79" id="__codelineno-5-79" name="__codelineno-5-79"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-80"><a href="#__codelineno-5-80" id="__codelineno-5-80" name="__codelineno-5-80"></a><span class="w">          </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`Code review for </span><span class="si">${</span><span class="nx">language</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-5-81"><a href="#__codelineno-5-81" id="__codelineno-5-81" name="__codelineno-5-81"></a><span class="w">          </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-5-82"><a href="#__codelineno-5-82" id="__codelineno-5-82" name="__codelineno-5-82"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-5-83"><a href="#__codelineno-5-83" id="__codelineno-5-83" name="__codelineno-5-83"></a><span class="w">              </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span>
</span><span id="__span-5-84"><a href="#__codelineno-5-84" id="__codelineno-5-84" name="__codelineno-5-84"></a><span class="w">              </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-85"><a href="#__codelineno-5-85" id="__codelineno-5-85" name="__codelineno-5-85"></a><span class="w">                </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-5-86"><a href="#__codelineno-5-86" id="__codelineno-5-86" name="__codelineno-5-86"></a><span class="w">                </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Please perform a comprehensive code review of the following </span><span class="si">${</span><span class="nx">language</span><span class="si">}</span><span class="sb"> code. Focus on:</span>
</span><span id="__span-5-87"><a href="#__codelineno-5-87" id="__codelineno-5-87" name="__codelineno-5-87"></a>
</span><span id="__span-5-88"><a href="#__codelineno-5-88" id="__codelineno-5-88" name="__codelineno-5-88"></a><span class="sb">## Code Quality &amp; Best Practices</span>
</span><span id="__span-5-89"><a href="#__codelineno-5-89" id="__codelineno-5-89" name="__codelineno-5-89"></a><span class="sb">- **Readability**: Is the code easy to understand?</span>
</span><span id="__span-5-90"><a href="#__codelineno-5-90" id="__codelineno-5-90" name="__codelineno-5-90"></a><span class="sb">- **Maintainability**: How easy will this be to modify later?</span>
</span><span id="__span-5-91"><a href="#__codelineno-5-91" id="__codelineno-5-91" name="__codelineno-5-91"></a><span class="sb">- **Performance**: Are there any obvious performance issues?</span>
</span><span id="__span-5-92"><a href="#__codelineno-5-92" id="__codelineno-5-92" name="__codelineno-5-92"></a><span class="sb">- **Error Handling**: Are errors handled appropriately?</span>
</span><span id="__span-5-93"><a href="#__codelineno-5-93" id="__codelineno-5-93" name="__codelineno-5-93"></a>
</span><span id="__span-5-94"><a href="#__codelineno-5-94" id="__codelineno-5-94" name="__codelineno-5-94"></a><span class="sb">## </span><span class="si">${</span><span class="nx">language</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="si">}</span><span class="sb">-Specific Checks</span>
</span><span id="__span-5-95"><a href="#__codelineno-5-95" id="__codelineno-5-95" name="__codelineno-5-95"></a><span class="sb">- Follow </span><span class="si">${</span><span class="nx">language</span><span class="si">}</span><span class="sb"> conventions and best practices</span>
</span><span id="__span-5-96"><a href="#__codelineno-5-96" id="__codelineno-5-96" name="__codelineno-5-96"></a><span class="sb">- Use appropriate design patterns</span>
</span><span id="__span-5-97"><a href="#__codelineno-5-97" id="__codelineno-5-97" name="__codelineno-5-97"></a><span class="sb">- Ensure proper type safety (if applicable)</span>
</span><span id="__span-5-98"><a href="#__codelineno-5-98" id="__codelineno-5-98" name="__codelineno-5-98"></a>
</span><span id="__span-5-99"><a href="#__codelineno-5-99" id="__codelineno-5-99" name="__codelineno-5-99"></a><span class="sb">Please provide specific, actionable feedback with examples where possible.`</span><span class="p">,</span>
</span><span id="__span-5-100"><a href="#__codelineno-5-100" id="__codelineno-5-100" name="__codelineno-5-100"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-5-101"><a href="#__codelineno-5-101" id="__codelineno-5-101" name="__codelineno-5-101"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-5-102"><a href="#__codelineno-5-102" id="__codelineno-5-102" name="__codelineno-5-102"></a><span class="w">          </span><span class="p">],</span>
</span><span id="__span-5-103"><a href="#__codelineno-5-103" id="__codelineno-5-103" name="__codelineno-5-103"></a><span class="w">        </span><span class="p">};</span>
</span><span id="__span-5-104"><a href="#__codelineno-5-104" id="__codelineno-5-104" name="__codelineno-5-104"></a>
</span><span id="__span-5-105"><a href="#__codelineno-5-105" id="__codelineno-5-105" name="__codelineno-5-105"></a><span class="w">      </span><span class="nx">default</span><span class="o">:</span>
</span><span id="__span-5-106"><a href="#__codelineno-5-106" id="__codelineno-5-106" name="__codelineno-5-106"></a><span class="w">        </span><span class="kt">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Unknown prompt: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-5-107"><a href="#__codelineno-5-107" id="__codelineno-5-107" name="__codelineno-5-107"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-5-108"><a href="#__codelineno-5-108" id="__codelineno-5-108" name="__codelineno-5-108"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-109"><a href="#__codelineno-5-109" id="__codelineno-5-109" name="__codelineno-5-109"></a>
</span><span id="__span-5-110"><a href="#__codelineno-5-110" id="__codelineno-5-110" name="__codelineno-5-110"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupErrorHandling</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-111"><a href="#__codelineno-5-111" id="__codelineno-5-111" name="__codelineno-5-111"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">onerror</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-112"><a href="#__codelineno-5-112" id="__codelineno-5-112" name="__codelineno-5-112"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"[MCP Error]"</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
</span><span id="__span-5-113"><a href="#__codelineno-5-113" id="__codelineno-5-113" name="__codelineno-5-113"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-5-114"><a href="#__codelineno-5-114" id="__codelineno-5-114" name="__codelineno-5-114"></a>
</span><span id="__span-5-115"><a href="#__codelineno-5-115" id="__codelineno-5-115" name="__codelineno-5-115"></a><span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"SIGINT"</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-116"><a href="#__codelineno-5-116" id="__codelineno-5-116" name="__codelineno-5-116"></a><span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span><span id="__span-5-117"><a href="#__codelineno-5-117" id="__codelineno-5-117" name="__codelineno-5-117"></a><span class="w">      </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
</span><span id="__span-5-118"><a href="#__codelineno-5-118" id="__codelineno-5-118" name="__codelineno-5-118"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-5-119"><a href="#__codelineno-5-119" id="__codelineno-5-119" name="__codelineno-5-119"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-120"><a href="#__codelineno-5-120" id="__codelineno-5-120" name="__codelineno-5-120"></a>
</span><span id="__span-5-121"><a href="#__codelineno-5-121" id="__codelineno-5-121" name="__codelineno-5-121"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">start</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-122"><a href="#__codelineno-5-122" id="__codelineno-5-122" name="__codelineno-5-122"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">transport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="p">();</span>
</span><span id="__span-5-123"><a href="#__codelineno-5-123" id="__codelineno-5-123" name="__codelineno-5-123"></a><span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">transport</span><span class="p">);</span>
</span><span id="__span-5-124"><a href="#__codelineno-5-124" id="__codelineno-5-124" name="__codelineno-5-124"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Prompt Server running on stdio"</span><span class="p">);</span>
</span><span id="__span-5-125"><a href="#__codelineno-5-125" id="__codelineno-5-125" name="__codelineno-5-125"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-126"><a href="#__codelineno-5-126" id="__codelineno-5-126" name="__codelineno-5-126"></a><span class="p">}</span>
</span><span id="__span-5-127"><a href="#__codelineno-5-127" id="__codelineno-5-127" name="__codelineno-5-127"></a>
</span><span id="__span-5-128"><a href="#__codelineno-5-128" id="__codelineno-5-128" name="__codelineno-5-128"></a><span class="c1">// Main entry point</span>
</span><span id="__span-5-129"><a href="#__codelineno-5-129" id="__codelineno-5-129" name="__codelineno-5-129"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-130"><a href="#__codelineno-5-130" id="__codelineno-5-130" name="__codelineno-5-130"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">PromptServer</span><span class="p">();</span>
</span><span id="__span-5-131"><a href="#__codelineno-5-131" id="__codelineno-5-131" name="__codelineno-5-131"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">server</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
</span><span id="__span-5-132"><a href="#__codelineno-5-132" id="__codelineno-5-132" name="__codelineno-5-132"></a><span class="p">}</span>
</span><span id="__span-5-133"><a href="#__codelineno-5-133" id="__codelineno-5-133" name="__codelineno-5-133"></a>
</span><span id="__span-5-134"><a href="#__codelineno-5-134" id="__codelineno-5-134" name="__codelineno-5-134"></a><span class="nx">main</span><span class="p">().</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-135"><a href="#__codelineno-5-135" id="__codelineno-5-135" name="__codelineno-5-135"></a><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Fatal error:"</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
</span><span id="__span-5-136"><a href="#__codelineno-5-136" id="__codelineno-5-136" name="__codelineno-5-136"></a><span class="w">  </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
</span><span id="__span-5-137"><a href="#__codelineno-5-137" id="__codelineno-5-137" name="__codelineno-5-137"></a><span class="p">});</span>
</span></code></pre></div> <hr/> <h3 id="step-2-test-your-server">Step 2: Test Your Server<a class="headerlink" href="#step-2-test-your-server" title="Permanent link">¶</a></h3> <p><strong>Build and run the server:</strong></p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a>npm<span class="w"> </span>run<span class="w"> </span>build
</span><span id="__span-6-2"><a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>node<span class="w"> </span>dist/index.js
</span></code></pre></div> <p>The MCP Inspector will launch a web interface.</p> <p><br/></p> <p><strong>Test the prompts in the MCP Inspector UI:</strong></p> <ol> <li> <p><strong>List prompts</strong>: Click the “Prompts” tab, then click “List Prompts” to see your two prompts (“hello-prompt” and “code-review”).</p> </li> <li> <p><strong>Get hello-prompt</strong>: In the same section, select “Get Prompt”, enter “hello-prompt” as the name, and submit to see the greeting prompt content.</p> </li> <li> <p><strong>Get code-review</strong>: Select “Get Prompt”, enter “code-review” as the name, and optionally provide arguments like {“language”: “typescript”} in the arguments field, then submit to see the code review prompt.</p> </li> </ol> <hr/> <h3 id="step-3-adding-arguments-and-validation">Step 3: Adding Arguments and Validation<a class="headerlink" href="#step-3-adding-arguments-and-validation" title="Permanent link">¶</a></h3> <p>Let’s enhance our server with better argument handling. Update your existing <code>src/index.ts</code> file to add more arguments to the code-review prompt and include helper methods for dynamic content generation.</p> <p><strong>Update the code-review prompt definition in the <code>ListPromptsRequestSchema</code> handler:</strong></p> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="c1">// Update the code-review prompt definition</span>
</span><span id="__span-7-2"><a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="p">{</span>
</span><span id="__span-7-3"><a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"code-review"</span><span class="p">,</span>
</span><span id="__span-7-4"><a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Comprehensive code review with best practices"</span><span class="p">,</span>
</span><span id="__span-7-5"><a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">  </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-7-6"><a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-7"><a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"language"</span><span class="p">,</span>
</span><span id="__span-7-8"><a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Programming language (e.g., typescript, python, java)"</span><span class="p">,</span>
</span><span id="__span-7-9"><a href="#__codelineno-7-9" id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">      </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
</span><span id="__span-7-10"><a href="#__codelineno-7-10" id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-7-11"><a href="#__codelineno-7-11" id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-12"><a href="#__codelineno-7-12" id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"complexity"</span><span class="p">,</span>
</span><span id="__span-7-13"><a href="#__codelineno-7-13" id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Code complexity level (beginner, intermediate, advanced)"</span><span class="p">,</span>
</span><span id="__span-7-14"><a href="#__codelineno-7-14" id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="w">      </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
</span><span id="__span-7-15"><a href="#__codelineno-7-15" id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-7-16"><a href="#__codelineno-7-16" id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-17"><a href="#__codelineno-7-17" id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"focus"</span><span class="p">,</span>
</span><span id="__span-7-18"><a href="#__codelineno-7-18" id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Review focus areas (comma-separated: quality,security,performance)"</span><span class="p">,</span>
</span><span id="__span-7-19"><a href="#__codelineno-7-19" id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="w">      </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
</span><span id="__span-7-20"><a href="#__codelineno-7-20" id="__codelineno-7-20" name="__codelineno-7-20"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-7-21"><a href="#__codelineno-7-21" id="__codelineno-7-21" name="__codelineno-7-21"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-7-22"><a href="#__codelineno-7-22" id="__codelineno-7-22" name="__codelineno-7-22"></a><span class="p">}</span>
</span></code></pre></div> <p><br/></p> <p><strong>Update the prompt generation:</strong></p> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-8-1"><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">case</span><span class="w"> </span><span class="s2">"code-review"</span><span class="o">:</span>
</span><span id="__span-8-2"><a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">language</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"typescript"</span><span class="p">;</span>
</span><span id="__span-8-3"><a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">complexity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">complexity</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"intermediate"</span><span class="p">;</span>
</span><span id="__span-8-4"><a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">focus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">focus</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"quality"</span><span class="p">;</span>
</span><span id="__span-8-5"><a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a>
</span><span id="__span-8-6"><a href="#__codelineno-8-6" id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-7"><a href="#__codelineno-8-7" id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`Code review for </span><span class="si">${</span><span class="nx">language</span><span class="si">}</span><span class="sb"> (</span><span class="si">${</span><span class="nx">complexity</span><span class="si">}</span><span class="sb"> level, focus: </span><span class="si">${</span><span class="nx">focus</span><span class="si">}</span><span class="sb">)`</span><span class="p">,</span>
</span><span id="__span-8-8"><a href="#__codelineno-8-8" id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">    </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-8-9"><a href="#__codelineno-8-9" id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-8-10"><a href="#__codelineno-8-10" id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w">        </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span>
</span><span id="__span-8-11"><a href="#__codelineno-8-11" id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="w">        </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-12"><a href="#__codelineno-8-12" id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="w">          </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-8-13"><a href="#__codelineno-8-13" id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="w">          </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Please perform a comprehensive code review of the following </span><span class="si">${</span><span class="nx">language</span><span class="si">}</span><span class="sb"> code.</span>
</span><span id="__span-8-14"><a href="#__codelineno-8-14" id="__codelineno-8-14" name="__codelineno-8-14"></a>
</span><span id="__span-8-15"><a href="#__codelineno-8-15" id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="sb">**Complexity Level:** </span><span class="si">${</span><span class="nx">complexity</span><span class="si">}</span>
</span><span id="__span-8-16"><a href="#__codelineno-8-16" id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="sb">**Focus Areas:** </span><span class="si">${</span><span class="nx">focus</span><span class="si">}</span>
</span><span id="__span-8-17"><a href="#__codelineno-8-17" id="__codelineno-8-17" name="__codelineno-8-17"></a>
</span><span id="__span-8-18"><a href="#__codelineno-8-18" id="__codelineno-8-18" name="__codelineno-8-18"></a><span class="sb">## Review Guidelines</span>
</span><span id="__span-8-19"><a href="#__codelineno-8-19" id="__codelineno-8-19" name="__codelineno-8-19"></a>
</span><span id="__span-8-20"><a href="#__codelineno-8-20" id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="sb">### Code Quality &amp; Best Practices</span>
</span><span id="__span-8-21"><a href="#__codelineno-8-21" id="__codelineno-8-21" name="__codelineno-8-21"></a><span class="sb">- **Readability**: Is the code easy to understand?</span>
</span><span id="__span-8-22"><a href="#__codelineno-8-22" id="__codelineno-8-22" name="__codelineno-8-22"></a><span class="sb">- **Maintainability**: How easy will this be to modify later?</span>
</span><span id="__span-8-23"><a href="#__codelineno-8-23" id="__codelineno-8-23" name="__codelineno-8-23"></a><span class="sb">- **Performance**: Are there any obvious performance issues?</span>
</span><span id="__span-8-24"><a href="#__codelineno-8-24" id="__codelineno-8-24" name="__codelineno-8-24"></a>
</span><span id="__span-8-25"><a href="#__codelineno-8-25" id="__codelineno-8-25" name="__codelineno-8-25"></a><span class="sb">### </span><span class="si">${</span><span class="nx">complexity</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mf">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">complexity</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="si">}</span><span class="sb"> Level Expectations</span>
</span><span id="__span-8-26"><a href="#__codelineno-8-26" id="__codelineno-8-26" name="__codelineno-8-26"></a><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getComplexityExpectations</span><span class="p">(</span><span class="nx">complexity</span><span class="p">)</span><span class="si">}</span>
</span><span id="__span-8-27"><a href="#__codelineno-8-27" id="__codelineno-8-27" name="__codelineno-8-27"></a>
</span><span id="__span-8-28"><a href="#__codelineno-8-28" id="__codelineno-8-28" name="__codelineno-8-28"></a><span class="sb">### Focus Area: </span><span class="si">${</span><span class="nx">focus</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="si">}</span>
</span><span id="__span-8-29"><a href="#__codelineno-8-29" id="__codelineno-8-29" name="__codelineno-8-29"></a><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getFocusAreaGuidance</span><span class="p">(</span><span class="nx">focus</span><span class="p">)</span><span class="si">}</span>
</span><span id="__span-8-30"><a href="#__codelineno-8-30" id="__codelineno-8-30" name="__codelineno-8-30"></a>
</span><span id="__span-8-31"><a href="#__codelineno-8-31" id="__codelineno-8-31" name="__codelineno-8-31"></a><span class="sb">Please provide specific, actionable feedback with examples where possible.`</span><span class="p">,</span>
</span><span id="__span-8-32"><a href="#__codelineno-8-32" id="__codelineno-8-32" name="__codelineno-8-32"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-8-33"><a href="#__codelineno-8-33" id="__codelineno-8-33" name="__codelineno-8-33"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-8-34"><a href="#__codelineno-8-34" id="__codelineno-8-34" name="__codelineno-8-34"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-8-35"><a href="#__codelineno-8-35" id="__codelineno-8-35" name="__codelineno-8-35"></a><span class="w">  </span><span class="p">};</span>
</span></code></pre></div> <p><br/></p> <p><strong>Add helper methods:</strong></p> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-9-1"><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">private</span><span class="w"> </span><span class="nx">getComplexityExpectations</span><span class="p">(</span><span class="nx">level</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-2"><a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">expectations</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-3"><a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">    </span><span class="nx">beginner</span><span class="o">:</span><span class="w"> </span><span class="sb">`- Clear, self-documenting code\n- Basic error handling\n- Simple, understandable logic`</span><span class="p">,</span>
</span><span id="__span-9-4"><a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">    </span><span class="nx">intermediate</span><span class="o">:</span><span class="w"> </span><span class="sb">`- Good separation of concerns\n- Comprehensive error handling\n- Appropriate design patterns\n- Unit test coverage`</span><span class="p">,</span>
</span><span id="__span-9-5"><a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">    </span><span class="nx">advanced</span><span class="o">:</span><span class="w"> </span><span class="sb">`- High performance and scalability\n- Complex architectural patterns\n- Extensive testing (unit, integration, e2e)\n- Advanced optimization techniques`</span><span class="p">,</span>
</span><span id="__span-9-6"><a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-9-7"><a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">expectations</span><span class="p">[</span><span class="nx">level</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"- Standard coding practices"</span><span class="p">;</span>
</span><span id="__span-9-8"><a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="p">}</span>
</span><span id="__span-9-9"><a href="#__codelineno-9-9" id="__codelineno-9-9" name="__codelineno-9-9"></a>
</span><span id="__span-9-10"><a href="#__codelineno-9-10" id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="k">private</span><span class="w"> </span><span class="nx">getFocusAreaGuidance</span><span class="p">(</span><span class="nx">focus</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-11"><a href="#__codelineno-9-11" id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">guidance</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-12"><a href="#__codelineno-9-12" id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="w">    </span><span class="nx">quality</span><span class="o">:</span><span class="w"> </span><span class="sb">`**Code Quality Focus:**</span>
</span><span id="__span-9-13"><a href="#__codelineno-9-13" id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="sb">- Code readability and maintainability</span>
</span><span id="__span-9-14"><a href="#__codelineno-9-14" id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="sb">- Consistent naming conventions</span>
</span><span id="__span-9-15"><a href="#__codelineno-9-15" id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="sb">- Proper code organization</span>
</span><span id="__span-9-16"><a href="#__codelineno-9-16" id="__codelineno-9-16" name="__codelineno-9-16"></a><span class="sb">- Documentation quality`</span><span class="p">,</span>
</span><span id="__span-9-17"><a href="#__codelineno-9-17" id="__codelineno-9-17" name="__codelineno-9-17"></a><span class="w">    </span><span class="nx">security</span><span class="o">:</span><span class="w"> </span><span class="sb">`**Security Focus:**</span>
</span><span id="__span-9-18"><a href="#__codelineno-9-18" id="__codelineno-9-18" name="__codelineno-9-18"></a><span class="sb">- Input validation and sanitization</span>
</span><span id="__span-9-19"><a href="#__codelineno-9-19" id="__codelineno-9-19" name="__codelineno-9-19"></a><span class="sb">- Authentication and authorization</span>
</span><span id="__span-9-20"><a href="#__codelineno-9-20" id="__codelineno-9-20" name="__codelineno-9-20"></a><span class="sb">- Data protection practices</span>
</span><span id="__span-9-21"><a href="#__codelineno-9-21" id="__codelineno-9-21" name="__codelineno-9-21"></a><span class="sb">- Common vulnerability patterns`</span><span class="p">,</span>
</span><span id="__span-9-22"><a href="#__codelineno-9-22" id="__codelineno-9-22" name="__codelineno-9-22"></a><span class="w">    </span><span class="nx">performance</span><span class="o">:</span><span class="w"> </span><span class="sb">`**Performance Focus:**</span>
</span><span id="__span-9-23"><a href="#__codelineno-9-23" id="__codelineno-9-23" name="__codelineno-9-23"></a><span class="sb">- Algorithm efficiency</span>
</span><span id="__span-9-24"><a href="#__codelineno-9-24" id="__codelineno-9-24" name="__codelineno-9-24"></a><span class="sb">- Memory usage optimization</span>
</span><span id="__span-9-25"><a href="#__codelineno-9-25" id="__codelineno-9-25" name="__codelineno-9-25"></a><span class="sb">- Database query optimization</span>
</span><span id="__span-9-26"><a href="#__codelineno-9-26" id="__codelineno-9-26" name="__codelineno-9-26"></a><span class="sb">- Caching strategies`</span><span class="p">,</span>
</span><span id="__span-9-27"><a href="#__codelineno-9-27" id="__codelineno-9-27" name="__codelineno-9-27"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-9-28"><a href="#__codelineno-9-28" id="__codelineno-9-28" name="__codelineno-9-28"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">guidance</span><span class="p">[</span><span class="nx">focus</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"- General best practices"</span><span class="p">;</span>
</span><span id="__span-9-29"><a href="#__codelineno-9-29" id="__codelineno-9-29" name="__codelineno-9-29"></a><span class="p">}</span>
</span></code></pre></div> <p><br/></p> <p>Here’s the complete updated <code>src/index.ts</code> with all the above enhancements, just for review purposes:</p> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-10-1"><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="ch">#!/usr/bin/env node</span>
</span><span id="__span-10-2"><a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a>
</span><span id="__span-10-3"><a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@modelcontextprotocol/sdk/server/index.js"</span><span class="p">;</span>
</span><span id="__span-10-4"><a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@modelcontextprotocol/sdk/server/stdio.js"</span><span class="p">;</span>
</span><span id="__span-10-5"><a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-6"><a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w">  </span><span class="nx">ListPromptsRequestSchema</span><span class="p">,</span>
</span><span id="__span-10-7"><a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w">  </span><span class="nx">GetPromptRequestSchema</span><span class="p">,</span>
</span><span id="__span-10-8"><a href="#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@modelcontextprotocol/sdk/types.js"</span><span class="p">;</span>
</span><span id="__span-10-9"><a href="#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a>
</span><span id="__span-10-10"><a href="#__codelineno-10-10" id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="kd">class</span><span class="w"> </span><span class="nx">PromptServer</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-11"><a href="#__codelineno-10-11" id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">server</span><span class="o">:</span><span class="w"> </span><span class="kt">Server</span><span class="p">;</span>
</span><span id="__span-10-12"><a href="#__codelineno-10-12" id="__codelineno-10-12" name="__codelineno-10-12"></a>
</span><span id="__span-10-13"><a href="#__codelineno-10-13" id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="w">  </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-14"><a href="#__codelineno-10-14" id="__codelineno-10-14" name="__codelineno-10-14"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Server</span><span class="p">(</span>
</span><span id="__span-10-15"><a href="#__codelineno-10-15" id="__codelineno-10-15" name="__codelineno-10-15"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-10-16"><a href="#__codelineno-10-16" id="__codelineno-10-16" name="__codelineno-10-16"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"mcp-prompts-server"</span><span class="p">,</span>
</span><span id="__span-10-17"><a href="#__codelineno-10-17" id="__codelineno-10-17" name="__codelineno-10-17"></a><span class="w">        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span>
</span><span id="__span-10-18"><a href="#__codelineno-10-18" id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-10-19"><a href="#__codelineno-10-19" id="__codelineno-10-19" name="__codelineno-10-19"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-10-20"><a href="#__codelineno-10-20" id="__codelineno-10-20" name="__codelineno-10-20"></a><span class="w">        </span><span class="nx">capabilities</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-21"><a href="#__codelineno-10-21" id="__codelineno-10-21" name="__codelineno-10-21"></a><span class="w">          </span><span class="nx">prompts</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-10-22"><a href="#__codelineno-10-22" id="__codelineno-10-22" name="__codelineno-10-22"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-10-23"><a href="#__codelineno-10-23" id="__codelineno-10-23" name="__codelineno-10-23"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-10-24"><a href="#__codelineno-10-24" id="__codelineno-10-24" name="__codelineno-10-24"></a><span class="w">    </span><span class="p">);</span>
</span><span id="__span-10-25"><a href="#__codelineno-10-25" id="__codelineno-10-25" name="__codelineno-10-25"></a>
</span><span id="__span-10-26"><a href="#__codelineno-10-26" id="__codelineno-10-26" name="__codelineno-10-26"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupHandlers</span><span class="p">();</span>
</span><span id="__span-10-27"><a href="#__codelineno-10-27" id="__codelineno-10-27" name="__codelineno-10-27"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupErrorHandling</span><span class="p">();</span>
</span><span id="__span-10-28"><a href="#__codelineno-10-28" id="__codelineno-10-28" name="__codelineno-10-28"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-29"><a href="#__codelineno-10-29" id="__codelineno-10-29" name="__codelineno-10-29"></a>
</span><span id="__span-10-30"><a href="#__codelineno-10-30" id="__codelineno-10-30" name="__codelineno-10-30"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupHandlers</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-31"><a href="#__codelineno-10-31" id="__codelineno-10-31" name="__codelineno-10-31"></a><span class="w">    </span><span class="c1">// List available prompts</span>
</span><span id="__span-10-32"><a href="#__codelineno-10-32" id="__codelineno-10-32" name="__codelineno-10-32"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ListPromptsRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-33"><a href="#__codelineno-10-33" id="__codelineno-10-33" name="__codelineno-10-33"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-34"><a href="#__codelineno-10-34" id="__codelineno-10-34" name="__codelineno-10-34"></a><span class="w">        </span><span class="nx">prompts</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-10-35"><a href="#__codelineno-10-35" id="__codelineno-10-35" name="__codelineno-10-35"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-10-36"><a href="#__codelineno-10-36" id="__codelineno-10-36" name="__codelineno-10-36"></a><span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"hello-prompt"</span><span class="p">,</span>
</span><span id="__span-10-37"><a href="#__codelineno-10-37" id="__codelineno-10-37" name="__codelineno-10-37"></a><span class="w">            </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"A simple greeting prompt"</span><span class="p">,</span>
</span><span id="__span-10-38"><a href="#__codelineno-10-38" id="__codelineno-10-38" name="__codelineno-10-38"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-10-39"><a href="#__codelineno-10-39" id="__codelineno-10-39" name="__codelineno-10-39"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-10-40"><a href="#__codelineno-10-40" id="__codelineno-10-40" name="__codelineno-10-40"></a><span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"code-review"</span><span class="p">,</span>
</span><span id="__span-10-41"><a href="#__codelineno-10-41" id="__codelineno-10-41" name="__codelineno-10-41"></a><span class="w">            </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Comprehensive code review with best practices"</span><span class="p">,</span>
</span><span id="__span-10-42"><a href="#__codelineno-10-42" id="__codelineno-10-42" name="__codelineno-10-42"></a><span class="w">            </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-10-43"><a href="#__codelineno-10-43" id="__codelineno-10-43" name="__codelineno-10-43"></a><span class="w">              </span><span class="p">{</span>
</span><span id="__span-10-44"><a href="#__codelineno-10-44" id="__codelineno-10-44" name="__codelineno-10-44"></a><span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"language"</span><span class="p">,</span>
</span><span id="__span-10-45"><a href="#__codelineno-10-45" id="__codelineno-10-45" name="__codelineno-10-45"></a><span class="w">                </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Programming language (e.g., typescript, python, java)"</span><span class="p">,</span>
</span><span id="__span-10-46"><a href="#__codelineno-10-46" id="__codelineno-10-46" name="__codelineno-10-46"></a><span class="w">                </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
</span><span id="__span-10-47"><a href="#__codelineno-10-47" id="__codelineno-10-47" name="__codelineno-10-47"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-10-48"><a href="#__codelineno-10-48" id="__codelineno-10-48" name="__codelineno-10-48"></a><span class="w">              </span><span class="p">{</span>
</span><span id="__span-10-49"><a href="#__codelineno-10-49" id="__codelineno-10-49" name="__codelineno-10-49"></a><span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"complexity"</span><span class="p">,</span>
</span><span id="__span-10-50"><a href="#__codelineno-10-50" id="__codelineno-10-50" name="__codelineno-10-50"></a><span class="w">                </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Code complexity level (beginner, intermediate, advanced)"</span><span class="p">,</span>
</span><span id="__span-10-51"><a href="#__codelineno-10-51" id="__codelineno-10-51" name="__codelineno-10-51"></a><span class="w">                </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
</span><span id="__span-10-52"><a href="#__codelineno-10-52" id="__codelineno-10-52" name="__codelineno-10-52"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-10-53"><a href="#__codelineno-10-53" id="__codelineno-10-53" name="__codelineno-10-53"></a><span class="w">              </span><span class="p">{</span>
</span><span id="__span-10-54"><a href="#__codelineno-10-54" id="__codelineno-10-54" name="__codelineno-10-54"></a><span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"focus"</span><span class="p">,</span>
</span><span id="__span-10-55"><a href="#__codelineno-10-55" id="__codelineno-10-55" name="__codelineno-10-55"></a><span class="w">                </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Review focus areas (comma-separated: quality,security,performance)"</span><span class="p">,</span>
</span><span id="__span-10-56"><a href="#__codelineno-10-56" id="__codelineno-10-56" name="__codelineno-10-56"></a><span class="w">                </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
</span><span id="__span-10-57"><a href="#__codelineno-10-57" id="__codelineno-10-57" name="__codelineno-10-57"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-10-58"><a href="#__codelineno-10-58" id="__codelineno-10-58" name="__codelineno-10-58"></a><span class="w">            </span><span class="p">],</span>
</span><span id="__span-10-59"><a href="#__codelineno-10-59" id="__codelineno-10-59" name="__codelineno-10-59"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-10-60"><a href="#__codelineno-10-60" id="__codelineno-10-60" name="__codelineno-10-60"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-10-61"><a href="#__codelineno-10-61" id="__codelineno-10-61" name="__codelineno-10-61"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-10-62"><a href="#__codelineno-10-62" id="__codelineno-10-62" name="__codelineno-10-62"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-10-63"><a href="#__codelineno-10-63" id="__codelineno-10-63" name="__codelineno-10-63"></a>
</span><span id="__span-10-64"><a href="#__codelineno-10-64" id="__codelineno-10-64" name="__codelineno-10-64"></a><span class="w">    </span><span class="c1">// Get specific prompt</span>
</span><span id="__span-10-65"><a href="#__codelineno-10-65" id="__codelineno-10-65" name="__codelineno-10-65"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">GetPromptRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-66"><a href="#__codelineno-10-66" id="__codelineno-10-66" name="__codelineno-10-66"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="kt">args</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
</span><span id="__span-10-67"><a href="#__codelineno-10-67" id="__codelineno-10-67" name="__codelineno-10-67"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">generatePrompt</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">{});</span>
</span><span id="__span-10-68"><a href="#__codelineno-10-68" id="__codelineno-10-68" name="__codelineno-10-68"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-10-69"><a href="#__codelineno-10-69" id="__codelineno-10-69" name="__codelineno-10-69"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-70"><a href="#__codelineno-10-70" id="__codelineno-10-70" name="__codelineno-10-70"></a>
</span><span id="__span-10-71"><a href="#__codelineno-10-71" id="__codelineno-10-71" name="__codelineno-10-71"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">generatePrompt</span><span class="p">(</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="o">:</span><span class="w"> </span><span class="kt">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-72"><a href="#__codelineno-10-72" id="__codelineno-10-72" name="__codelineno-10-72"></a><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-73"><a href="#__codelineno-10-73" id="__codelineno-10-73" name="__codelineno-10-73"></a><span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s2">"hello-prompt"</span><span class="o">:</span>
</span><span id="__span-10-74"><a href="#__codelineno-10-74" id="__codelineno-10-74" name="__codelineno-10-74"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-75"><a href="#__codelineno-10-75" id="__codelineno-10-75" name="__codelineno-10-75"></a><span class="w">          </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"A simple greeting prompt"</span><span class="p">,</span>
</span><span id="__span-10-76"><a href="#__codelineno-10-76" id="__codelineno-10-76" name="__codelineno-10-76"></a><span class="w">          </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-10-77"><a href="#__codelineno-10-77" id="__codelineno-10-77" name="__codelineno-10-77"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-10-78"><a href="#__codelineno-10-78" id="__codelineno-10-78" name="__codelineno-10-78"></a><span class="w">              </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span>
</span><span id="__span-10-79"><a href="#__codelineno-10-79" id="__codelineno-10-79" name="__codelineno-10-79"></a><span class="w">              </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-80"><a href="#__codelineno-10-80" id="__codelineno-10-80" name="__codelineno-10-80"></a><span class="w">                </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-10-81"><a href="#__codelineno-10-81" id="__codelineno-10-81" name="__codelineno-10-81"></a><span class="w">                </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="s2">"Hello! Please introduce yourself and explain what you can help me with today."</span><span class="p">,</span>
</span><span id="__span-10-82"><a href="#__codelineno-10-82" id="__codelineno-10-82" name="__codelineno-10-82"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-10-83"><a href="#__codelineno-10-83" id="__codelineno-10-83" name="__codelineno-10-83"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-10-84"><a href="#__codelineno-10-84" id="__codelineno-10-84" name="__codelineno-10-84"></a><span class="w">          </span><span class="p">],</span>
</span><span id="__span-10-85"><a href="#__codelineno-10-85" id="__codelineno-10-85" name="__codelineno-10-85"></a><span class="w">        </span><span class="p">};</span>
</span><span id="__span-10-86"><a href="#__codelineno-10-86" id="__codelineno-10-86" name="__codelineno-10-86"></a>
</span><span id="__span-10-87"><a href="#__codelineno-10-87" id="__codelineno-10-87" name="__codelineno-10-87"></a><span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s2">"code-review"</span><span class="o">:</span>
</span><span id="__span-10-88"><a href="#__codelineno-10-88" id="__codelineno-10-88" name="__codelineno-10-88"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">language</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"typescript"</span><span class="p">;</span>
</span><span id="__span-10-89"><a href="#__codelineno-10-89" id="__codelineno-10-89" name="__codelineno-10-89"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">complexity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">complexity</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"intermediate"</span><span class="p">;</span>
</span><span id="__span-10-90"><a href="#__codelineno-10-90" id="__codelineno-10-90" name="__codelineno-10-90"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">focus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">focus</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"quality"</span><span class="p">;</span>
</span><span id="__span-10-91"><a href="#__codelineno-10-91" id="__codelineno-10-91" name="__codelineno-10-91"></a>
</span><span id="__span-10-92"><a href="#__codelineno-10-92" id="__codelineno-10-92" name="__codelineno-10-92"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-93"><a href="#__codelineno-10-93" id="__codelineno-10-93" name="__codelineno-10-93"></a><span class="w">          </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`Code review for </span><span class="si">${</span><span class="nx">language</span><span class="si">}</span><span class="sb"> (</span><span class="si">${</span><span class="nx">complexity</span><span class="si">}</span><span class="sb"> level, focus: </span><span class="si">${</span><span class="nx">focus</span><span class="si">}</span><span class="sb">)`</span><span class="p">,</span>
</span><span id="__span-10-94"><a href="#__codelineno-10-94" id="__codelineno-10-94" name="__codelineno-10-94"></a><span class="w">          </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-10-95"><a href="#__codelineno-10-95" id="__codelineno-10-95" name="__codelineno-10-95"></a><span class="w">            </span><span class="p">{</span>
</span><span id="__span-10-96"><a href="#__codelineno-10-96" id="__codelineno-10-96" name="__codelineno-10-96"></a><span class="w">              </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span>
</span><span id="__span-10-97"><a href="#__codelineno-10-97" id="__codelineno-10-97" name="__codelineno-10-97"></a><span class="w">              </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-98"><a href="#__codelineno-10-98" id="__codelineno-10-98" name="__codelineno-10-98"></a><span class="w">                </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-10-99"><a href="#__codelineno-10-99" id="__codelineno-10-99" name="__codelineno-10-99"></a><span class="w">                </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Please perform a comprehensive code review of the following </span><span class="si">${</span><span class="nx">language</span><span class="si">}</span><span class="sb"> code.</span>
</span><span id="__span-10-100"><a href="#__codelineno-10-100" id="__codelineno-10-100" name="__codelineno-10-100"></a>
</span><span id="__span-10-101"><a href="#__codelineno-10-101" id="__codelineno-10-101" name="__codelineno-10-101"></a><span class="sb">**Complexity Level:** </span><span class="si">${</span><span class="nx">complexity</span><span class="si">}</span>
</span><span id="__span-10-102"><a href="#__codelineno-10-102" id="__codelineno-10-102" name="__codelineno-10-102"></a><span class="sb">**Focus Areas:** </span><span class="si">${</span><span class="nx">focus</span><span class="si">}</span>
</span><span id="__span-10-103"><a href="#__codelineno-10-103" id="__codelineno-10-103" name="__codelineno-10-103"></a>
</span><span id="__span-10-104"><a href="#__codelineno-10-104" id="__codelineno-10-104" name="__codelineno-10-104"></a><span class="sb">## Review Guidelines</span>
</span><span id="__span-10-105"><a href="#__codelineno-10-105" id="__codelineno-10-105" name="__codelineno-10-105"></a>
</span><span id="__span-10-106"><a href="#__codelineno-10-106" id="__codelineno-10-106" name="__codelineno-10-106"></a><span class="sb">### Code Quality &amp; Best Practices</span>
</span><span id="__span-10-107"><a href="#__codelineno-10-107" id="__codelineno-10-107" name="__codelineno-10-107"></a><span class="sb">- **Readability**: Is the code easy to understand?</span>
</span><span id="__span-10-108"><a href="#__codelineno-10-108" id="__codelineno-10-108" name="__codelineno-10-108"></a><span class="sb">- **Maintainability**: How easy will this be to modify later?</span>
</span><span id="__span-10-109"><a href="#__codelineno-10-109" id="__codelineno-10-109" name="__codelineno-10-109"></a><span class="sb">- **Performance**: Are there any obvious performance issues?</span>
</span><span id="__span-10-110"><a href="#__codelineno-10-110" id="__codelineno-10-110" name="__codelineno-10-110"></a>
</span><span id="__span-10-111"><a href="#__codelineno-10-111" id="__codelineno-10-111" name="__codelineno-10-111"></a><span class="sb">### </span><span class="si">${</span><span class="nx">complexity</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mf">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">complexity</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="si">}</span><span class="sb"> Level Expectations</span>
</span><span id="__span-10-112"><a href="#__codelineno-10-112" id="__codelineno-10-112" name="__codelineno-10-112"></a><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getComplexityExpectations</span><span class="p">(</span><span class="nx">complexity</span><span class="p">)</span><span class="si">}</span>
</span><span id="__span-10-113"><a href="#__codelineno-10-113" id="__codelineno-10-113" name="__codelineno-10-113"></a>
</span><span id="__span-10-114"><a href="#__codelineno-10-114" id="__codelineno-10-114" name="__codelineno-10-114"></a><span class="sb">### Focus Area: </span><span class="si">${</span><span class="nx">focus</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="si">}</span>
</span><span id="__span-10-115"><a href="#__codelineno-10-115" id="__codelineno-10-115" name="__codelineno-10-115"></a><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getFocusAreaGuidance</span><span class="p">(</span><span class="nx">focus</span><span class="p">)</span><span class="si">}</span>
</span><span id="__span-10-116"><a href="#__codelineno-10-116" id="__codelineno-10-116" name="__codelineno-10-116"></a>
</span><span id="__span-10-117"><a href="#__codelineno-10-117" id="__codelineno-10-117" name="__codelineno-10-117"></a><span class="sb">Please provide specific, actionable feedback with examples where possible.`</span><span class="p">,</span>
</span><span id="__span-10-118"><a href="#__codelineno-10-118" id="__codelineno-10-118" name="__codelineno-10-118"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-10-119"><a href="#__codelineno-10-119" id="__codelineno-10-119" name="__codelineno-10-119"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-10-120"><a href="#__codelineno-10-120" id="__codelineno-10-120" name="__codelineno-10-120"></a><span class="w">          </span><span class="p">],</span>
</span><span id="__span-10-121"><a href="#__codelineno-10-121" id="__codelineno-10-121" name="__codelineno-10-121"></a><span class="w">        </span><span class="p">};</span>
</span><span id="__span-10-122"><a href="#__codelineno-10-122" id="__codelineno-10-122" name="__codelineno-10-122"></a>
</span><span id="__span-10-123"><a href="#__codelineno-10-123" id="__codelineno-10-123" name="__codelineno-10-123"></a><span class="w">      </span><span class="nx">default</span><span class="o">:</span>
</span><span id="__span-10-124"><a href="#__codelineno-10-124" id="__codelineno-10-124" name="__codelineno-10-124"></a><span class="w">        </span><span class="kt">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Unknown prompt: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-10-125"><a href="#__codelineno-10-125" id="__codelineno-10-125" name="__codelineno-10-125"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-10-126"><a href="#__codelineno-10-126" id="__codelineno-10-126" name="__codelineno-10-126"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-127"><a href="#__codelineno-10-127" id="__codelineno-10-127" name="__codelineno-10-127"></a>
</span><span id="__span-10-128"><a href="#__codelineno-10-128" id="__codelineno-10-128" name="__codelineno-10-128"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">getComplexityExpectations</span><span class="p">(</span><span class="nx">level</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-129"><a href="#__codelineno-10-129" id="__codelineno-10-129" name="__codelineno-10-129"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">expectations</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-130"><a href="#__codelineno-10-130" id="__codelineno-10-130" name="__codelineno-10-130"></a><span class="w">      </span><span class="nx">beginner</span><span class="o">:</span><span class="w"> </span><span class="sb">`- Clear, self-documenting code\n- Basic error handling\n- Simple, understandable logic`</span><span class="p">,</span>
</span><span id="__span-10-131"><a href="#__codelineno-10-131" id="__codelineno-10-131" name="__codelineno-10-131"></a><span class="w">      </span><span class="nx">intermediate</span><span class="o">:</span><span class="w"> </span><span class="sb">`- Good separation of concerns\n- Comprehensive error handling\n- Appropriate design patterns\n- Unit test coverage`</span><span class="p">,</span>
</span><span id="__span-10-132"><a href="#__codelineno-10-132" id="__codelineno-10-132" name="__codelineno-10-132"></a><span class="w">      </span><span class="nx">advanced</span><span class="o">:</span><span class="w"> </span><span class="sb">`- High performance and scalability\n- Complex architectural patterns\n- Extensive testing (unit, integration, e2e)\n- Advanced optimization techniques`</span><span class="p">,</span>
</span><span id="__span-10-133"><a href="#__codelineno-10-133" id="__codelineno-10-133" name="__codelineno-10-133"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-10-134"><a href="#__codelineno-10-134" id="__codelineno-10-134" name="__codelineno-10-134"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">expectations</span><span class="p">[</span><span class="nx">level</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"- Standard coding practices"</span><span class="p">;</span>
</span><span id="__span-10-135"><a href="#__codelineno-10-135" id="__codelineno-10-135" name="__codelineno-10-135"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-136"><a href="#__codelineno-10-136" id="__codelineno-10-136" name="__codelineno-10-136"></a>
</span><span id="__span-10-137"><a href="#__codelineno-10-137" id="__codelineno-10-137" name="__codelineno-10-137"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">getFocusAreaGuidance</span><span class="p">(</span><span class="nx">focus</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-138"><a href="#__codelineno-10-138" id="__codelineno-10-138" name="__codelineno-10-138"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">guidance</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-139"><a href="#__codelineno-10-139" id="__codelineno-10-139" name="__codelineno-10-139"></a><span class="w">      </span><span class="nx">quality</span><span class="o">:</span><span class="w"> </span><span class="sb">`**Code Quality Focus:**</span>
</span><span id="__span-10-140"><a href="#__codelineno-10-140" id="__codelineno-10-140" name="__codelineno-10-140"></a><span class="sb">- Code readability and maintainability</span>
</span><span id="__span-10-141"><a href="#__codelineno-10-141" id="__codelineno-10-141" name="__codelineno-10-141"></a><span class="sb">- Consistent naming conventions</span>
</span><span id="__span-10-142"><a href="#__codelineno-10-142" id="__codelineno-10-142" name="__codelineno-10-142"></a><span class="sb">- Proper code organization</span>
</span><span id="__span-10-143"><a href="#__codelineno-10-143" id="__codelineno-10-143" name="__codelineno-10-143"></a><span class="sb">- Documentation quality`</span><span class="p">,</span>
</span><span id="__span-10-144"><a href="#__codelineno-10-144" id="__codelineno-10-144" name="__codelineno-10-144"></a><span class="w">      </span><span class="nx">security</span><span class="o">:</span><span class="w"> </span><span class="sb">`**Security Focus:**</span>
</span><span id="__span-10-145"><a href="#__codelineno-10-145" id="__codelineno-10-145" name="__codelineno-10-145"></a><span class="sb">- Input validation and sanitization</span>
</span><span id="__span-10-146"><a href="#__codelineno-10-146" id="__codelineno-10-146" name="__codelineno-10-146"></a><span class="sb">- Authentication and authorization</span>
</span><span id="__span-10-147"><a href="#__codelineno-10-147" id="__codelineno-10-147" name="__codelineno-10-147"></a><span class="sb">- Data protection practices</span>
</span><span id="__span-10-148"><a href="#__codelineno-10-148" id="__codelineno-10-148" name="__codelineno-10-148"></a><span class="sb">- Common vulnerability patterns`</span><span class="p">,</span>
</span><span id="__span-10-149"><a href="#__codelineno-10-149" id="__codelineno-10-149" name="__codelineno-10-149"></a><span class="w">      </span><span class="nx">performance</span><span class="o">:</span><span class="w"> </span><span class="sb">`**Performance Focus:**</span>
</span><span id="__span-10-150"><a href="#__codelineno-10-150" id="__codelineno-10-150" name="__codelineno-10-150"></a><span class="sb">- Algorithm efficiency</span>
</span><span id="__span-10-151"><a href="#__codelineno-10-151" id="__codelineno-10-151" name="__codelineno-10-151"></a><span class="sb">- Memory usage optimization</span>
</span><span id="__span-10-152"><a href="#__codelineno-10-152" id="__codelineno-10-152" name="__codelineno-10-152"></a><span class="sb">- Database query optimization</span>
</span><span id="__span-10-153"><a href="#__codelineno-10-153" id="__codelineno-10-153" name="__codelineno-10-153"></a><span class="sb">- Caching strategies`</span><span class="p">,</span>
</span><span id="__span-10-154"><a href="#__codelineno-10-154" id="__codelineno-10-154" name="__codelineno-10-154"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-10-155"><a href="#__codelineno-10-155" id="__codelineno-10-155" name="__codelineno-10-155"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">guidance</span><span class="p">[</span><span class="nx">focus</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"- General best practices"</span><span class="p">;</span>
</span><span id="__span-10-156"><a href="#__codelineno-10-156" id="__codelineno-10-156" name="__codelineno-10-156"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-157"><a href="#__codelineno-10-157" id="__codelineno-10-157" name="__codelineno-10-157"></a>
</span><span id="__span-10-158"><a href="#__codelineno-10-158" id="__codelineno-10-158" name="__codelineno-10-158"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupErrorHandling</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-159"><a href="#__codelineno-10-159" id="__codelineno-10-159" name="__codelineno-10-159"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">onerror</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-160"><a href="#__codelineno-10-160" id="__codelineno-10-160" name="__codelineno-10-160"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"[MCP Error]"</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
</span><span id="__span-10-161"><a href="#__codelineno-10-161" id="__codelineno-10-161" name="__codelineno-10-161"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-10-162"><a href="#__codelineno-10-162" id="__codelineno-10-162" name="__codelineno-10-162"></a>
</span><span id="__span-10-163"><a href="#__codelineno-10-163" id="__codelineno-10-163" name="__codelineno-10-163"></a><span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"SIGINT"</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-164"><a href="#__codelineno-10-164" id="__codelineno-10-164" name="__codelineno-10-164"></a><span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span><span id="__span-10-165"><a href="#__codelineno-10-165" id="__codelineno-10-165" name="__codelineno-10-165"></a><span class="w">      </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
</span><span id="__span-10-166"><a href="#__codelineno-10-166" id="__codelineno-10-166" name="__codelineno-10-166"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-10-167"><a href="#__codelineno-10-167" id="__codelineno-10-167" name="__codelineno-10-167"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-168"><a href="#__codelineno-10-168" id="__codelineno-10-168" name="__codelineno-10-168"></a>
</span><span id="__span-10-169"><a href="#__codelineno-10-169" id="__codelineno-10-169" name="__codelineno-10-169"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">start</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-170"><a href="#__codelineno-10-170" id="__codelineno-10-170" name="__codelineno-10-170"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">transport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="p">();</span>
</span><span id="__span-10-171"><a href="#__codelineno-10-171" id="__codelineno-10-171" name="__codelineno-10-171"></a><span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">transport</span><span class="p">);</span>
</span><span id="__span-10-172"><a href="#__codelineno-10-172" id="__codelineno-10-172" name="__codelineno-10-172"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Prompt Server running on stdio"</span><span class="p">);</span>
</span><span id="__span-10-173"><a href="#__codelineno-10-173" id="__codelineno-10-173" name="__codelineno-10-173"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-174"><a href="#__codelineno-10-174" id="__codelineno-10-174" name="__codelineno-10-174"></a><span class="p">}</span>
</span><span id="__span-10-175"><a href="#__codelineno-10-175" id="__codelineno-10-175" name="__codelineno-10-175"></a>
</span><span id="__span-10-176"><a href="#__codelineno-10-176" id="__codelineno-10-176" name="__codelineno-10-176"></a><span class="c1">// Main entry point</span>
</span><span id="__span-10-177"><a href="#__codelineno-10-177" id="__codelineno-10-177" name="__codelineno-10-177"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-178"><a href="#__codelineno-10-178" id="__codelineno-10-178" name="__codelineno-10-178"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">PromptServer</span><span class="p">();</span>
</span><span id="__span-10-179"><a href="#__codelineno-10-179" id="__codelineno-10-179" name="__codelineno-10-179"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">server</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
</span><span id="__span-10-180"><a href="#__codelineno-10-180" id="__codelineno-10-180" name="__codelineno-10-180"></a><span class="p">}</span>
</span><span id="__span-10-181"><a href="#__codelineno-10-181" id="__codelineno-10-181" name="__codelineno-10-181"></a>
</span><span id="__span-10-182"><a href="#__codelineno-10-182" id="__codelineno-10-182" name="__codelineno-10-182"></a><span class="nx">main</span><span class="p">().</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-183"><a href="#__codelineno-10-183" id="__codelineno-10-183" name="__codelineno-10-183"></a><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Fatal error:"</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
</span><span id="__span-10-184"><a href="#__codelineno-10-184" id="__codelineno-10-184" name="__codelineno-10-184"></a><span class="w">  </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
</span><span id="__span-10-185"><a href="#__codelineno-10-185" id="__codelineno-10-185" name="__codelineno-10-185"></a><span class="p">});</span>
</span></code></pre></div> <p><br/></p> <h4 id="test-enhanced-prompts">Test Enhanced Prompts<a class="headerlink" href="#test-enhanced-prompts" title="Permanent link">¶</a></h4> <p><strong>Test with different arguments:</strong></p> <ol> <li> <p><strong>Basic code review</strong> (with default values): <div class="language-javascript highlight"><pre><span></span><code><span id="__span-11-1"><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"code-review"</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">language</span><span class="o">:</span><span class="w"> </span><span class="s2">"typescript"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</span></code></pre></div> Expected: Returns a prompt with intermediate complexity and quality focus.</p> </li> <li> <p><strong>Advanced code review with focus</strong>: <div class="language-javascript highlight"><pre><span></span><code><span id="__span-12-1"><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="p">{</span>
</span><span id="__span-12-2"><a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"code-review"</span><span class="p">,</span>
</span><span id="__span-12-3"><a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">  </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-4"><a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">    </span><span class="nx">language</span><span class="o">:</span><span class="w"> </span><span class="s2">"python"</span><span class="p">,</span>
</span><span id="__span-12-5"><a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">    </span><span class="nx">complexity</span><span class="o">:</span><span class="w"> </span><span class="s2">"advanced"</span><span class="p">,</span>
</span><span id="__span-12-6"><a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">    </span><span class="nx">focus</span><span class="o">:</span><span class="w"> </span><span class="s2">"security"</span>
</span><span id="__span-12-7"><a href="#__codelineno-12-7" id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-12-8"><a href="#__codelineno-12-8" id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="p">}</span>
</span></code></pre></div> Expected: Returns a prompt with advanced complexity expectations and security focus guidance.</p> </li> </ol> <p><strong>How to test in MCP Inspector:</strong></p> <ol> <li> <p><strong>Start the server:</strong> <div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="nb">cd</span><span class="w"> </span>my-mcp-prompts-server
</span><span id="__span-13-2"><a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a>npm<span class="w"> </span>run<span class="w"> </span>build
</span><span id="__span-13-3"><a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>node<span class="w"> </span>dist/index.js
</span></code></pre></div></p> </li> <li> <p><strong>Inside MCP Inspector UI, navigate to Prompts:</strong></p> <ul> <li>Click on the “Prompts” tab in the Inspector interface</li> </ul> </li> <li> <p><strong>Test List Prompts:</strong></p> <ul> <li>Click “List Prompts” button</li> <li>Verify you see “hello-prompt” and “code-review” with the updated arguments</li> </ul> </li> <li> <p><strong>Test Get Prompt - Basic:</strong></p> <ul> <li>Select “Get Prompt” from the dropdown or click the button</li> <li>Enter <code>code-review</code> in the “Name” field</li> <li>In the “Arguments” field, enter: <code>{"language": "typescript"}</code></li> <li>Click “Send Request”</li> <li>Check that the response includes intermediate complexity and quality focus</li> </ul> </li> <li> <p><strong>Test Get Prompt - Advanced:</strong></p> <ul> <li>Select “Get Prompt” again</li> <li>Enter <code>code-review</code> in the “Name” field</li> <li>In the “Arguments” field, enter: <div class="language-json highlight"><pre><span></span><code><span id="__span-14-1"><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="p">{</span>
</span><span id="__span-14-2"><a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">  </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python"</span><span class="p">,</span>
</span><span id="__span-14-3"><a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">  </span><span class="nt">"complexity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"advanced"</span><span class="p">,</span>
</span><span id="__span-14-4"><a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">  </span><span class="nt">"focus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"security"</span>
</span><span id="__span-14-5"><a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="p">}</span>
</span></code></pre></div></li> <li>Click “Send Request”</li> <li>Verify the prompt content includes advanced expectations and security guidance</li> </ul> </li> <li> <p><strong>Test without arguments:</strong></p> <ul> <li>Try <code>code-review</code> with no arguments</li> <li>Should use defaults: typescript, intermediate, quality</li> </ul> </li> </ol> <p><strong>Expected Results:</strong></p> <ul> <li>The prompt description should reflect the arguments (e.g., “Code review for python (advanced level, focus: security)”)</li> <li>The prompt content should include the appropriate complexity expectations and focus area guidance</li> <li>Helper methods should dynamically insert the correct text based on arguments</li> </ul> <hr/> <h2 id="integrating-resources-with-prompts">Integrating Resources with Prompts<a class="headerlink" href="#integrating-resources-with-prompts" title="Permanent link">¶</a></h2> <p>Prompts become more powerful when integrated with resources! </p> <p>This allows prompts to dynamically include contextual information from your knowledge base, documentation, or data sources, creating richer and more informed AI interactions.</p> <h3 id="step-1-add-resource-support">Step 1: Add Resource Support<a class="headerlink" href="#step-1-add-resource-support" title="Permanent link">¶</a></h3> <p><strong>Create a new project for the resource-prompt server:</strong></p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="c1"># Create new directory next to your previous server</span>
</span><span id="__span-15-2"><a href="#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a>mkdir<span class="w"> </span>my-resource-prompt-server<span class="w">  </span><span class="c1"># &lt;-- next to the directory created previously</span>
</span><span id="__span-15-3"><a href="#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="nb">cd</span><span class="w"> </span>my-resource-prompt-server
</span><span id="__span-15-4"><a href="#__codelineno-15-4" id="__codelineno-15-4" name="__codelineno-15-4"></a>
</span><span id="__span-15-5"><a href="#__codelineno-15-5" id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="c1"># Initialize and install dependencies</span>
</span><span id="__span-15-6"><a href="#__codelineno-15-6" id="__codelineno-15-6" name="__codelineno-15-6"></a>npm<span class="w"> </span>init<span class="w"> </span>-y
</span><span id="__span-15-7"><a href="#__codelineno-15-7" id="__codelineno-15-7" name="__codelineno-15-7"></a>npm<span class="w"> </span>install<span class="w"> </span>@modelcontextprotocol/sdk
</span><span id="__span-15-8"><a href="#__codelineno-15-8" id="__codelineno-15-8" name="__codelineno-15-8"></a>npm<span class="w"> </span>install<span class="w"> </span>-D<span class="w"> </span>typescript<span class="w"> </span>@types/node<span class="w"> </span>tsx
</span><span id="__span-15-9"><a href="#__codelineno-15-9" id="__codelineno-15-9" name="__codelineno-15-9"></a>
</span><span id="__span-15-10"><a href="#__codelineno-15-10" id="__codelineno-15-10" name="__codelineno-15-10"></a><span class="c1"># Create TypeScript config (same as before)</span>
</span><span id="__span-15-11"><a href="#__codelineno-15-11" id="__codelineno-15-11" name="__codelineno-15-11"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>tsconfig.json<span class="w"> </span><span class="s">&lt;&lt; 'EOF'</span>
</span><span id="__span-15-12"><a href="#__codelineno-15-12" id="__codelineno-15-12" name="__codelineno-15-12"></a><span class="s">{</span>
</span><span id="__span-15-13"><a href="#__codelineno-15-13" id="__codelineno-15-13" name="__codelineno-15-13"></a><span class="s">  "compilerOptions": {</span>
</span><span id="__span-15-14"><a href="#__codelineno-15-14" id="__codelineno-15-14" name="__codelineno-15-14"></a><span class="s">    "target": "ES2022",</span>
</span><span id="__span-15-15"><a href="#__codelineno-15-15" id="__codelineno-15-15" name="__codelineno-15-15"></a><span class="s">    "module": "Node16",</span>
</span><span id="__span-15-16"><a href="#__codelineno-15-16" id="__codelineno-15-16" name="__codelineno-15-16"></a><span class="s">    "moduleResolution": "Node16",</span>
</span><span id="__span-15-17"><a href="#__codelineno-15-17" id="__codelineno-15-17" name="__codelineno-15-17"></a><span class="s">    "outDir": "./dist",</span>
</span><span id="__span-15-18"><a href="#__codelineno-15-18" id="__codelineno-15-18" name="__codelineno-15-18"></a><span class="s">    "rootDir": "./src",</span>
</span><span id="__span-15-19"><a href="#__codelineno-15-19" id="__codelineno-15-19" name="__codelineno-15-19"></a><span class="s">    "strict": true,</span>
</span><span id="__span-15-20"><a href="#__codelineno-15-20" id="__codelineno-15-20" name="__codelineno-15-20"></a><span class="s">    "esModuleInterop": true,</span>
</span><span id="__span-15-21"><a href="#__codelineno-15-21" id="__codelineno-15-21" name="__codelineno-15-21"></a><span class="s">    "skipLibCheck": true,</span>
</span><span id="__span-15-22"><a href="#__codelineno-15-22" id="__codelineno-15-22" name="__codelineno-15-22"></a><span class="s">    "forceConsistentCasingInFileNames": true</span>
</span><span id="__span-15-23"><a href="#__codelineno-15-23" id="__codelineno-15-23" name="__codelineno-15-23"></a><span class="s">  },</span>
</span><span id="__span-15-24"><a href="#__codelineno-15-24" id="__codelineno-15-24" name="__codelineno-15-24"></a><span class="s">  "include": ["src/**/*"],</span>
</span><span id="__span-15-25"><a href="#__codelineno-15-25" id="__codelineno-15-25" name="__codelineno-15-25"></a><span class="s">  "exclude": ["node_modules", "dist"]</span>
</span><span id="__span-15-26"><a href="#__codelineno-15-26" id="__codelineno-15-26" name="__codelineno-15-26"></a><span class="s">}</span>
</span><span id="__span-15-27"><a href="#__codelineno-15-27" id="__codelineno-15-27" name="__codelineno-15-27"></a><span class="s">EOF</span>
</span><span id="__span-15-28"><a href="#__codelineno-15-28" id="__codelineno-15-28" name="__codelineno-15-28"></a>
</span><span id="__span-15-29"><a href="#__codelineno-15-29" id="__codelineno-15-29" name="__codelineno-15-29"></a><span class="c1"># Create directory structure</span>
</span><span id="__span-15-30"><a href="#__codelineno-15-30" id="__codelineno-15-30" name="__codelineno-15-30"></a>mkdir<span class="w"> </span>src<span class="w"> </span><span class="c1"># &lt;-- inside "my-resource-prompt-server" directory</span>
</span></code></pre></div> <p><br/></p> <p><strong>Now create the server file <code>src/index.ts</code> with the following content that combines prompts with resources:</strong></p> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-16-1"><a href="#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-2"><a href="#__codelineno-16-2" id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="w">  </span><span class="nx">ListPromptsRequestSchema</span><span class="p">,</span>
</span><span id="__span-16-3"><a href="#__codelineno-16-3" id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="w">  </span><span class="nx">GetPromptRequestSchema</span><span class="p">,</span>
</span><span id="__span-16-4"><a href="#__codelineno-16-4" id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">  </span><span class="nx">ListResourcesRequestSchema</span><span class="p">,</span>
</span><span id="__span-16-5"><a href="#__codelineno-16-5" id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="w">  </span><span class="nx">ReadResourceRequestSchema</span><span class="p">,</span>
</span><span id="__span-16-6"><a href="#__codelineno-16-6" id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@modelcontextprotocol/sdk/types.js"</span><span class="p">;</span>
</span><span id="__span-16-7"><a href="#__codelineno-16-7" id="__codelineno-16-7" name="__codelineno-16-7"></a>
</span><span id="__span-16-8"><a href="#__codelineno-16-8" id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="kd">class</span><span class="w"> </span><span class="nx">ResourcePromptServer</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-9"><a href="#__codelineno-16-9" id="__codelineno-16-9" name="__codelineno-16-9"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">server</span><span class="o">:</span><span class="w"> </span><span class="kt">Server</span><span class="p">;</span>
</span><span id="__span-16-10"><a href="#__codelineno-16-10" id="__codelineno-16-10" name="__codelineno-16-10"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">knowledgeBase</span><span class="o">:</span><span class="w"> </span><span class="kt">Map</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">();</span>
</span><span id="__span-16-11"><a href="#__codelineno-16-11" id="__codelineno-16-11" name="__codelineno-16-11"></a>
</span><span id="__span-16-12"><a href="#__codelineno-16-12" id="__codelineno-16-12" name="__codelineno-16-12"></a><span class="w">  </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-13"><a href="#__codelineno-16-13" id="__codelineno-16-13" name="__codelineno-16-13"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Server</span><span class="p">(</span>
</span><span id="__span-16-14"><a href="#__codelineno-16-14" id="__codelineno-16-14" name="__codelineno-16-14"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-16-15"><a href="#__codelineno-16-15" id="__codelineno-16-15" name="__codelineno-16-15"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"resource-prompt-server"</span><span class="p">,</span>
</span><span id="__span-16-16"><a href="#__codelineno-16-16" id="__codelineno-16-16" name="__codelineno-16-16"></a><span class="w">        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span>
</span><span id="__span-16-17"><a href="#__codelineno-16-17" id="__codelineno-16-17" name="__codelineno-16-17"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-16-18"><a href="#__codelineno-16-18" id="__codelineno-16-18" name="__codelineno-16-18"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-16-19"><a href="#__codelineno-16-19" id="__codelineno-16-19" name="__codelineno-16-19"></a><span class="w">        </span><span class="nx">capabilities</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-20"><a href="#__codelineno-16-20" id="__codelineno-16-20" name="__codelineno-16-20"></a><span class="w">          </span><span class="nx">prompts</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-16-21"><a href="#__codelineno-16-21" id="__codelineno-16-21" name="__codelineno-16-21"></a><span class="w">          </span><span class="nx">resources</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-16-22"><a href="#__codelineno-16-22" id="__codelineno-16-22" name="__codelineno-16-22"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-16-23"><a href="#__codelineno-16-23" id="__codelineno-16-23" name="__codelineno-16-23"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-16-24"><a href="#__codelineno-16-24" id="__codelineno-16-24" name="__codelineno-16-24"></a><span class="w">    </span><span class="p">);</span>
</span><span id="__span-16-25"><a href="#__codelineno-16-25" id="__codelineno-16-25" name="__codelineno-16-25"></a>
</span><span id="__span-16-26"><a href="#__codelineno-16-26" id="__codelineno-16-26" name="__codelineno-16-26"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">initializeKnowledgeBase</span><span class="p">();</span>
</span><span id="__span-16-27"><a href="#__codelineno-16-27" id="__codelineno-16-27" name="__codelineno-16-27"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupHandlers</span><span class="p">();</span>
</span><span id="__span-16-28"><a href="#__codelineno-16-28" id="__codelineno-16-28" name="__codelineno-16-28"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupErrorHandling</span><span class="p">();</span>
</span><span id="__span-16-29"><a href="#__codelineno-16-29" id="__codelineno-16-29" name="__codelineno-16-29"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-30"><a href="#__codelineno-16-30" id="__codelineno-16-30" name="__codelineno-16-30"></a>
</span><span id="__span-16-31"><a href="#__codelineno-16-31" id="__codelineno-16-31" name="__codelineno-16-31"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">initializeKnowledgeBase</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-32"><a href="#__codelineno-16-32" id="__codelineno-16-32" name="__codelineno-16-32"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">"best-practices"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-33"><a href="#__codelineno-16-33" id="__codelineno-16-33" name="__codelineno-16-33"></a><span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">"Development Best Practices"</span><span class="p">,</span>
</span><span id="__span-16-34"><a href="#__codelineno-16-34" id="__codelineno-16-34" name="__codelineno-16-34"></a><span class="w">      </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="sb">`</span>
</span><span id="__span-16-35"><a href="#__codelineno-16-35" id="__codelineno-16-35" name="__codelineno-16-35"></a><span class="sb">## Code Quality</span>
</span><span id="__span-16-36"><a href="#__codelineno-16-36" id="__codelineno-16-36" name="__codelineno-16-36"></a><span class="sb">- Write self-documenting code</span>
</span><span id="__span-16-37"><a href="#__codelineno-16-37" id="__codelineno-16-37" name="__codelineno-16-37"></a><span class="sb">- Use meaningful variable names</span>
</span><span id="__span-16-38"><a href="#__codelineno-16-38" id="__codelineno-16-38" name="__codelineno-16-38"></a><span class="sb">- Keep functions small and focused</span>
</span><span id="__span-16-39"><a href="#__codelineno-16-39" id="__codelineno-16-39" name="__codelineno-16-39"></a>
</span><span id="__span-16-40"><a href="#__codelineno-16-40" id="__codelineno-16-40" name="__codelineno-16-40"></a><span class="sb">## Testing</span>
</span><span id="__span-16-41"><a href="#__codelineno-16-41" id="__codelineno-16-41" name="__codelineno-16-41"></a><span class="sb">- Write unit tests for all functions</span>
</span><span id="__span-16-42"><a href="#__codelineno-16-42" id="__codelineno-16-42" name="__codelineno-16-42"></a><span class="sb">- Include integration tests</span>
</span><span id="__span-16-43"><a href="#__codelineno-16-43" id="__codelineno-16-43" name="__codelineno-16-43"></a><span class="sb">- Test edge cases and error conditions</span>
</span><span id="__span-16-44"><a href="#__codelineno-16-44" id="__codelineno-16-44" name="__codelineno-16-44"></a><span class="sb">      `</span><span class="p">,</span>
</span><span id="__span-16-45"><a href="#__codelineno-16-45" id="__codelineno-16-45" name="__codelineno-16-45"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-16-46"><a href="#__codelineno-16-46" id="__codelineno-16-46" name="__codelineno-16-46"></a>
</span><span id="__span-16-47"><a href="#__codelineno-16-47" id="__codelineno-16-47" name="__codelineno-16-47"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">"security-guidelines"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-48"><a href="#__codelineno-16-48" id="__codelineno-16-48" name="__codelineno-16-48"></a><span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">"Security Guidelines"</span><span class="p">,</span>
</span><span id="__span-16-49"><a href="#__codelineno-16-49" id="__codelineno-16-49" name="__codelineno-16-49"></a><span class="w">      </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="sb">`</span>
</span><span id="__span-16-50"><a href="#__codelineno-16-50" id="__codelineno-16-50" name="__codelineno-16-50"></a><span class="sb">## Input Validation</span>
</span><span id="__span-16-51"><a href="#__codelineno-16-51" id="__codelineno-16-51" name="__codelineno-16-51"></a><span class="sb">- Validate all user inputs</span>
</span><span id="__span-16-52"><a href="#__codelineno-16-52" id="__codelineno-16-52" name="__codelineno-16-52"></a><span class="sb">- Use parameterized queries</span>
</span><span id="__span-16-53"><a href="#__codelineno-16-53" id="__codelineno-16-53" name="__codelineno-16-53"></a><span class="sb">- Sanitize HTML content</span>
</span><span id="__span-16-54"><a href="#__codelineno-16-54" id="__codelineno-16-54" name="__codelineno-16-54"></a>
</span><span id="__span-16-55"><a href="#__codelineno-16-55" id="__codelineno-16-55" name="__codelineno-16-55"></a><span class="sb">## Authentication</span>
</span><span id="__span-16-56"><a href="#__codelineno-16-56" id="__codelineno-16-56" name="__codelineno-16-56"></a><span class="sb">- Use strong password policies</span>
</span><span id="__span-16-57"><a href="#__codelineno-16-57" id="__codelineno-16-57" name="__codelineno-16-57"></a><span class="sb">- Implement multi-factor authentication</span>
</span><span id="__span-16-58"><a href="#__codelineno-16-58" id="__codelineno-16-58" name="__codelineno-16-58"></a><span class="sb">      `</span><span class="p">,</span>
</span><span id="__span-16-59"><a href="#__codelineno-16-59" id="__codelineno-16-59" name="__codelineno-16-59"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-16-60"><a href="#__codelineno-16-60" id="__codelineno-16-60" name="__codelineno-16-60"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-61"><a href="#__codelineno-16-61" id="__codelineno-16-61" name="__codelineno-16-61"></a>
</span><span id="__span-16-62"><a href="#__codelineno-16-62" id="__codelineno-16-62" name="__codelineno-16-62"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupHandlers</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-63"><a href="#__codelineno-16-63" id="__codelineno-16-63" name="__codelineno-16-63"></a><span class="w">    </span><span class="c1">// Resource handlers</span>
</span><span id="__span-16-64"><a href="#__codelineno-16-64" id="__codelineno-16-64" name="__codelineno-16-64"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ListResourcesRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-65"><a href="#__codelineno-16-65" id="__codelineno-16-65" name="__codelineno-16-65"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">resources</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Array</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">entries</span><span class="p">()).</span><span class="nx">map</span><span class="p">(([</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">doc</span><span class="p">])</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span>
</span><span id="__span-16-66"><a href="#__codelineno-16-66" id="__codelineno-16-66" name="__codelineno-16-66"></a><span class="w">        </span><span class="nx">uri</span><span class="o">:</span><span class="w"> </span><span class="sb">`kb://articles/</span><span class="si">${</span><span class="nx">key</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-16-67"><a href="#__codelineno-16-67" id="__codelineno-16-67" name="__codelineno-16-67"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">doc.title</span><span class="p">,</span>
</span><span id="__span-16-68"><a href="#__codelineno-16-68" id="__codelineno-16-68" name="__codelineno-16-68"></a><span class="w">        </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`Knowledge base: </span><span class="si">${</span><span class="nx">doc</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-16-69"><a href="#__codelineno-16-69" id="__codelineno-16-69" name="__codelineno-16-69"></a><span class="w">        </span><span class="nx">mimeType</span><span class="o">:</span><span class="w"> </span><span class="s2">"text/markdown"</span><span class="p">,</span>
</span><span id="__span-16-70"><a href="#__codelineno-16-70" id="__codelineno-16-70" name="__codelineno-16-70"></a><span class="w">      </span><span class="p">}));</span>
</span><span id="__span-16-71"><a href="#__codelineno-16-71" id="__codelineno-16-71" name="__codelineno-16-71"></a>
</span><span id="__span-16-72"><a href="#__codelineno-16-72" id="__codelineno-16-72" name="__codelineno-16-72"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">resources</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-16-73"><a href="#__codelineno-16-73" id="__codelineno-16-73" name="__codelineno-16-73"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-16-74"><a href="#__codelineno-16-74" id="__codelineno-16-74" name="__codelineno-16-74"></a>
</span><span id="__span-16-75"><a href="#__codelineno-16-75" id="__codelineno-16-75" name="__codelineno-16-75"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ReadResourceRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-76"><a href="#__codelineno-16-76" id="__codelineno-16-76" name="__codelineno-16-76"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">uri</span><span class="p">;</span>
</span><span id="__span-16-77"><a href="#__codelineno-16-77" id="__codelineno-16-77" name="__codelineno-16-77"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">readKnowledgeBase</span><span class="p">(</span><span class="nx">uri</span><span class="p">);</span>
</span><span id="__span-16-78"><a href="#__codelineno-16-78" id="__codelineno-16-78" name="__codelineno-16-78"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">contents</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">content</span><span class="p">]</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-16-79"><a href="#__codelineno-16-79" id="__codelineno-16-79" name="__codelineno-16-79"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-16-80"><a href="#__codelineno-16-80" id="__codelineno-16-80" name="__codelineno-16-80"></a>
</span><span id="__span-16-81"><a href="#__codelineno-16-81" id="__codelineno-16-81" name="__codelineno-16-81"></a><span class="w">    </span><span class="c1">// Prompt handlers</span>
</span><span id="__span-16-82"><a href="#__codelineno-16-82" id="__codelineno-16-82" name="__codelineno-16-82"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ListPromptsRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-83"><a href="#__codelineno-16-83" id="__codelineno-16-83" name="__codelineno-16-83"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-84"><a href="#__codelineno-16-84" id="__codelineno-16-84" name="__codelineno-16-84"></a><span class="w">        </span><span class="nx">prompts</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-16-85"><a href="#__codelineno-16-85" id="__codelineno-16-85" name="__codelineno-16-85"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-16-86"><a href="#__codelineno-16-86" id="__codelineno-16-86" name="__codelineno-16-86"></a><span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"contextual-code-review"</span><span class="p">,</span>
</span><span id="__span-16-87"><a href="#__codelineno-16-87" id="__codelineno-16-87" name="__codelineno-16-87"></a><span class="w">            </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Code review with integrated best practices"</span><span class="p">,</span>
</span><span id="__span-16-88"><a href="#__codelineno-16-88" id="__codelineno-16-88" name="__codelineno-16-88"></a><span class="w">            </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-16-89"><a href="#__codelineno-16-89" id="__codelineno-16-89" name="__codelineno-16-89"></a><span class="w">              </span><span class="p">{</span>
</span><span id="__span-16-90"><a href="#__codelineno-16-90" id="__codelineno-16-90" name="__codelineno-16-90"></a><span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"language"</span><span class="p">,</span>
</span><span id="__span-16-91"><a href="#__codelineno-16-91" id="__codelineno-16-91" name="__codelineno-16-91"></a><span class="w">                </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Programming language"</span><span class="p">,</span>
</span><span id="__span-16-92"><a href="#__codelineno-16-92" id="__codelineno-16-92" name="__codelineno-16-92"></a><span class="w">                </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
</span><span id="__span-16-93"><a href="#__codelineno-16-93" id="__codelineno-16-93" name="__codelineno-16-93"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-16-94"><a href="#__codelineno-16-94" id="__codelineno-16-94" name="__codelineno-16-94"></a><span class="w">              </span><span class="p">{</span>
</span><span id="__span-16-95"><a href="#__codelineno-16-95" id="__codelineno-16-95" name="__codelineno-16-95"></a><span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"focusAreas"</span><span class="p">,</span>
</span><span id="__span-16-96"><a href="#__codelineno-16-96" id="__codelineno-16-96" name="__codelineno-16-96"></a><span class="w">                </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Focus areas (comma-separated)"</span><span class="p">,</span>
</span><span id="__span-16-97"><a href="#__codelineno-16-97" id="__codelineno-16-97" name="__codelineno-16-97"></a><span class="w">                </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
</span><span id="__span-16-98"><a href="#__codelineno-16-98" id="__codelineno-16-98" name="__codelineno-16-98"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-16-99"><a href="#__codelineno-16-99" id="__codelineno-16-99" name="__codelineno-16-99"></a><span class="w">            </span><span class="p">],</span>
</span><span id="__span-16-100"><a href="#__codelineno-16-100" id="__codelineno-16-100" name="__codelineno-16-100"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-16-101"><a href="#__codelineno-16-101" id="__codelineno-16-101" name="__codelineno-16-101"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-16-102"><a href="#__codelineno-16-102" id="__codelineno-16-102" name="__codelineno-16-102"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-16-103"><a href="#__codelineno-16-103" id="__codelineno-16-103" name="__codelineno-16-103"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-16-104"><a href="#__codelineno-16-104" id="__codelineno-16-104" name="__codelineno-16-104"></a>
</span><span id="__span-16-105"><a href="#__codelineno-16-105" id="__codelineno-16-105" name="__codelineno-16-105"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">GetPromptRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-106"><a href="#__codelineno-16-106" id="__codelineno-16-106" name="__codelineno-16-106"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="kt">args</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
</span><span id="__span-16-107"><a href="#__codelineno-16-107" id="__codelineno-16-107" name="__codelineno-16-107"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">generatePrompt</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">{});</span>
</span><span id="__span-16-108"><a href="#__codelineno-16-108" id="__codelineno-16-108" name="__codelineno-16-108"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-16-109"><a href="#__codelineno-16-109" id="__codelineno-16-109" name="__codelineno-16-109"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-110"><a href="#__codelineno-16-110" id="__codelineno-16-110" name="__codelineno-16-110"></a>
</span><span id="__span-16-111"><a href="#__codelineno-16-111" id="__codelineno-16-111" name="__codelineno-16-111"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">readKnowledgeBase</span><span class="p">(</span><span class="nx">uri</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-112"><a href="#__codelineno-16-112" id="__codelineno-16-112" name="__codelineno-16-112"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">match</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">uri</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^kb:\/\/articles\/(.+)$/</span><span class="p">);</span>
</span><span id="__span-16-113"><a href="#__codelineno-16-113" id="__codelineno-16-113" name="__codelineno-16-113"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">match</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Invalid knowledge base URI: </span><span class="si">${</span><span class="nx">uri</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-16-114"><a href="#__codelineno-16-114" id="__codelineno-16-114" name="__codelineno-16-114"></a>
</span><span id="__span-16-115"><a href="#__codelineno-16-115" id="__codelineno-16-115" name="__codelineno-16-115"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">match</span><span class="p">[</span><span class="mf">1</span><span class="p">];</span>
</span><span id="__span-16-116"><a href="#__codelineno-16-116" id="__codelineno-16-116" name="__codelineno-16-116"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">article</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
</span><span id="__span-16-117"><a href="#__codelineno-16-117" id="__codelineno-16-117" name="__codelineno-16-117"></a>
</span><span id="__span-16-118"><a href="#__codelineno-16-118" id="__codelineno-16-118" name="__codelineno-16-118"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">article</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Article not found: </span><span class="si">${</span><span class="nx">key</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-16-119"><a href="#__codelineno-16-119" id="__codelineno-16-119" name="__codelineno-16-119"></a>
</span><span id="__span-16-120"><a href="#__codelineno-16-120" id="__codelineno-16-120" name="__codelineno-16-120"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-121"><a href="#__codelineno-16-121" id="__codelineno-16-121" name="__codelineno-16-121"></a><span class="w">      </span><span class="nx">uri</span><span class="p">,</span>
</span><span id="__span-16-122"><a href="#__codelineno-16-122" id="__codelineno-16-122" name="__codelineno-16-122"></a><span class="w">      </span><span class="nx">mimeType</span><span class="o">:</span><span class="w"> </span><span class="s2">"text/markdown"</span><span class="p">,</span>
</span><span id="__span-16-123"><a href="#__codelineno-16-123" id="__codelineno-16-123" name="__codelineno-16-123"></a><span class="w">      </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="kt">article.content</span><span class="p">,</span>
</span><span id="__span-16-124"><a href="#__codelineno-16-124" id="__codelineno-16-124" name="__codelineno-16-124"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-16-125"><a href="#__codelineno-16-125" id="__codelineno-16-125" name="__codelineno-16-125"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-126"><a href="#__codelineno-16-126" id="__codelineno-16-126" name="__codelineno-16-126"></a>
</span><span id="__span-16-127"><a href="#__codelineno-16-127" id="__codelineno-16-127" name="__codelineno-16-127"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">generatePrompt</span><span class="p">(</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="o">:</span><span class="w"> </span><span class="kt">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-128"><a href="#__codelineno-16-128" id="__codelineno-16-128" name="__codelineno-16-128"></a><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-129"><a href="#__codelineno-16-129" id="__codelineno-16-129" name="__codelineno-16-129"></a><span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s2">"contextual-code-review"</span><span class="o">:</span>
</span><span id="__span-16-130"><a href="#__codelineno-16-130" id="__codelineno-16-130" name="__codelineno-16-130"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">createContextualCodeReviewPrompt</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span>
</span><span id="__span-16-131"><a href="#__codelineno-16-131" id="__codelineno-16-131" name="__codelineno-16-131"></a>
</span><span id="__span-16-132"><a href="#__codelineno-16-132" id="__codelineno-16-132" name="__codelineno-16-132"></a><span class="w">      </span><span class="nx">default</span><span class="o">:</span>
</span><span id="__span-16-133"><a href="#__codelineno-16-133" id="__codelineno-16-133" name="__codelineno-16-133"></a><span class="w">        </span><span class="kt">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Unknown prompt: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-16-134"><a href="#__codelineno-16-134" id="__codelineno-16-134" name="__codelineno-16-134"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-16-135"><a href="#__codelineno-16-135" id="__codelineno-16-135" name="__codelineno-16-135"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-136"><a href="#__codelineno-16-136" id="__codelineno-16-136" name="__codelineno-16-136"></a>
</span><span id="__span-16-137"><a href="#__codelineno-16-137" id="__codelineno-16-137" name="__codelineno-16-137"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">createContextualCodeReviewPrompt</span><span class="p">(</span><span class="nx">args</span><span class="o">:</span><span class="w"> </span><span class="kt">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-138"><a href="#__codelineno-16-138" id="__codelineno-16-138" name="__codelineno-16-138"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">language</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"typescript"</span><span class="p">;</span>
</span><span id="__span-16-139"><a href="#__codelineno-16-139" id="__codelineno-16-139" name="__codelineno-16-139"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">focusAreas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">focusAreas</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">focusAreas</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">','</span><span class="p">).</span><span class="nx">map</span><span class="p">((</span><span class="nx">s</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">s</span><span class="p">.</span><span class="nx">trim</span><span class="p">())</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"quality"</span><span class="p">];</span>
</span><span id="__span-16-140"><a href="#__codelineno-16-140" id="__codelineno-16-140" name="__codelineno-16-140"></a>
</span><span id="__span-16-141"><a href="#__codelineno-16-141" id="__codelineno-16-141" name="__codelineno-16-141"></a><span class="w">    </span><span class="c1">// Fetch relevant knowledge base articles</span>
</span><span id="__span-16-142"><a href="#__codelineno-16-142" id="__codelineno-16-142" name="__codelineno-16-142"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">contextContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">;</span>
</span><span id="__span-16-143"><a href="#__codelineno-16-143" id="__codelineno-16-143" name="__codelineno-16-143"></a>
</span><span id="__span-16-144"><a href="#__codelineno-16-144" id="__codelineno-16-144" name="__codelineno-16-144"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">focusAreas</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">"quality"</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-145"><a href="#__codelineno-16-145" id="__codelineno-16-145" name="__codelineno-16-145"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">bestPractices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"best-practices"</span><span class="p">);</span>
</span><span id="__span-16-146"><a href="#__codelineno-16-146" id="__codelineno-16-146" name="__codelineno-16-146"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">bestPractices</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-147"><a href="#__codelineno-16-147" id="__codelineno-16-147" name="__codelineno-16-147"></a><span class="w">        </span><span class="nx">contextContent</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="sb">`\n## Development Best Practices\n</span><span class="si">${</span><span class="nx">bestPractices</span><span class="p">.</span><span class="nx">content</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span><span id="__span-16-148"><a href="#__codelineno-16-148" id="__codelineno-16-148" name="__codelineno-16-148"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-16-149"><a href="#__codelineno-16-149" id="__codelineno-16-149" name="__codelineno-16-149"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-16-150"><a href="#__codelineno-16-150" id="__codelineno-16-150" name="__codelineno-16-150"></a>
</span><span id="__span-16-151"><a href="#__codelineno-16-151" id="__codelineno-16-151" name="__codelineno-16-151"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">focusAreas</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">"security"</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-152"><a href="#__codelineno-16-152" id="__codelineno-16-152" name="__codelineno-16-152"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">securityGuidelines</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"security-guidelines"</span><span class="p">);</span>
</span><span id="__span-16-153"><a href="#__codelineno-16-153" id="__codelineno-16-153" name="__codelineno-16-153"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">securityGuidelines</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-154"><a href="#__codelineno-16-154" id="__codelineno-16-154" name="__codelineno-16-154"></a><span class="w">        </span><span class="nx">contextContent</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="sb">`\n## Security Guidelines\n</span><span class="si">${</span><span class="nx">securityGuidelines</span><span class="p">.</span><span class="nx">content</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span><span id="__span-16-155"><a href="#__codelineno-16-155" id="__codelineno-16-155" name="__codelineno-16-155"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-16-156"><a href="#__codelineno-16-156" id="__codelineno-16-156" name="__codelineno-16-156"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-16-157"><a href="#__codelineno-16-157" id="__codelineno-16-157" name="__codelineno-16-157"></a>
</span><span id="__span-16-158"><a href="#__codelineno-16-158" id="__codelineno-16-158" name="__codelineno-16-158"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-159"><a href="#__codelineno-16-159" id="__codelineno-16-159" name="__codelineno-16-159"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`Contextual code review for </span><span class="si">${</span><span class="nx">language</span><span class="si">}</span><span class="sb"> with focus on: </span><span class="si">${</span><span class="nx">focusAreas</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">', '</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-16-160"><a href="#__codelineno-16-160" id="__codelineno-16-160" name="__codelineno-16-160"></a><span class="w">      </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-16-161"><a href="#__codelineno-16-161" id="__codelineno-16-161" name="__codelineno-16-161"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-16-162"><a href="#__codelineno-16-162" id="__codelineno-16-162" name="__codelineno-16-162"></a><span class="w">          </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span>
</span><span id="__span-16-163"><a href="#__codelineno-16-163" id="__codelineno-16-163" name="__codelineno-16-163"></a><span class="w">          </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-164"><a href="#__codelineno-16-164" id="__codelineno-16-164" name="__codelineno-16-164"></a><span class="w">            </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-16-165"><a href="#__codelineno-16-165" id="__codelineno-16-165" name="__codelineno-16-165"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Please perform a comprehensive code review of the following </span><span class="si">${</span><span class="nx">language</span><span class="si">}</span><span class="sb"> code. Use the integrated knowledge base context to provide informed recommendations.</span>
</span><span id="__span-16-166"><a href="#__codelineno-16-166" id="__codelineno-16-166" name="__codelineno-16-166"></a>
</span><span id="__span-16-167"><a href="#__codelineno-16-167" id="__codelineno-16-167" name="__codelineno-16-167"></a><span class="sb">## Review Context</span>
</span><span id="__span-16-168"><a href="#__codelineno-16-168" id="__codelineno-16-168" name="__codelineno-16-168"></a><span class="si">${</span><span class="nx">contextContent</span><span class="si">}</span>
</span><span id="__span-16-169"><a href="#__codelineno-16-169" id="__codelineno-16-169" name="__codelineno-16-169"></a>
</span><span id="__span-16-170"><a href="#__codelineno-16-170" id="__codelineno-16-170" name="__codelineno-16-170"></a><span class="sb">## Code to Review</span>
</span><span id="__span-16-171"><a href="#__codelineno-16-171" id="__codelineno-16-171" name="__codelineno-16-171"></a><span class="sb">[Insert code here]</span>
</span><span id="__span-16-172"><a href="#__codelineno-16-172" id="__codelineno-16-172" name="__codelineno-16-172"></a>
</span><span id="__span-16-173"><a href="#__codelineno-16-173" id="__codelineno-16-173" name="__codelineno-16-173"></a><span class="sb">## Review Focus Areas</span>
</span><span id="__span-16-174"><a href="#__codelineno-16-174" id="__codelineno-16-174" name="__codelineno-16-174"></a><span class="si">${</span><span class="nx">focusAreas</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">area</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="sb">`- **</span><span class="si">${</span><span class="nx">area</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mf">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">area</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="si">}</span><span class="sb">**: Apply relevant guidelines from the context above`</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">'\n'</span><span class="p">)</span><span class="si">}</span>
</span><span id="__span-16-175"><a href="#__codelineno-16-175" id="__codelineno-16-175" name="__codelineno-16-175"></a>
</span><span id="__span-16-176"><a href="#__codelineno-16-176" id="__codelineno-16-176" name="__codelineno-16-176"></a><span class="sb">## Review Structure</span>
</span><span id="__span-16-177"><a href="#__codelineno-16-177" id="__codelineno-16-177" name="__codelineno-16-177"></a><span class="sb">1. **Summary**: Overall assessment and key findings</span>
</span><span id="__span-16-178"><a href="#__codelineno-16-178" id="__codelineno-16-178" name="__codelineno-16-178"></a><span class="sb">2. **Strengths**: What the code does well</span>
</span><span id="__span-16-179"><a href="#__codelineno-16-179" id="__codelineno-16-179" name="__codelineno-16-179"></a><span class="sb">3. **Areas for Improvement**: Specific recommendations with context references</span>
</span><span id="__span-16-180"><a href="#__codelineno-16-180" id="__codelineno-16-180" name="__codelineno-16-180"></a><span class="sb">4. **Action Items**: Prioritized list of recommended changes</span>
</span><span id="__span-16-181"><a href="#__codelineno-16-181" id="__codelineno-16-181" name="__codelineno-16-181"></a>
</span><span id="__span-16-182"><a href="#__codelineno-16-182" id="__codelineno-16-182" name="__codelineno-16-182"></a><span class="sb">Please reference specific guidelines from the provided context and explain how they apply to this code.`</span><span class="p">,</span>
</span><span id="__span-16-183"><a href="#__codelineno-16-183" id="__codelineno-16-183" name="__codelineno-16-183"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-16-184"><a href="#__codelineno-16-184" id="__codelineno-16-184" name="__codelineno-16-184"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-16-185"><a href="#__codelineno-16-185" id="__codelineno-16-185" name="__codelineno-16-185"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-16-186"><a href="#__codelineno-16-186" id="__codelineno-16-186" name="__codelineno-16-186"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-16-187"><a href="#__codelineno-16-187" id="__codelineno-16-187" name="__codelineno-16-187"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-188"><a href="#__codelineno-16-188" id="__codelineno-16-188" name="__codelineno-16-188"></a>
</span><span id="__span-16-189"><a href="#__codelineno-16-189" id="__codelineno-16-189" name="__codelineno-16-189"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupErrorHandling</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-190"><a href="#__codelineno-16-190" id="__codelineno-16-190" name="__codelineno-16-190"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">onerror</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-191"><a href="#__codelineno-16-191" id="__codelineno-16-191" name="__codelineno-16-191"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"[MCP Error]"</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
</span><span id="__span-16-192"><a href="#__codelineno-16-192" id="__codelineno-16-192" name="__codelineno-16-192"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-16-193"><a href="#__codelineno-16-193" id="__codelineno-16-193" name="__codelineno-16-193"></a>
</span><span id="__span-16-194"><a href="#__codelineno-16-194" id="__codelineno-16-194" name="__codelineno-16-194"></a><span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"SIGINT"</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-195"><a href="#__codelineno-16-195" id="__codelineno-16-195" name="__codelineno-16-195"></a><span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span><span id="__span-16-196"><a href="#__codelineno-16-196" id="__codelineno-16-196" name="__codelineno-16-196"></a><span class="w">      </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
</span><span id="__span-16-197"><a href="#__codelineno-16-197" id="__codelineno-16-197" name="__codelineno-16-197"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-16-198"><a href="#__codelineno-16-198" id="__codelineno-16-198" name="__codelineno-16-198"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-199"><a href="#__codelineno-16-199" id="__codelineno-16-199" name="__codelineno-16-199"></a>
</span><span id="__span-16-200"><a href="#__codelineno-16-200" id="__codelineno-16-200" name="__codelineno-16-200"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">start</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-201"><a href="#__codelineno-16-201" id="__codelineno-16-201" name="__codelineno-16-201"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">transport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="p">();</span>
</span><span id="__span-16-202"><a href="#__codelineno-16-202" id="__codelineno-16-202" name="__codelineno-16-202"></a><span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">transport</span><span class="p">);</span>
</span><span id="__span-16-203"><a href="#__codelineno-16-203" id="__codelineno-16-203" name="__codelineno-16-203"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Resource-Prompt Server running on stdio"</span><span class="p">);</span>
</span><span id="__span-16-204"><a href="#__codelineno-16-204" id="__codelineno-16-204" name="__codelineno-16-204"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-205"><a href="#__codelineno-16-205" id="__codelineno-16-205" name="__codelineno-16-205"></a><span class="p">}</span>
</span></code></pre></div> <hr/> <h3 id="step-2-test-resource-integration">Step 2: Test Resource Integration<a class="headerlink" href="#step-2-test-resource-integration" title="Permanent link">¶</a></h3> <p><strong>Build and run the resource-prompt server:</strong></p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="nb">cd</span><span class="w"> </span>my-resource-prompt-server
</span><span id="__span-17-2"><a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a>npm<span class="w"> </span>run<span class="w"> </span>build
</span><span id="__span-17-3"><a href="#__codelineno-17-3" id="__codelineno-17-3" name="__codelineno-17-3"></a>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>node<span class="w"> </span>dist/index.js
</span></code></pre></div> <p><strong>Test the enhanced server inside the MCP Inspector UI:</strong></p> <ol> <li> <p><strong>Navigate to Resources tab:</strong></p> <ul> <li>Click on the “Resources” tab</li> </ul> </li> <li> <p><strong>List resources:</strong></p> <ul> <li>Click “List Resources” button</li> <li>Verify you see the knowledge base articles (“Development Best Practices” and “Security Guidelines”)</li> </ul> </li> <li> <p><strong>Read a resource:</strong></p> <ul> <li>Select “Read Resource” from the dropdown</li> <li>Enter <code>kb://articles/best-practices</code> in the “URI” field</li> <li>Click “Send Request”</li> <li>Check that the response includes the full content of the best practices article</li> </ul> </li> <li> <p><strong>Read another resource:</strong></p> <ul> <li>Select “Read Resource” again</li> <li>Enter <code>kb://articles/security-guidelines</code> in the “URI” field</li> <li>Click “Send Request”</li> <li>Verify the security guidelines content is returned</li> </ul> </li> <li> <p><strong>Navigate to Prompts tab:</strong></p> <ul> <li>Click on the “Prompts” tab</li> </ul> </li> <li> <p><strong>List prompts:</strong></p> <ul> <li>Click “List Prompts” button</li> <li>Verify you see the “contextual-code-review” prompt with its arguments</li> </ul> </li> <li> <p><strong>Get contextual prompt - Basic:</strong></p> <ul> <li>Select “Get Prompt”</li> <li>Enter <code>contextual-code-review</code> in the “Name” field</li> <li>In the “Arguments” field, enter: <code>{"language": "typescript"}</code></li> <li>Click “Send Request”</li> <li>Check that the prompt content includes the best practices from the knowledge base</li> </ul> </li> <li> <p><strong>Get contextual prompt - With focus areas:</strong></p> <ul> <li>Select “Get Prompt” again</li> <li>Enter <code>contextual-code-review</code> in the “Name” field</li> <li>In the “Arguments” field, enter: <div class="language-json highlight"><pre><span></span><code><span id="__span-18-1"><a href="#__codelineno-18-1" id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="p">{</span>
</span><span id="__span-18-2"><a href="#__codelineno-18-2" id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="w">  </span><span class="nt">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python"</span><span class="p">,</span>
</span><span id="__span-18-3"><a href="#__codelineno-18-3" id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="w">  </span><span class="nt">"focusAreas"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quality,security"</span>
</span><span id="__span-18-4"><a href="#__codelineno-18-4" id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="p">}</span>
</span></code></pre></div></li> <li>Click “Send Request”</li> <li>Verify the prompt includes both best practices and security guidelines from the knowledge base</li> </ul> </li> </ol> <p><br/></p> <p><strong>Expected Results:</strong></p> <ul> <li>Resources should list the knowledge base articles with proper URIs and descriptions</li> <li>Reading resources should return the full markdown content of each article</li> <li>Prompts should dynamically include relevant knowledge base content based on the focus areas argument</li> <li>The contextual prompt should reference specific guidelines from the integrated resources</li> </ul> <hr/> <h2 id="complete-mcp-server-integration">Complete MCP Server Integration<a class="headerlink" href="#complete-mcp-server-integration" title="Permanent link">¶</a></h2> <p>Complete MCP server integration combines all three core capabilities - tools, resources, and prompts - into a single server that can perform complex operations and provide rich, contextual AI interactions.</p> <h3 id="step-1-combine-all-capabilities">Step 1: Combine All Capabilities<a class="headerlink" href="#step-1-combine-all-capabilities" title="Permanent link">¶</a></h3> <p><strong>Create a new project for the complete MCP server:</strong></p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a href="#__codelineno-19-1" id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="c1"># Create new directory next to your previous servers</span>
</span><span id="__span-19-2"><a href="#__codelineno-19-2" id="__codelineno-19-2" name="__codelineno-19-2"></a>mkdir<span class="w"> </span>my-complete-mcp-server
</span><span id="__span-19-3"><a href="#__codelineno-19-3" id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="nb">cd</span><span class="w"> </span>my-complete-mcp-server
</span><span id="__span-19-4"><a href="#__codelineno-19-4" id="__codelineno-19-4" name="__codelineno-19-4"></a>
</span><span id="__span-19-5"><a href="#__codelineno-19-5" id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="c1"># Initialize and install dependencies</span>
</span><span id="__span-19-6"><a href="#__codelineno-19-6" id="__codelineno-19-6" name="__codelineno-19-6"></a>npm<span class="w"> </span>init<span class="w"> </span>-y
</span><span id="__span-19-7"><a href="#__codelineno-19-7" id="__codelineno-19-7" name="__codelineno-19-7"></a>npm<span class="w"> </span>install<span class="w"> </span>@modelcontextprotocol/sdk
</span><span id="__span-19-8"><a href="#__codelineno-19-8" id="__codelineno-19-8" name="__codelineno-19-8"></a>npm<span class="w"> </span>install<span class="w"> </span>-D<span class="w"> </span>typescript<span class="w"> </span>@types/node<span class="w"> </span>tsx
</span><span id="__span-19-9"><a href="#__codelineno-19-9" id="__codelineno-19-9" name="__codelineno-19-9"></a>
</span><span id="__span-19-10"><a href="#__codelineno-19-10" id="__codelineno-19-10" name="__codelineno-19-10"></a><span class="c1"># Create TypeScript config (same as before)</span>
</span><span id="__span-19-11"><a href="#__codelineno-19-11" id="__codelineno-19-11" name="__codelineno-19-11"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>tsconfig.json<span class="w"> </span><span class="s">&lt;&lt; 'EOF'</span>
</span><span id="__span-19-12"><a href="#__codelineno-19-12" id="__codelineno-19-12" name="__codelineno-19-12"></a><span class="s">{</span>
</span><span id="__span-19-13"><a href="#__codelineno-19-13" id="__codelineno-19-13" name="__codelineno-19-13"></a><span class="s">  "compilerOptions": {</span>
</span><span id="__span-19-14"><a href="#__codelineno-19-14" id="__codelineno-19-14" name="__codelineno-19-14"></a><span class="s">    "target": "ES2022",</span>
</span><span id="__span-19-15"><a href="#__codelineno-19-15" id="__codelineno-19-15" name="__codelineno-19-15"></a><span class="s">    "module": "Node16",</span>
</span><span id="__span-19-16"><a href="#__codelineno-19-16" id="__codelineno-19-16" name="__codelineno-19-16"></a><span class="s">    "moduleResolution": "Node16",</span>
</span><span id="__span-19-17"><a href="#__codelineno-19-17" id="__codelineno-19-17" name="__codelineno-19-17"></a><span class="s">    "outDir": "./dist",</span>
</span><span id="__span-19-18"><a href="#__codelineno-19-18" id="__codelineno-19-18" name="__codelineno-19-18"></a><span class="s">    "rootDir": "./src",</span>
</span><span id="__span-19-19"><a href="#__codelineno-19-19" id="__codelineno-19-19" name="__codelineno-19-19"></a><span class="s">    "strict": true,</span>
</span><span id="__span-19-20"><a href="#__codelineno-19-20" id="__codelineno-19-20" name="__codelineno-19-20"></a><span class="s">    "esModuleInterop": true,</span>
</span><span id="__span-19-21"><a href="#__codelineno-19-21" id="__codelineno-19-21" name="__codelineno-19-21"></a><span class="s">    "skipLibCheck": true,</span>
</span><span id="__span-19-22"><a href="#__codelineno-19-22" id="__codelineno-19-22" name="__codelineno-19-22"></a><span class="s">    "forceConsistentCasingInFileNames": true</span>
</span><span id="__span-19-23"><a href="#__codelineno-19-23" id="__codelineno-19-23" name="__codelineno-19-23"></a><span class="s">  },</span>
</span><span id="__span-19-24"><a href="#__codelineno-19-24" id="__codelineno-19-24" name="__codelineno-19-24"></a><span class="s">  "include": ["src/**/*"],</span>
</span><span id="__span-19-25"><a href="#__codelineno-19-25" id="__codelineno-19-25" name="__codelineno-19-25"></a><span class="s">  "exclude": ["node_modules", "dist"]</span>
</span><span id="__span-19-26"><a href="#__codelineno-19-26" id="__codelineno-19-26" name="__codelineno-19-26"></a><span class="s">}</span>
</span><span id="__span-19-27"><a href="#__codelineno-19-27" id="__codelineno-19-27" name="__codelineno-19-27"></a><span class="s">EOF</span>
</span><span id="__span-19-28"><a href="#__codelineno-19-28" id="__codelineno-19-28" name="__codelineno-19-28"></a>
</span><span id="__span-19-29"><a href="#__codelineno-19-29" id="__codelineno-19-29" name="__codelineno-19-29"></a><span class="c1"># Create directory structure</span>
</span><span id="__span-19-30"><a href="#__codelineno-19-30" id="__codelineno-19-30" name="__codelineno-19-30"></a>mkdir<span class="w"> </span>src
</span></code></pre></div> <p><br/></p> <p><strong>Now create the server file <code>src/index.ts</code>, that combines tools, resources, and prompts, with the following content:</strong></p> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-20-1"><a href="#__codelineno-20-1" id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-2"><a href="#__codelineno-20-2" id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="w">  </span><span class="nx">ListToolsRequestSchema</span><span class="p">,</span>
</span><span id="__span-20-3"><a href="#__codelineno-20-3" id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="w">  </span><span class="nx">CallToolRequestSchema</span><span class="p">,</span>
</span><span id="__span-20-4"><a href="#__codelineno-20-4" id="__codelineno-20-4" name="__codelineno-20-4"></a><span class="w">  </span><span class="nx">ListResourcesRequestSchema</span><span class="p">,</span>
</span><span id="__span-20-5"><a href="#__codelineno-20-5" id="__codelineno-20-5" name="__codelineno-20-5"></a><span class="w">  </span><span class="nx">ReadResourceRequestSchema</span><span class="p">,</span>
</span><span id="__span-20-6"><a href="#__codelineno-20-6" id="__codelineno-20-6" name="__codelineno-20-6"></a><span class="w">  </span><span class="nx">ListPromptsRequestSchema</span><span class="p">,</span>
</span><span id="__span-20-7"><a href="#__codelineno-20-7" id="__codelineno-20-7" name="__codelineno-20-7"></a><span class="w">  </span><span class="nx">GetPromptRequestSchema</span><span class="p">,</span>
</span><span id="__span-20-8"><a href="#__codelineno-20-8" id="__codelineno-20-8" name="__codelineno-20-8"></a><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@modelcontextprotocol/sdk/types.js"</span><span class="p">;</span>
</span><span id="__span-20-9"><a href="#__codelineno-20-9" id="__codelineno-20-9" name="__codelineno-20-9"></a>
</span><span id="__span-20-10"><a href="#__codelineno-20-10" id="__codelineno-20-10" name="__codelineno-20-10"></a><span class="kd">class</span><span class="w"> </span><span class="nx">CompleteMCPServer</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-11"><a href="#__codelineno-20-11" id="__codelineno-20-11" name="__codelineno-20-11"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">server</span><span class="o">:</span><span class="w"> </span><span class="kt">Server</span><span class="p">;</span>
</span><span id="__span-20-12"><a href="#__codelineno-20-12" id="__codelineno-20-12" name="__codelineno-20-12"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">knowledgeBase</span><span class="o">:</span><span class="w"> </span><span class="kt">Map</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">();</span>
</span><span id="__span-20-13"><a href="#__codelineno-20-13" id="__codelineno-20-13" name="__codelineno-20-13"></a>
</span><span id="__span-20-14"><a href="#__codelineno-20-14" id="__codelineno-20-14" name="__codelineno-20-14"></a><span class="w">  </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-15"><a href="#__codelineno-20-15" id="__codelineno-20-15" name="__codelineno-20-15"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Server</span><span class="p">(</span>
</span><span id="__span-20-16"><a href="#__codelineno-20-16" id="__codelineno-20-16" name="__codelineno-20-16"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-20-17"><a href="#__codelineno-20-17" id="__codelineno-20-17" name="__codelineno-20-17"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"complete-mcp-server"</span><span class="p">,</span>
</span><span id="__span-20-18"><a href="#__codelineno-20-18" id="__codelineno-20-18" name="__codelineno-20-18"></a><span class="w">        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span>
</span><span id="__span-20-19"><a href="#__codelineno-20-19" id="__codelineno-20-19" name="__codelineno-20-19"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-20-20"><a href="#__codelineno-20-20" id="__codelineno-20-20" name="__codelineno-20-20"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-20-21"><a href="#__codelineno-20-21" id="__codelineno-20-21" name="__codelineno-20-21"></a><span class="w">        </span><span class="nx">capabilities</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-22"><a href="#__codelineno-20-22" id="__codelineno-20-22" name="__codelineno-20-22"></a><span class="w">          </span><span class="nx">tools</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-20-23"><a href="#__codelineno-20-23" id="__codelineno-20-23" name="__codelineno-20-23"></a><span class="w">          </span><span class="nx">resources</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-20-24"><a href="#__codelineno-20-24" id="__codelineno-20-24" name="__codelineno-20-24"></a><span class="w">          </span><span class="nx">prompts</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-20-25"><a href="#__codelineno-20-25" id="__codelineno-20-25" name="__codelineno-20-25"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-20-26"><a href="#__codelineno-20-26" id="__codelineno-20-26" name="__codelineno-20-26"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-20-27"><a href="#__codelineno-20-27" id="__codelineno-20-27" name="__codelineno-20-27"></a><span class="w">    </span><span class="p">);</span>
</span><span id="__span-20-28"><a href="#__codelineno-20-28" id="__codelineno-20-28" name="__codelineno-20-28"></a>
</span><span id="__span-20-29"><a href="#__codelineno-20-29" id="__codelineno-20-29" name="__codelineno-20-29"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">initializeKnowledgeBase</span><span class="p">();</span>
</span><span id="__span-20-30"><a href="#__codelineno-20-30" id="__codelineno-20-30" name="__codelineno-20-30"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupHandlers</span><span class="p">();</span>
</span><span id="__span-20-31"><a href="#__codelineno-20-31" id="__codelineno-20-31" name="__codelineno-20-31"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupErrorHandling</span><span class="p">();</span>
</span><span id="__span-20-32"><a href="#__codelineno-20-32" id="__codelineno-20-32" name="__codelineno-20-32"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-33"><a href="#__codelineno-20-33" id="__codelineno-20-33" name="__codelineno-20-33"></a>
</span><span id="__span-20-34"><a href="#__codelineno-20-34" id="__codelineno-20-34" name="__codelineno-20-34"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">initializeKnowledgeBase</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-35"><a href="#__codelineno-20-35" id="__codelineno-20-35" name="__codelineno-20-35"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">"development-workflow"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-36"><a href="#__codelineno-20-36" id="__codelineno-20-36" name="__codelineno-20-36"></a><span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">"Complete Development Workflow"</span><span class="p">,</span>
</span><span id="__span-20-37"><a href="#__codelineno-20-37" id="__codelineno-20-37" name="__codelineno-20-37"></a><span class="w">      </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="sb">`</span>
</span><span id="__span-20-38"><a href="#__codelineno-20-38" id="__codelineno-20-38" name="__codelineno-20-38"></a><span class="sb">## Development Process</span>
</span><span id="__span-20-39"><a href="#__codelineno-20-39" id="__codelineno-20-39" name="__codelineno-20-39"></a><span class="sb">1. Requirements gathering and analysis</span>
</span><span id="__span-20-40"><a href="#__codelineno-20-40" id="__codelineno-20-40" name="__codelineno-20-40"></a><span class="sb">2. System design and architecture</span>
</span><span id="__span-20-41"><a href="#__codelineno-20-41" id="__codelineno-20-41" name="__codelineno-20-41"></a><span class="sb">3. Implementation with best practices</span>
</span><span id="__span-20-42"><a href="#__codelineno-20-42" id="__codelineno-20-42" name="__codelineno-20-42"></a><span class="sb">4. Code review and quality assurance</span>
</span><span id="__span-20-43"><a href="#__codelineno-20-43" id="__codelineno-20-43" name="__codelineno-20-43"></a><span class="sb">5. Testing and validation</span>
</span><span id="__span-20-44"><a href="#__codelineno-20-44" id="__codelineno-20-44" name="__codelineno-20-44"></a><span class="sb">6. Deployment and monitoring</span>
</span><span id="__span-20-45"><a href="#__codelineno-20-45" id="__codelineno-20-45" name="__codelineno-20-45"></a><span class="sb">7. Maintenance and updates</span>
</span><span id="__span-20-46"><a href="#__codelineno-20-46" id="__codelineno-20-46" name="__codelineno-20-46"></a><span class="sb">      `</span><span class="p">,</span>
</span><span id="__span-20-47"><a href="#__codelineno-20-47" id="__codelineno-20-47" name="__codelineno-20-47"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-20-48"><a href="#__codelineno-20-48" id="__codelineno-20-48" name="__codelineno-20-48"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-49"><a href="#__codelineno-20-49" id="__codelineno-20-49" name="__codelineno-20-49"></a>
</span><span id="__span-20-50"><a href="#__codelineno-20-50" id="__codelineno-20-50" name="__codelineno-20-50"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupHandlers</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-51"><a href="#__codelineno-20-51" id="__codelineno-20-51" name="__codelineno-20-51"></a><span class="w">    </span><span class="c1">// Tool handlers</span>
</span><span id="__span-20-52"><a href="#__codelineno-20-52" id="__codelineno-20-52" name="__codelineno-20-52"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ListToolsRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-53"><a href="#__codelineno-20-53" id="__codelineno-20-53" name="__codelineno-20-53"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-54"><a href="#__codelineno-20-54" id="__codelineno-20-54" name="__codelineno-20-54"></a><span class="w">        </span><span class="nx">tools</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-20-55"><a href="#__codelineno-20-55" id="__codelineno-20-55" name="__codelineno-20-55"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-20-56"><a href="#__codelineno-20-56" id="__codelineno-20-56" name="__codelineno-20-56"></a><span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"analyze_codebase"</span><span class="p">,</span>
</span><span id="__span-20-57"><a href="#__codelineno-20-57" id="__codelineno-20-57" name="__codelineno-20-57"></a><span class="w">            </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Analyze codebase structure and provide insights"</span><span class="p">,</span>
</span><span id="__span-20-58"><a href="#__codelineno-20-58" id="__codelineno-20-58" name="__codelineno-20-58"></a><span class="w">            </span><span class="nx">inputSchema</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-59"><a href="#__codelineno-20-59" id="__codelineno-20-59" name="__codelineno-20-59"></a><span class="w">              </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
</span><span id="__span-20-60"><a href="#__codelineno-20-60" id="__codelineno-20-60" name="__codelineno-20-60"></a><span class="w">              </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-61"><a href="#__codelineno-20-61" id="__codelineno-20-61" name="__codelineno-20-61"></a><span class="w">                </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w"> </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Path to analyze"</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-20-62"><a href="#__codelineno-20-62" id="__codelineno-20-62" name="__codelineno-20-62"></a><span class="w">                </span><span class="nx">analysisType</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-63"><a href="#__codelineno-20-63" id="__codelineno-20-63" name="__codelineno-20-63"></a><span class="w">                  </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span>
</span><span id="__span-20-64"><a href="#__codelineno-20-64" id="__codelineno-20-64" name="__codelineno-20-64"></a><span class="w">                  </span><span class="kd">enum</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"structure"</span><span class="p">,</span><span class="w"> </span><span class="s2">"complexity"</span><span class="p">,</span><span class="w"> </span><span class="s2">"dependencies"</span><span class="p">],</span>
</span><span id="__span-20-65"><a href="#__codelineno-20-65" id="__codelineno-20-65" name="__codelineno-20-65"></a><span class="w">                  </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s2">"structure"</span>
</span><span id="__span-20-66"><a href="#__codelineno-20-66" id="__codelineno-20-66" name="__codelineno-20-66"></a><span class="w">                </span><span class="p">},</span>
</span><span id="__span-20-67"><a href="#__codelineno-20-67" id="__codelineno-20-67" name="__codelineno-20-67"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-20-68"><a href="#__codelineno-20-68" id="__codelineno-20-68" name="__codelineno-20-68"></a><span class="w">              </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"path"</span><span class="p">],</span>
</span><span id="__span-20-69"><a href="#__codelineno-20-69" id="__codelineno-20-69" name="__codelineno-20-69"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-20-70"><a href="#__codelineno-20-70" id="__codelineno-20-70" name="__codelineno-20-70"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-20-71"><a href="#__codelineno-20-71" id="__codelineno-20-71" name="__codelineno-20-71"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-20-72"><a href="#__codelineno-20-72" id="__codelineno-20-72" name="__codelineno-20-72"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-20-73"><a href="#__codelineno-20-73" id="__codelineno-20-73" name="__codelineno-20-73"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-20-74"><a href="#__codelineno-20-74" id="__codelineno-20-74" name="__codelineno-20-74"></a>
</span><span id="__span-20-75"><a href="#__codelineno-20-75" id="__codelineno-20-75" name="__codelineno-20-75"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">CallToolRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-76"><a href="#__codelineno-20-76" id="__codelineno-20-76" name="__codelineno-20-76"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="kt">args</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
</span><span id="__span-20-77"><a href="#__codelineno-20-77" id="__codelineno-20-77" name="__codelineno-20-77"></a>
</span><span id="__span-20-78"><a href="#__codelineno-20-78" id="__codelineno-20-78" name="__codelineno-20-78"></a><span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-79"><a href="#__codelineno-20-79" id="__codelineno-20-79" name="__codelineno-20-79"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">"analyze_codebase"</span><span class="o">:</span>
</span><span id="__span-20-80"><a href="#__codelineno-20-80" id="__codelineno-20-80" name="__codelineno-20-80"></a><span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">analyzeCodebase</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span>
</span><span id="__span-20-81"><a href="#__codelineno-20-81" id="__codelineno-20-81" name="__codelineno-20-81"></a>
</span><span id="__span-20-82"><a href="#__codelineno-20-82" id="__codelineno-20-82" name="__codelineno-20-82"></a><span class="w">        </span><span class="nx">default</span><span class="o">:</span>
</span><span id="__span-20-83"><a href="#__codelineno-20-83" id="__codelineno-20-83" name="__codelineno-20-83"></a><span class="w">          </span><span class="kt">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Unknown tool: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-20-84"><a href="#__codelineno-20-84" id="__codelineno-20-84" name="__codelineno-20-84"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-20-85"><a href="#__codelineno-20-85" id="__codelineno-20-85" name="__codelineno-20-85"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-20-86"><a href="#__codelineno-20-86" id="__codelineno-20-86" name="__codelineno-20-86"></a>
</span><span id="__span-20-87"><a href="#__codelineno-20-87" id="__codelineno-20-87" name="__codelineno-20-87"></a><span class="w">    </span><span class="c1">// Resource handlers</span>
</span><span id="__span-20-88"><a href="#__codelineno-20-88" id="__codelineno-20-88" name="__codelineno-20-88"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ListResourcesRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-89"><a href="#__codelineno-20-89" id="__codelineno-20-89" name="__codelineno-20-89"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">resources</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-20-90"><a href="#__codelineno-20-90" id="__codelineno-20-90" name="__codelineno-20-90"></a><span class="w">        </span><span class="p">...</span><span class="nb">Array</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">entries</span><span class="p">()).</span><span class="nx">map</span><span class="p">(([</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">doc</span><span class="p">])</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span>
</span><span id="__span-20-91"><a href="#__codelineno-20-91" id="__codelineno-20-91" name="__codelineno-20-91"></a><span class="w">          </span><span class="nx">uri</span><span class="o">:</span><span class="w"> </span><span class="sb">`kb://articles/</span><span class="si">${</span><span class="nx">key</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-20-92"><a href="#__codelineno-20-92" id="__codelineno-20-92" name="__codelineno-20-92"></a><span class="w">          </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">doc.title</span><span class="p">,</span>
</span><span id="__span-20-93"><a href="#__codelineno-20-93" id="__codelineno-20-93" name="__codelineno-20-93"></a><span class="w">          </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`Knowledge: </span><span class="si">${</span><span class="nx">doc</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-20-94"><a href="#__codelineno-20-94" id="__codelineno-20-94" name="__codelineno-20-94"></a><span class="w">          </span><span class="nx">mimeType</span><span class="o">:</span><span class="w"> </span><span class="s2">"text/markdown"</span><span class="p">,</span>
</span><span id="__span-20-95"><a href="#__codelineno-20-95" id="__codelineno-20-95" name="__codelineno-20-95"></a><span class="w">        </span><span class="p">})),</span>
</span><span id="__span-20-96"><a href="#__codelineno-20-96" id="__codelineno-20-96" name="__codelineno-20-96"></a><span class="w">      </span><span class="p">];</span>
</span><span id="__span-20-97"><a href="#__codelineno-20-97" id="__codelineno-20-97" name="__codelineno-20-97"></a>
</span><span id="__span-20-98"><a href="#__codelineno-20-98" id="__codelineno-20-98" name="__codelineno-20-98"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">resources</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-20-99"><a href="#__codelineno-20-99" id="__codelineno-20-99" name="__codelineno-20-99"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-20-100"><a href="#__codelineno-20-100" id="__codelineno-20-100" name="__codelineno-20-100"></a>
</span><span id="__span-20-101"><a href="#__codelineno-20-101" id="__codelineno-20-101" name="__codelineno-20-101"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ReadResourceRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-102"><a href="#__codelineno-20-102" id="__codelineno-20-102" name="__codelineno-20-102"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">uri</span><span class="p">;</span>
</span><span id="__span-20-103"><a href="#__codelineno-20-103" id="__codelineno-20-103" name="__codelineno-20-103"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">readResource</span><span class="p">(</span><span class="nx">uri</span><span class="p">);</span>
</span><span id="__span-20-104"><a href="#__codelineno-20-104" id="__codelineno-20-104" name="__codelineno-20-104"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">contents</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">content</span><span class="p">]</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-20-105"><a href="#__codelineno-20-105" id="__codelineno-20-105" name="__codelineno-20-105"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-20-106"><a href="#__codelineno-20-106" id="__codelineno-20-106" name="__codelineno-20-106"></a>
</span><span id="__span-20-107"><a href="#__codelineno-20-107" id="__codelineno-20-107" name="__codelineno-20-107"></a><span class="w">    </span><span class="c1">// Prompt handlers</span>
</span><span id="__span-20-108"><a href="#__codelineno-20-108" id="__codelineno-20-108" name="__codelineno-20-108"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ListPromptsRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-109"><a href="#__codelineno-20-109" id="__codelineno-20-109" name="__codelineno-20-109"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-110"><a href="#__codelineno-20-110" id="__codelineno-20-110" name="__codelineno-20-110"></a><span class="w">        </span><span class="nx">prompts</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-20-111"><a href="#__codelineno-20-111" id="__codelineno-20-111" name="__codelineno-20-111"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-20-112"><a href="#__codelineno-20-112" id="__codelineno-20-112" name="__codelineno-20-112"></a><span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"full-development-workflow"</span><span class="p">,</span>
</span><span id="__span-20-113"><a href="#__codelineno-20-113" id="__codelineno-20-113" name="__codelineno-20-113"></a><span class="w">            </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Complete development workflow with integrated resources"</span><span class="p">,</span>
</span><span id="__span-20-114"><a href="#__codelineno-20-114" id="__codelineno-20-114" name="__codelineno-20-114"></a><span class="w">            </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-20-115"><a href="#__codelineno-20-115" id="__codelineno-20-115" name="__codelineno-20-115"></a><span class="w">              </span><span class="p">{</span>
</span><span id="__span-20-116"><a href="#__codelineno-20-116" id="__codelineno-20-116" name="__codelineno-20-116"></a><span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"projectType"</span><span class="p">,</span>
</span><span id="__span-20-117"><a href="#__codelineno-20-117" id="__codelineno-20-117" name="__codelineno-20-117"></a><span class="w">                </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Type of project (web, api, mobile)"</span><span class="p">,</span>
</span><span id="__span-20-118"><a href="#__codelineno-20-118" id="__codelineno-20-118" name="__codelineno-20-118"></a><span class="w">                </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
</span><span id="__span-20-119"><a href="#__codelineno-20-119" id="__codelineno-20-119" name="__codelineno-20-119"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-20-120"><a href="#__codelineno-20-120" id="__codelineno-20-120" name="__codelineno-20-120"></a><span class="w">            </span><span class="p">],</span>
</span><span id="__span-20-121"><a href="#__codelineno-20-121" id="__codelineno-20-121" name="__codelineno-20-121"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-20-122"><a href="#__codelineno-20-122" id="__codelineno-20-122" name="__codelineno-20-122"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-20-123"><a href="#__codelineno-20-123" id="__codelineno-20-123" name="__codelineno-20-123"></a><span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"code-quality-assessment"</span><span class="p">,</span>
</span><span id="__span-20-124"><a href="#__codelineno-20-124" id="__codelineno-20-124" name="__codelineno-20-124"></a><span class="w">            </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Comprehensive code quality assessment using all capabilities"</span><span class="p">,</span>
</span><span id="__span-20-125"><a href="#__codelineno-20-125" id="__codelineno-20-125" name="__codelineno-20-125"></a><span class="w">            </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-20-126"><a href="#__codelineno-20-126" id="__codelineno-20-126" name="__codelineno-20-126"></a><span class="w">              </span><span class="p">{</span>
</span><span id="__span-20-127"><a href="#__codelineno-20-127" id="__codelineno-20-127" name="__codelineno-20-127"></a><span class="w">                </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"codeSample"</span><span class="p">,</span>
</span><span id="__span-20-128"><a href="#__codelineno-20-128" id="__codelineno-20-128" name="__codelineno-20-128"></a><span class="w">                </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Code to assess"</span><span class="p">,</span>
</span><span id="__span-20-129"><a href="#__codelineno-20-129" id="__codelineno-20-129" name="__codelineno-20-129"></a><span class="w">                </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
</span><span id="__span-20-130"><a href="#__codelineno-20-130" id="__codelineno-20-130" name="__codelineno-20-130"></a><span class="w">              </span><span class="p">},</span>
</span><span id="__span-20-131"><a href="#__codelineno-20-131" id="__codelineno-20-131" name="__codelineno-20-131"></a><span class="w">            </span><span class="p">],</span>
</span><span id="__span-20-132"><a href="#__codelineno-20-132" id="__codelineno-20-132" name="__codelineno-20-132"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-20-133"><a href="#__codelineno-20-133" id="__codelineno-20-133" name="__codelineno-20-133"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-20-134"><a href="#__codelineno-20-134" id="__codelineno-20-134" name="__codelineno-20-134"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-20-135"><a href="#__codelineno-20-135" id="__codelineno-20-135" name="__codelineno-20-135"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-20-136"><a href="#__codelineno-20-136" id="__codelineno-20-136" name="__codelineno-20-136"></a>
</span><span id="__span-20-137"><a href="#__codelineno-20-137" id="__codelineno-20-137" name="__codelineno-20-137"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">GetPromptRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-138"><a href="#__codelineno-20-138" id="__codelineno-20-138" name="__codelineno-20-138"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="kt">args</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
</span><span id="__span-20-139"><a href="#__codelineno-20-139" id="__codelineno-20-139" name="__codelineno-20-139"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">generateIntegratedPrompt</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">{});</span>
</span><span id="__span-20-140"><a href="#__codelineno-20-140" id="__codelineno-20-140" name="__codelineno-20-140"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-20-141"><a href="#__codelineno-20-141" id="__codelineno-20-141" name="__codelineno-20-141"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-142"><a href="#__codelineno-20-142" id="__codelineno-20-142" name="__codelineno-20-142"></a>
</span><span id="__span-20-143"><a href="#__codelineno-20-143" id="__codelineno-20-143" name="__codelineno-20-143"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">analyzeCodebase</span><span class="p">(</span><span class="nx">args</span><span class="o">:</span><span class="w"> </span><span class="kt">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-144"><a href="#__codelineno-20-144" id="__codelineno-20-144" name="__codelineno-20-144"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">targetPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">path</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"./"</span><span class="p">;</span>
</span><span id="__span-20-145"><a href="#__codelineno-20-145" id="__codelineno-20-145" name="__codelineno-20-145"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">analysisType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">analysisType</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"structure"</span><span class="p">;</span>
</span><span id="__span-20-146"><a href="#__codelineno-20-146" id="__codelineno-20-146" name="__codelineno-20-146"></a>
</span><span id="__span-20-147"><a href="#__codelineno-20-147" id="__codelineno-20-147" name="__codelineno-20-147"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-148"><a href="#__codelineno-20-148" id="__codelineno-20-148" name="__codelineno-20-148"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">analysis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">performCodeAnalysis</span><span class="p">(</span><span class="nx">targetPath</span><span class="p">,</span><span class="w"> </span><span class="nx">analysisType</span><span class="p">);</span>
</span><span id="__span-20-149"><a href="#__codelineno-20-149" id="__codelineno-20-149" name="__codelineno-20-149"></a>
</span><span id="__span-20-150"><a href="#__codelineno-20-150" id="__codelineno-20-150" name="__codelineno-20-150"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-151"><a href="#__codelineno-20-151" id="__codelineno-20-151" name="__codelineno-20-151"></a><span class="w">        </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-20-152"><a href="#__codelineno-20-152" id="__codelineno-20-152" name="__codelineno-20-152"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-20-153"><a href="#__codelineno-20-153" id="__codelineno-20-153" name="__codelineno-20-153"></a><span class="w">            </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-20-154"><a href="#__codelineno-20-154" id="__codelineno-20-154" name="__codelineno-20-154"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`## Codebase Analysis: </span><span class="si">${</span><span class="nx">analysisType</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="si">}</span><span class="sb">\n\n</span><span class="si">${</span><span class="nx">analysis</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-20-155"><a href="#__codelineno-20-155" id="__codelineno-20-155" name="__codelineno-20-155"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-20-156"><a href="#__codelineno-20-156" id="__codelineno-20-156" name="__codelineno-20-156"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-20-157"><a href="#__codelineno-20-157" id="__codelineno-20-157" name="__codelineno-20-157"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-20-158"><a href="#__codelineno-20-158" id="__codelineno-20-158" name="__codelineno-20-158"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-159"><a href="#__codelineno-20-159" id="__codelineno-20-159" name="__codelineno-20-159"></a><span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Codebase analysis failed: </span><span class="si">${</span><span class="nx">error</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="ne">Error</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">'Unknown error'</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-20-160"><a href="#__codelineno-20-160" id="__codelineno-20-160" name="__codelineno-20-160"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-20-161"><a href="#__codelineno-20-161" id="__codelineno-20-161" name="__codelineno-20-161"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-162"><a href="#__codelineno-20-162" id="__codelineno-20-162" name="__codelineno-20-162"></a>
</span><span id="__span-20-163"><a href="#__codelineno-20-163" id="__codelineno-20-163" name="__codelineno-20-163"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">performCodeAnalysis</span><span class="p">(</span><span class="nx">targetPath</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">analysisType</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-164"><a href="#__codelineno-20-164" id="__codelineno-20-164" name="__codelineno-20-164"></a><span class="w">    </span><span class="c1">// Simplified analysis - in real implementation, use proper code analysis tools</span>
</span><span id="__span-20-165"><a href="#__codelineno-20-165" id="__codelineno-20-165" name="__codelineno-20-165"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="sb">`### Analysis Results</span>
</span><span id="__span-20-166"><a href="#__codelineno-20-166" id="__codelineno-20-166" name="__codelineno-20-166"></a><span class="sb">- **Path**: </span><span class="si">${</span><span class="nx">targetPath</span><span class="si">}</span>
</span><span id="__span-20-167"><a href="#__codelineno-20-167" id="__codelineno-20-167" name="__codelineno-20-167"></a><span class="sb">- **Type**: </span><span class="si">${</span><span class="nx">analysisType</span><span class="si">}</span>
</span><span id="__span-20-168"><a href="#__codelineno-20-168" id="__codelineno-20-168" name="__codelineno-20-168"></a><span class="sb">- **Status**: Analysis completed successfully</span>
</span><span id="__span-20-169"><a href="#__codelineno-20-169" id="__codelineno-20-169" name="__codelineno-20-169"></a>
</span><span id="__span-20-170"><a href="#__codelineno-20-170" id="__codelineno-20-170" name="__codelineno-20-170"></a><span class="sb">### Recommendations</span>
</span><span id="__span-20-171"><a href="#__codelineno-20-171" id="__codelineno-20-171" name="__codelineno-20-171"></a><span class="sb">- Consider organizing files by feature</span>
</span><span id="__span-20-172"><a href="#__codelineno-20-172" id="__codelineno-20-172" name="__codelineno-20-172"></a><span class="sb">- Add proper documentation</span>
</span><span id="__span-20-173"><a href="#__codelineno-20-173" id="__codelineno-20-173" name="__codelineno-20-173"></a><span class="sb">- Implement consistent coding standards`</span><span class="p">;</span>
</span><span id="__span-20-174"><a href="#__codelineno-20-174" id="__codelineno-20-174" name="__codelineno-20-174"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-175"><a href="#__codelineno-20-175" id="__codelineno-20-175" name="__codelineno-20-175"></a>
</span><span id="__span-20-176"><a href="#__codelineno-20-176" id="__codelineno-20-176" name="__codelineno-20-176"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">readResource</span><span class="p">(</span><span class="nx">uri</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-177"><a href="#__codelineno-20-177" id="__codelineno-20-177" name="__codelineno-20-177"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">uri</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">'kb://'</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-178"><a href="#__codelineno-20-178" id="__codelineno-20-178" name="__codelineno-20-178"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">readKnowledgeBase</span><span class="p">(</span><span class="nx">uri</span><span class="p">);</span>
</span><span id="__span-20-179"><a href="#__codelineno-20-179" id="__codelineno-20-179" name="__codelineno-20-179"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-20-180"><a href="#__codelineno-20-180" id="__codelineno-20-180" name="__codelineno-20-180"></a>
</span><span id="__span-20-181"><a href="#__codelineno-20-181" id="__codelineno-20-181" name="__codelineno-20-181"></a><span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Unknown resource URI: </span><span class="si">${</span><span class="nx">uri</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-20-182"><a href="#__codelineno-20-182" id="__codelineno-20-182" name="__codelineno-20-182"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-183"><a href="#__codelineno-20-183" id="__codelineno-20-183" name="__codelineno-20-183"></a>
</span><span id="__span-20-184"><a href="#__codelineno-20-184" id="__codelineno-20-184" name="__codelineno-20-184"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">readKnowledgeBase</span><span class="p">(</span><span class="nx">uri</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-185"><a href="#__codelineno-20-185" id="__codelineno-20-185" name="__codelineno-20-185"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">match</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">uri</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^kb:\/\/articles\/(.+)$/</span><span class="p">);</span>
</span><span id="__span-20-186"><a href="#__codelineno-20-186" id="__codelineno-20-186" name="__codelineno-20-186"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">match</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Invalid knowledge base URI: </span><span class="si">${</span><span class="nx">uri</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-20-187"><a href="#__codelineno-20-187" id="__codelineno-20-187" name="__codelineno-20-187"></a>
</span><span id="__span-20-188"><a href="#__codelineno-20-188" id="__codelineno-20-188" name="__codelineno-20-188"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">match</span><span class="p">[</span><span class="mf">1</span><span class="p">];</span>
</span><span id="__span-20-189"><a href="#__codelineno-20-189" id="__codelineno-20-189" name="__codelineno-20-189"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">article</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
</span><span id="__span-20-190"><a href="#__codelineno-20-190" id="__codelineno-20-190" name="__codelineno-20-190"></a>
</span><span id="__span-20-191"><a href="#__codelineno-20-191" id="__codelineno-20-191" name="__codelineno-20-191"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">article</span><span class="p">)</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Article not found: </span><span class="si">${</span><span class="nx">key</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-20-192"><a href="#__codelineno-20-192" id="__codelineno-20-192" name="__codelineno-20-192"></a>
</span><span id="__span-20-193"><a href="#__codelineno-20-193" id="__codelineno-20-193" name="__codelineno-20-193"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-194"><a href="#__codelineno-20-194" id="__codelineno-20-194" name="__codelineno-20-194"></a><span class="w">      </span><span class="nx">uri</span><span class="p">,</span>
</span><span id="__span-20-195"><a href="#__codelineno-20-195" id="__codelineno-20-195" name="__codelineno-20-195"></a><span class="w">      </span><span class="nx">mimeType</span><span class="o">:</span><span class="w"> </span><span class="s2">"text/markdown"</span><span class="p">,</span>
</span><span id="__span-20-196"><a href="#__codelineno-20-196" id="__codelineno-20-196" name="__codelineno-20-196"></a><span class="w">      </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="kt">article.content</span><span class="p">,</span>
</span><span id="__span-20-197"><a href="#__codelineno-20-197" id="__codelineno-20-197" name="__codelineno-20-197"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-20-198"><a href="#__codelineno-20-198" id="__codelineno-20-198" name="__codelineno-20-198"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-199"><a href="#__codelineno-20-199" id="__codelineno-20-199" name="__codelineno-20-199"></a>
</span><span id="__span-20-200"><a href="#__codelineno-20-200" id="__codelineno-20-200" name="__codelineno-20-200"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">generateIntegratedPrompt</span><span class="p">(</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="o">:</span><span class="w"> </span><span class="kt">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-201"><a href="#__codelineno-20-201" id="__codelineno-20-201" name="__codelineno-20-201"></a><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-202"><a href="#__codelineno-20-202" id="__codelineno-20-202" name="__codelineno-20-202"></a><span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s2">"full-development-workflow"</span><span class="o">:</span>
</span><span id="__span-20-203"><a href="#__codelineno-20-203" id="__codelineno-20-203" name="__codelineno-20-203"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">createFullWorkflowPrompt</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span>
</span><span id="__span-20-204"><a href="#__codelineno-20-204" id="__codelineno-20-204" name="__codelineno-20-204"></a>
</span><span id="__span-20-205"><a href="#__codelineno-20-205" id="__codelineno-20-205" name="__codelineno-20-205"></a><span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s2">"code-quality-assessment"</span><span class="o">:</span>
</span><span id="__span-20-206"><a href="#__codelineno-20-206" id="__codelineno-20-206" name="__codelineno-20-206"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">createQualityAssessmentPrompt</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span>
</span><span id="__span-20-207"><a href="#__codelineno-20-207" id="__codelineno-20-207" name="__codelineno-20-207"></a>
</span><span id="__span-20-208"><a href="#__codelineno-20-208" id="__codelineno-20-208" name="__codelineno-20-208"></a><span class="w">      </span><span class="nx">default</span><span class="o">:</span>
</span><span id="__span-20-209"><a href="#__codelineno-20-209" id="__codelineno-20-209" name="__codelineno-20-209"></a><span class="w">        </span><span class="kt">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Unknown prompt: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-20-210"><a href="#__codelineno-20-210" id="__codelineno-20-210" name="__codelineno-20-210"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-20-211"><a href="#__codelineno-20-211" id="__codelineno-20-211" name="__codelineno-20-211"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-212"><a href="#__codelineno-20-212" id="__codelineno-20-212" name="__codelineno-20-212"></a>
</span><span id="__span-20-213"><a href="#__codelineno-20-213" id="__codelineno-20-213" name="__codelineno-20-213"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">createFullWorkflowPrompt</span><span class="p">(</span><span class="nx">args</span><span class="o">:</span><span class="w"> </span><span class="kt">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-214"><a href="#__codelineno-20-214" id="__codelineno-20-214" name="__codelineno-20-214"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">projectType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">projectType</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"web"</span><span class="p">;</span>
</span><span id="__span-20-215"><a href="#__codelineno-20-215" id="__codelineno-20-215" name="__codelineno-20-215"></a>
</span><span id="__span-20-216"><a href="#__codelineno-20-216" id="__codelineno-20-216" name="__codelineno-20-216"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">workflowDoc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"development-workflow"</span><span class="p">);</span>
</span><span id="__span-20-217"><a href="#__codelineno-20-217" id="__codelineno-20-217" name="__codelineno-20-217"></a>
</span><span id="__span-20-218"><a href="#__codelineno-20-218" id="__codelineno-20-218" name="__codelineno-20-218"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-219"><a href="#__codelineno-20-219" id="__codelineno-20-219" name="__codelineno-20-219"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`Complete </span><span class="si">${</span><span class="nx">projectType</span><span class="si">}</span><span class="sb"> development workflow`</span><span class="p">,</span>
</span><span id="__span-20-220"><a href="#__codelineno-20-220" id="__codelineno-20-220" name="__codelineno-20-220"></a><span class="w">      </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-20-221"><a href="#__codelineno-20-221" id="__codelineno-20-221" name="__codelineno-20-221"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-20-222"><a href="#__codelineno-20-222" id="__codelineno-20-222" name="__codelineno-20-222"></a><span class="w">          </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span>
</span><span id="__span-20-223"><a href="#__codelineno-20-223" id="__codelineno-20-223" name="__codelineno-20-223"></a><span class="w">          </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-224"><a href="#__codelineno-20-224" id="__codelineno-20-224" name="__codelineno-20-224"></a><span class="w">            </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-20-225"><a href="#__codelineno-20-225" id="__codelineno-20-225" name="__codelineno-20-225"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Guide me through a complete </span><span class="si">${</span><span class="nx">projectType</span><span class="si">}</span><span class="sb"> development project.</span>
</span><span id="__span-20-226"><a href="#__codelineno-20-226" id="__codelineno-20-226" name="__codelineno-20-226"></a>
</span><span id="__span-20-227"><a href="#__codelineno-20-227" id="__codelineno-20-227" name="__codelineno-20-227"></a><span class="sb">## Development Workflow Reference</span>
</span><span id="__span-20-228"><a href="#__codelineno-20-228" id="__codelineno-20-228" name="__codelineno-20-228"></a><span class="si">${</span><span class="nx">workflowDoc</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">workflowDoc</span><span class="p">.</span><span class="nx">content</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"Standard development practices apply"</span><span class="si">}</span>
</span><span id="__span-20-229"><a href="#__codelineno-20-229" id="__codelineno-20-229" name="__codelineno-20-229"></a>
</span><span id="__span-20-230"><a href="#__codelineno-20-230" id="__codelineno-20-230" name="__codelineno-20-230"></a><span class="sb">## Project Context</span>
</span><span id="__span-20-231"><a href="#__codelineno-20-231" id="__codelineno-20-231" name="__codelineno-20-231"></a><span class="sb">- **Type**: </span><span class="si">${</span><span class="nx">projectType</span><span class="si">}</span>
</span><span id="__span-20-232"><a href="#__codelineno-20-232" id="__codelineno-20-232" name="__codelineno-20-232"></a><span class="sb">- **Current Phase**: Planning</span>
</span><span id="__span-20-233"><a href="#__codelineno-20-233" id="__codelineno-20-233" name="__codelineno-20-233"></a>
</span><span id="__span-20-234"><a href="#__codelineno-20-234" id="__codelineno-20-234" name="__codelineno-20-234"></a><span class="sb">Please provide a comprehensive development plan with specific phases, deliverables, and best practices.`</span><span class="p">,</span>
</span><span id="__span-20-235"><a href="#__codelineno-20-235" id="__codelineno-20-235" name="__codelineno-20-235"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-20-236"><a href="#__codelineno-20-236" id="__codelineno-20-236" name="__codelineno-20-236"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-20-237"><a href="#__codelineno-20-237" id="__codelineno-20-237" name="__codelineno-20-237"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-20-238"><a href="#__codelineno-20-238" id="__codelineno-20-238" name="__codelineno-20-238"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-20-239"><a href="#__codelineno-20-239" id="__codelineno-20-239" name="__codelineno-20-239"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-240"><a href="#__codelineno-20-240" id="__codelineno-20-240" name="__codelineno-20-240"></a>
</span><span id="__span-20-241"><a href="#__codelineno-20-241" id="__codelineno-20-241" name="__codelineno-20-241"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="nx">createQualityAssessmentPrompt</span><span class="p">(</span><span class="nx">args</span><span class="o">:</span><span class="w"> </span><span class="kt">Record</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">any</span><span class="o">&gt;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-242"><a href="#__codelineno-20-242" id="__codelineno-20-242" name="__codelineno-20-242"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">codeSample</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">codeSample</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"[Insert code here]"</span><span class="p">;</span>
</span><span id="__span-20-243"><a href="#__codelineno-20-243" id="__codelineno-20-243" name="__codelineno-20-243"></a>
</span><span id="__span-20-244"><a href="#__codelineno-20-244" id="__codelineno-20-244" name="__codelineno-20-244"></a><span class="w">    </span><span class="c1">// Use tools to analyze the code</span>
</span><span id="__span-20-245"><a href="#__codelineno-20-245" id="__codelineno-20-245" name="__codelineno-20-245"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">analysisResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">analyzeCodebase</span><span class="p">({</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">"./"</span><span class="p">,</span><span class="w"> </span><span class="nx">analysisType</span><span class="o">:</span><span class="w"> </span><span class="s2">"structure"</span><span class="w"> </span><span class="p">});</span>
</span><span id="__span-20-246"><a href="#__codelineno-20-246" id="__codelineno-20-246" name="__codelineno-20-246"></a>
</span><span id="__span-20-247"><a href="#__codelineno-20-247" id="__codelineno-20-247" name="__codelineno-20-247"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-248"><a href="#__codelineno-20-248" id="__codelineno-20-248" name="__codelineno-20-248"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Comprehensive code quality assessment"</span><span class="p">,</span>
</span><span id="__span-20-249"><a href="#__codelineno-20-249" id="__codelineno-20-249" name="__codelineno-20-249"></a><span class="w">      </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-20-250"><a href="#__codelineno-20-250" id="__codelineno-20-250" name="__codelineno-20-250"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-20-251"><a href="#__codelineno-20-251" id="__codelineno-20-251" name="__codelineno-20-251"></a><span class="w">          </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span>
</span><span id="__span-20-252"><a href="#__codelineno-20-252" id="__codelineno-20-252" name="__codelineno-20-252"></a><span class="w">          </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-253"><a href="#__codelineno-20-253" id="__codelineno-20-253" name="__codelineno-20-253"></a><span class="w">            </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-20-254"><a href="#__codelineno-20-254" id="__codelineno-20-254" name="__codelineno-20-254"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Perform a comprehensive code quality assessment of the following code.</span>
</span><span id="__span-20-255"><a href="#__codelineno-20-255" id="__codelineno-20-255" name="__codelineno-20-255"></a>
</span><span id="__span-20-256"><a href="#__codelineno-20-256" id="__codelineno-20-256" name="__codelineno-20-256"></a><span class="sb">## Code to Assess</span>
</span><span id="__span-20-257"><a href="#__codelineno-20-257" id="__codelineno-20-257" name="__codelineno-20-257"></a><span class="sb">\`\`\`</span>
</span><span id="__span-20-258"><a href="#__codelineno-20-258" id="__codelineno-20-258" name="__codelineno-20-258"></a><span class="si">${</span><span class="nx">codeSample</span><span class="si">}</span>
</span><span id="__span-20-259"><a href="#__codelineno-20-259" id="__codelineno-20-259" name="__codelineno-20-259"></a><span class="sb">\`\`\`</span>
</span><span id="__span-20-260"><a href="#__codelineno-20-260" id="__codelineno-20-260" name="__codelineno-20-260"></a>
</span><span id="__span-20-261"><a href="#__codelineno-20-261" id="__codelineno-20-261" name="__codelineno-20-261"></a><span class="sb">## Automated Analysis Results</span>
</span><span id="__span-20-262"><a href="#__codelineno-20-262" id="__codelineno-20-262" name="__codelineno-20-262"></a><span class="si">${</span><span class="nx">analysisResult</span><span class="p">.</span><span class="nx">content</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">text</span><span class="si">}</span>
</span><span id="__span-20-263"><a href="#__codelineno-20-263" id="__codelineno-20-263" name="__codelineno-20-263"></a>
</span><span id="__span-20-264"><a href="#__codelineno-20-264" id="__codelineno-20-264" name="__codelineno-20-264"></a><span class="sb">## Assessment Framework</span>
</span><span id="__span-20-265"><a href="#__codelineno-20-265" id="__codelineno-20-265" name="__codelineno-20-265"></a>
</span><span id="__span-20-266"><a href="#__codelineno-20-266" id="__codelineno-20-266" name="__codelineno-20-266"></a><span class="sb">### 1. Code Quality Metrics</span>
</span><span id="__span-20-267"><a href="#__codelineno-20-267" id="__codelineno-20-267" name="__codelineno-20-267"></a><span class="sb">- **Readability**: Is the code easy to understand?</span>
</span><span id="__span-20-268"><a href="#__codelineno-20-268" id="__codelineno-20-268" name="__codelineno-20-268"></a><span class="sb">- **Maintainability**: How easy will this be to modify?</span>
</span><span id="__span-20-269"><a href="#__codelineno-20-269" id="__codelineno-20-269" name="__codelineno-20-269"></a><span class="sb">- **Performance**: Are there any obvious issues?</span>
</span><span id="__span-20-270"><a href="#__codelineno-20-270" id="__codelineno-20-270" name="__codelineno-20-270"></a>
</span><span id="__span-20-271"><a href="#__codelineno-20-271" id="__codelineno-20-271" name="__codelineno-20-271"></a><span class="sb">### 2. Best Practices</span>
</span><span id="__span-20-272"><a href="#__codelineno-20-272" id="__codelineno-20-272" name="__codelineno-20-272"></a><span class="sb">- Does it follow coding standards?</span>
</span><span id="__span-20-273"><a href="#__codelineno-20-273" id="__codelineno-20-273" name="__codelineno-20-273"></a><span class="sb">- Are there appropriate error handling?</span>
</span><span id="__span-20-274"><a href="#__codelineno-20-274" id="__codelineno-20-274" name="__codelineno-20-274"></a><span class="sb">- Is the code well-structured?</span>
</span><span id="__span-20-275"><a href="#__codelineno-20-275" id="__codelineno-20-275" name="__codelineno-20-275"></a>
</span><span id="__span-20-276"><a href="#__codelineno-20-276" id="__codelineno-20-276" name="__codelineno-20-276"></a><span class="sb">### 3. Recommendations</span>
</span><span id="__span-20-277"><a href="#__codelineno-20-277" id="__codelineno-20-277" name="__codelineno-20-277"></a><span class="sb">Provide specific, prioritized recommendations for improvement.</span>
</span><span id="__span-20-278"><a href="#__codelineno-20-278" id="__codelineno-20-278" name="__codelineno-20-278"></a>
</span><span id="__span-20-279"><a href="#__codelineno-20-279" id="__codelineno-20-279" name="__codelineno-20-279"></a><span class="sb">Please provide a thorough assessment.`</span><span class="p">,</span>
</span><span id="__span-20-280"><a href="#__codelineno-20-280" id="__codelineno-20-280" name="__codelineno-20-280"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-20-281"><a href="#__codelineno-20-281" id="__codelineno-20-281" name="__codelineno-20-281"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-20-282"><a href="#__codelineno-20-282" id="__codelineno-20-282" name="__codelineno-20-282"></a><span class="w">      </span><span class="p">],</span>
</span><span id="__span-20-283"><a href="#__codelineno-20-283" id="__codelineno-20-283" name="__codelineno-20-283"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-20-284"><a href="#__codelineno-20-284" id="__codelineno-20-284" name="__codelineno-20-284"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-285"><a href="#__codelineno-20-285" id="__codelineno-20-285" name="__codelineno-20-285"></a>
</span><span id="__span-20-286"><a href="#__codelineno-20-286" id="__codelineno-20-286" name="__codelineno-20-286"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupErrorHandling</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-287"><a href="#__codelineno-20-287" id="__codelineno-20-287" name="__codelineno-20-287"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">onerror</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-288"><a href="#__codelineno-20-288" id="__codelineno-20-288" name="__codelineno-20-288"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"[MCP Error]"</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
</span><span id="__span-20-289"><a href="#__codelineno-20-289" id="__codelineno-20-289" name="__codelineno-20-289"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-20-290"><a href="#__codelineno-20-290" id="__codelineno-20-290" name="__codelineno-20-290"></a>
</span><span id="__span-20-291"><a href="#__codelineno-20-291" id="__codelineno-20-291" name="__codelineno-20-291"></a><span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"SIGINT"</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-292"><a href="#__codelineno-20-292" id="__codelineno-20-292" name="__codelineno-20-292"></a><span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span><span id="__span-20-293"><a href="#__codelineno-20-293" id="__codelineno-20-293" name="__codelineno-20-293"></a><span class="w">      </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
</span><span id="__span-20-294"><a href="#__codelineno-20-294" id="__codelineno-20-294" name="__codelineno-20-294"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-20-295"><a href="#__codelineno-20-295" id="__codelineno-20-295" name="__codelineno-20-295"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-296"><a href="#__codelineno-20-296" id="__codelineno-20-296" name="__codelineno-20-296"></a>
</span><span id="__span-20-297"><a href="#__codelineno-20-297" id="__codelineno-20-297" name="__codelineno-20-297"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">start</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-298"><a href="#__codelineno-20-298" id="__codelineno-20-298" name="__codelineno-20-298"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">transport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="p">();</span>
</span><span id="__span-20-299"><a href="#__codelineno-20-299" id="__codelineno-20-299" name="__codelineno-20-299"></a><span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">transport</span><span class="p">);</span>
</span><span id="__span-20-300"><a href="#__codelineno-20-300" id="__codelineno-20-300" name="__codelineno-20-300"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Complete MCP Server running on stdio"</span><span class="p">);</span>
</span><span id="__span-20-301"><a href="#__codelineno-20-301" id="__codelineno-20-301" name="__codelineno-20-301"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-302"><a href="#__codelineno-20-302" id="__codelineno-20-302" name="__codelineno-20-302"></a><span class="p">}</span>
</span></code></pre></div> <hr/> <h3 id="step-2-test-complete-integration">Step 2: Test Complete Integration<a class="headerlink" href="#step-2-test-complete-integration" title="Permanent link">¶</a></h3> <p><strong>Build and run the complete MCP server:</strong></p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a href="#__codelineno-21-1" id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="nb">cd</span><span class="w"> </span>my-complete-mcp-server
</span><span id="__span-21-2"><a href="#__codelineno-21-2" id="__codelineno-21-2" name="__codelineno-21-2"></a>npm<span class="w"> </span>run<span class="w"> </span>build
</span><span id="__span-21-3"><a href="#__codelineno-21-3" id="__codelineno-21-3" name="__codelineno-21-3"></a>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>node<span class="w"> </span>dist/index.js
</span></code></pre></div> <p><strong>Test the complete integration inside the MCP Inspector UI:</strong></p> <ol> <li> <p><strong>Navigate to Tools tab:</strong></p> <ul> <li>Click on the “Tools” tab</li> </ul> </li> <li> <p><strong>List tools:</strong></p> <ul> <li>Click “List Tools” button</li> <li>Verify you see the “analyze_codebase” tool with its description and input schema</li> </ul> </li> <li> <p><strong>Call tool:</strong></p> <ul> <li>Select “Call Tool” from the dropdown</li> <li>Enter <code>analyze_codebase</code> in the “Name” field</li> <li>In the “Arguments” field, enter: <code>{"path": "./", "analysisType": "structure"}</code></li> <li>Click “Send Request”</li> <li>Check that the response includes a codebase analysis with recommendations</li> </ul> </li> <li> <p><strong>Navigate to Resources tab:</strong></p> <ul> <li>Click on the “Resources” tab</li> </ul> </li> <li> <p><strong>List resources:</strong></p> <ul> <li>Click “List Resources” button</li> <li>Verify you see the knowledge base article (“Complete Development Workflow”)</li> </ul> </li> <li> <p><strong>Read resource:</strong></p> <ul> <li>Select “Read Resource” from the dropdown</li> <li>Enter <code>kb://articles/development-workflow</code> in the “URI” field</li> <li>Click “Send Request”</li> <li>Check that the response includes the full development workflow content</li> </ul> </li> <li> <p><strong>Navigate to Prompts tab:</strong></p> <ul> <li>Click on the “Prompts” tab</li> </ul> </li> <li> <p><strong>List prompts:</strong></p> <ul> <li>Click “List Prompts” button</li> <li>Verify you see the “full-development-workflow” and “code-quality-assessment” prompts with their arguments</li> </ul> </li> <li> <p><strong>Get full development workflow prompt:</strong></p> <ul> <li>Select “Get Prompt”</li> <li>Enter <code>full-development-workflow</code> in the “Name” field</li> <li>In the “Arguments” field, enter: <code>{"projectType": "web"}</code></li> <li>Click “Send Request”</li> <li>Check that the prompt content includes the development workflow from the knowledge base</li> </ul> </li> <li> <p><strong>Get code quality assessment prompt:</strong></p> <ul> <li>Select “Get Prompt” again</li> <li>Enter <code>code-quality-assessment</code> in the “Name” field</li> <li>In the “Arguments” field, enter: <code>{"codeSample": "function test() { return true; }"}</code></li> <li>Click “Send Request”</li> <li>Verify the prompt includes automated analysis results and assessment framework</li> </ul> </li> </ol> <p><br/></p> <p><strong>Expected Results:</strong></p> <ul> <li>Tools should list the analysis tool with proper schema and description</li> <li>Calling tools should return structured analysis results</li> <li>Resources should list knowledge base articles with proper URIs</li> <li>Reading resources should return the full markdown content</li> <li>Prompts should list integrated prompts with their arguments</li> <li>Getting prompts should dynamically include tool results and resource content</li> <li>The complete integration should demonstrate all three capabilities working together seamlessly</li> </ul> <hr/> <h2 id="hands-on-exercises">Hands-On Exercises<a class="headerlink" href="#hands-on-exercises" title="Permanent link">¶</a></h2> <h3 id="exercise-1-custom-prompt-library">Exercise 1: Custom Prompt Library<a class="headerlink" href="#exercise-1-custom-prompt-library" title="Permanent link">¶</a></h3> <p><strong>Goal:</strong> Create a specialized prompt library for a specific domain.</p> <p><strong>Steps:</strong></p> <ol> <li>Choose a domain (e.g., data science, DevOps, content writing)</li> <li>Create 3-5 domain-specific prompts</li> <li>Add appropriate arguments for customization</li> <li>Include domain-specific resources</li> <li>Test with the MCP Inspector</li> </ol> <p><strong>Requirements:</strong></p> <ul> <li>At least one prompt with required arguments</li> <li>At least one prompt with optional arguments</li> <li>Include resource integration</li> <li>Proper error handling</li> </ul> <details> <summary>Solution</summary> Choose data science domain.<br/><br/> Create 3 domain-specific prompts: data-exploration, model-training, visualization.<br/><br/> Add arguments: dataset (required), focus (optional).<br/><br/> Include domain-specific resources: data science best practices.<br/><br/> Example code structure:<br/><br/> <div class="language-typescript highlight"><pre><span></span><code><span id="__span-22-1"><a href="#__codelineno-22-1" id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="c1">// In ListPromptsRequestSchema handler</span>
</span><span id="__span-22-2"><a href="#__codelineno-22-2" id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="p">{</span>
</span><span id="__span-22-3"><a href="#__codelineno-22-3" id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"data-exploration"</span><span class="p">,</span>
</span><span id="__span-22-4"><a href="#__codelineno-22-4" id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Guide for exploratory data analysis"</span><span class="p">,</span>
</span><span id="__span-22-5"><a href="#__codelineno-22-5" id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="w">  </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-22-6"><a href="#__codelineno-22-6" id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-22-7"><a href="#__codelineno-22-7" id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"dataset"</span><span class="p">,</span>
</span><span id="__span-22-8"><a href="#__codelineno-22-8" id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Dataset description"</span><span class="p">,</span>
</span><span id="__span-22-9"><a href="#__codelineno-22-9" id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="w">      </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
</span><span id="__span-22-10"><a href="#__codelineno-22-10" id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-22-11"><a href="#__codelineno-22-11" id="__codelineno-22-11" name="__codelineno-22-11"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-22-12"><a href="#__codelineno-22-12" id="__codelineno-22-12" name="__codelineno-22-12"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"focus"</span><span class="p">,</span>
</span><span id="__span-22-13"><a href="#__codelineno-22-13" id="__codelineno-22-13" name="__codelineno-22-13"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Analysis focus (distribution, correlation, outliers)"</span><span class="p">,</span>
</span><span id="__span-22-14"><a href="#__codelineno-22-14" id="__codelineno-22-14" name="__codelineno-22-14"></a><span class="w">      </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
</span><span id="__span-22-15"><a href="#__codelineno-22-15" id="__codelineno-22-15" name="__codelineno-22-15"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-22-16"><a href="#__codelineno-22-16" id="__codelineno-22-16" name="__codelineno-22-16"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-22-17"><a href="#__codelineno-22-17" id="__codelineno-22-17" name="__codelineno-22-17"></a><span class="p">},</span>
</span><span id="__span-22-18"><a href="#__codelineno-22-18" id="__codelineno-22-18" name="__codelineno-22-18"></a><span class="p">{</span>
</span><span id="__span-22-19"><a href="#__codelineno-22-19" id="__codelineno-22-19" name="__codelineno-22-19"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"model-training"</span><span class="p">,</span>
</span><span id="__span-22-20"><a href="#__codelineno-22-20" id="__codelineno-22-20" name="__codelineno-22-20"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Guide for machine learning model training"</span><span class="p">,</span>
</span><span id="__span-22-21"><a href="#__codelineno-22-21" id="__codelineno-22-21" name="__codelineno-22-21"></a><span class="w">  </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-22-22"><a href="#__codelineno-22-22" id="__codelineno-22-22" name="__codelineno-22-22"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-22-23"><a href="#__codelineno-22-23" id="__codelineno-22-23" name="__codelineno-22-23"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"algorithm"</span><span class="p">,</span>
</span><span id="__span-22-24"><a href="#__codelineno-22-24" id="__codelineno-22-24" name="__codelineno-22-24"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"ML algorithm (linear, tree, neural)"</span><span class="p">,</span>
</span><span id="__span-22-25"><a href="#__codelineno-22-25" id="__codelineno-22-25" name="__codelineno-22-25"></a><span class="w">      </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
</span><span id="__span-22-26"><a href="#__codelineno-22-26" id="__codelineno-22-26" name="__codelineno-22-26"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-22-27"><a href="#__codelineno-22-27" id="__codelineno-22-27" name="__codelineno-22-27"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-22-28"><a href="#__codelineno-22-28" id="__codelineno-22-28" name="__codelineno-22-28"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"target"</span><span class="p">,</span>
</span><span id="__span-22-29"><a href="#__codelineno-22-29" id="__codelineno-22-29" name="__codelineno-22-29"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Target variable"</span><span class="p">,</span>
</span><span id="__span-22-30"><a href="#__codelineno-22-30" id="__codelineno-22-30" name="__codelineno-22-30"></a><span class="w">      </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
</span><span id="__span-22-31"><a href="#__codelineno-22-31" id="__codelineno-22-31" name="__codelineno-22-31"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-22-32"><a href="#__codelineno-22-32" id="__codelineno-22-32" name="__codelineno-22-32"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-22-33"><a href="#__codelineno-22-33" id="__codelineno-22-33" name="__codelineno-22-33"></a><span class="p">},</span>
</span><span id="__span-22-34"><a href="#__codelineno-22-34" id="__codelineno-22-34" name="__codelineno-22-34"></a><span class="p">{</span>
</span><span id="__span-22-35"><a href="#__codelineno-22-35" id="__codelineno-22-35" name="__codelineno-22-35"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"data-visualization"</span><span class="p">,</span>
</span><span id="__span-22-36"><a href="#__codelineno-22-36" id="__codelineno-22-36" name="__codelineno-22-36"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Guide for creating effective data visualizations"</span><span class="p">,</span>
</span><span id="__span-22-37"><a href="#__codelineno-22-37" id="__codelineno-22-37" name="__codelineno-22-37"></a><span class="w">  </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-22-38"><a href="#__codelineno-22-38" id="__codelineno-22-38" name="__codelineno-22-38"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-22-39"><a href="#__codelineno-22-39" id="__codelineno-22-39" name="__codelineno-22-39"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"chartType"</span><span class="p">,</span>
</span><span id="__span-22-40"><a href="#__codelineno-22-40" id="__codelineno-22-40" name="__codelineno-22-40"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Type of chart (bar, line, scatter)"</span><span class="p">,</span>
</span><span id="__span-22-41"><a href="#__codelineno-22-41" id="__codelineno-22-41" name="__codelineno-22-41"></a><span class="w">      </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
</span><span id="__span-22-42"><a href="#__codelineno-22-42" id="__codelineno-22-42" name="__codelineno-22-42"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-22-43"><a href="#__codelineno-22-43" id="__codelineno-22-43" name="__codelineno-22-43"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-22-44"><a href="#__codelineno-22-44" id="__codelineno-22-44" name="__codelineno-22-44"></a><span class="p">}</span>
</span><span id="__span-22-45"><a href="#__codelineno-22-45" id="__codelineno-22-45" name="__codelineno-22-45"></a>
</span><span id="__span-22-46"><a href="#__codelineno-22-46" id="__codelineno-22-46" name="__codelineno-22-46"></a><span class="c1">// In generatePrompt method</span>
</span><span id="__span-22-47"><a href="#__codelineno-22-47" id="__codelineno-22-47" name="__codelineno-22-47"></a><span class="k">case</span><span class="w"> </span><span class="s2">"data-exploration"</span><span class="o">:</span>
</span><span id="__span-22-48"><a href="#__codelineno-22-48" id="__codelineno-22-48" name="__codelineno-22-48"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">dataset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">dataset</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"dataset"</span><span class="p">;</span>
</span><span id="__span-22-49"><a href="#__codelineno-22-49" id="__codelineno-22-49" name="__codelineno-22-49"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">focus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">focus</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"distribution"</span><span class="p">;</span>
</span><span id="__span-22-50"><a href="#__codelineno-22-50" id="__codelineno-22-50" name="__codelineno-22-50"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-51"><a href="#__codelineno-22-51" id="__codelineno-22-51" name="__codelineno-22-51"></a><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`Data exploration for </span><span class="si">${</span><span class="nx">dataset</span><span class="si">}</span><span class="sb"> focusing on </span><span class="si">${</span><span class="nx">focus</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-22-52"><a href="#__codelineno-22-52" id="__codelineno-22-52" name="__codelineno-22-52"></a><span class="w">    </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-22-53"><a href="#__codelineno-22-53" id="__codelineno-22-53" name="__codelineno-22-53"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-22-54"><a href="#__codelineno-22-54" id="__codelineno-22-54" name="__codelineno-22-54"></a><span class="w">        </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span>
</span><span id="__span-22-55"><a href="#__codelineno-22-55" id="__codelineno-22-55" name="__codelineno-22-55"></a><span class="w">        </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-56"><a href="#__codelineno-22-56" id="__codelineno-22-56" name="__codelineno-22-56"></a><span class="w">          </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-22-57"><a href="#__codelineno-22-57" id="__codelineno-22-57" name="__codelineno-22-57"></a><span class="w">          </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Perform exploratory data analysis on the </span><span class="si">${</span><span class="nx">dataset</span><span class="si">}</span><span class="sb"> dataset.</span>
</span><span id="__span-22-58"><a href="#__codelineno-22-58" id="__codelineno-22-58" name="__codelineno-22-58"></a>
</span><span id="__span-22-59"><a href="#__codelineno-22-59" id="__codelineno-22-59" name="__codelineno-22-59"></a><span class="sb">Focus areas: </span><span class="si">${</span><span class="nx">focus</span><span class="si">}</span>
</span><span id="__span-22-60"><a href="#__codelineno-22-60" id="__codelineno-22-60" name="__codelineno-22-60"></a>
</span><span id="__span-22-61"><a href="#__codelineno-22-61" id="__codelineno-22-61" name="__codelineno-22-61"></a><span class="sb">Guidelines:</span>
</span><span id="__span-22-62"><a href="#__codelineno-22-62" id="__codelineno-22-62" name="__codelineno-22-62"></a><span class="sb">- Examine data structure and types</span>
</span><span id="__span-22-63"><a href="#__codelineno-22-63" id="__codelineno-22-63" name="__codelineno-22-63"></a><span class="sb">- Check for missing values and outliers</span>
</span><span id="__span-22-64"><a href="#__codelineno-22-64" id="__codelineno-22-64" name="__codelineno-22-64"></a><span class="sb">- Analyze distributions and correlations</span>
</span><span id="__span-22-65"><a href="#__codelineno-22-65" id="__codelineno-22-65" name="__codelineno-22-65"></a><span class="sb">- Generate summary statistics</span>
</span><span id="__span-22-66"><a href="#__codelineno-22-66" id="__codelineno-22-66" name="__codelineno-22-66"></a>
</span><span id="__span-22-67"><a href="#__codelineno-22-67" id="__codelineno-22-67" name="__codelineno-22-67"></a><span class="sb">Provide insights and recommendations.`</span><span class="p">,</span>
</span><span id="__span-22-68"><a href="#__codelineno-22-68" id="__codelineno-22-68" name="__codelineno-22-68"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-22-69"><a href="#__codelineno-22-69" id="__codelineno-22-69" name="__codelineno-22-69"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-22-70"><a href="#__codelineno-22-70" id="__codelineno-22-70" name="__codelineno-22-70"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-22-71"><a href="#__codelineno-22-71" id="__codelineno-22-71" name="__codelineno-22-71"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-22-72"><a href="#__codelineno-22-72" id="__codelineno-22-72" name="__codelineno-22-72"></a>
</span><span id="__span-22-73"><a href="#__codelineno-22-73" id="__codelineno-22-73" name="__codelineno-22-73"></a><span class="c1">// Add resources in initializeKnowledgeBase</span>
</span><span id="__span-22-74"><a href="#__codelineno-22-74" id="__codelineno-22-74" name="__codelineno-22-74"></a><span class="k">this</span><span class="p">.</span><span class="nx">knowledgeBase</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">"data-science-practices"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-75"><a href="#__codelineno-22-75" id="__codelineno-22-75" name="__codelineno-22-75"></a><span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">"Data Science Best Practices"</span><span class="p">,</span>
</span><span id="__span-22-76"><a href="#__codelineno-22-76" id="__codelineno-22-76" name="__codelineno-22-76"></a><span class="w">  </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="sb">`</span>
</span><span id="__span-22-77"><a href="#__codelineno-22-77" id="__codelineno-22-77" name="__codelineno-22-77"></a><span class="sb">Data Quality</span>
</span><span id="__span-22-78"><a href="#__codelineno-22-78" id="__codelineno-22-78" name="__codelineno-22-78"></a><span class="sb">- Validate data integrity</span>
</span><span id="__span-22-79"><a href="#__codelineno-22-79" id="__codelineno-22-79" name="__codelineno-22-79"></a><span class="sb">- Handle missing values appropriately</span>
</span><span id="__span-22-80"><a href="#__codelineno-22-80" id="__codelineno-22-80" name="__codelineno-22-80"></a><span class="sb">- Check for data consistency</span>
</span><span id="__span-22-81"><a href="#__codelineno-22-81" id="__codelineno-22-81" name="__codelineno-22-81"></a>
</span><span id="__span-22-82"><a href="#__codelineno-22-82" id="__codelineno-22-82" name="__codelineno-22-82"></a><span class="sb">Analysis Process</span>
</span><span id="__span-22-83"><a href="#__codelineno-22-83" id="__codelineno-22-83" name="__codelineno-22-83"></a><span class="sb">- Start with descriptive statistics</span>
</span><span id="__span-22-84"><a href="#__codelineno-22-84" id="__codelineno-22-84" name="__codelineno-22-84"></a><span class="sb">- Use visualizations for insights</span>
</span><span id="__span-22-85"><a href="#__codelineno-22-85" id="__codelineno-22-85" name="__codelineno-22-85"></a><span class="sb">- Test hypotheses systematically</span>
</span><span id="__span-22-86"><a href="#__codelineno-22-86" id="__codelineno-22-86" name="__codelineno-22-86"></a><span class="sb">  `</span><span class="p">,</span>
</span><span id="__span-22-87"><a href="#__codelineno-22-87" id="__codelineno-22-87" name="__codelineno-22-87"></a><span class="p">});</span>
</span></code></pre></div> Test with MCP Inspector by listing prompts, getting prompts with different arguments, and verifying resource integration. </details> <h3 id="exercise-2-multi-step-workflow-prompt">Exercise 2: Multi-Step Workflow Prompt<a class="headerlink" href="#exercise-2-multi-step-workflow-prompt" title="Permanent link">¶</a></h3> <p><strong>Goal:</strong> Create a prompt that guides users through complex, multi-step processes.</p> <p><strong>Steps:</strong></p> <ol> <li>Design a multi-step workflow (e.g., code review → testing → deployment)</li> <li>Create prompts for each step</li> <li>Add logic to chain prompts together</li> <li>Include progress tracking</li> <li>Test the complete workflow</li> </ol> <p><strong>Requirements:</strong></p> <ul> <li>Clear step progression</li> <li>State management between steps</li> <li>Error handling and recovery</li> <li>Progress indicators</li> </ul> <details> <summary>Solution</summary> Design a code review to deployment workflow with steps: review, testing, deployment.<br/><br/> Create prompts for each step with currentStep argument.<br/><br/> Add logic to chain prompts and track progress.<br/><br/> Example code structure: <div class="language-typescript highlight"><pre><span></span><code><span id="__span-23-1"><a href="#__codelineno-23-1" id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="c1">// In ListPromptsRequestSchema handler</span>
</span><span id="__span-23-2"><a href="#__codelineno-23-2" id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="p">{</span>
</span><span id="__span-23-3"><a href="#__codelineno-23-3" id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"workflow-step"</span><span class="p">,</span>
</span><span id="__span-23-4"><a href="#__codelineno-23-4" id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Multi-step development workflow guidance"</span><span class="p">,</span>
</span><span id="__span-23-5"><a href="#__codelineno-23-5" id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">  </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-23-6"><a href="#__codelineno-23-6" id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-23-7"><a href="#__codelineno-23-7" id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"currentStep"</span><span class="p">,</span>
</span><span id="__span-23-8"><a href="#__codelineno-23-8" id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Current workflow step (review, testing, deployment)"</span><span class="p">,</span>
</span><span id="__span-23-9"><a href="#__codelineno-23-9" id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="w">      </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span><span class="p">,</span>
</span><span id="__span-23-10"><a href="#__codelineno-23-10" id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-23-11"><a href="#__codelineno-23-11" id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-23-12"><a href="#__codelineno-23-12" id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"projectType"</span><span class="p">,</span>
</span><span id="__span-23-13"><a href="#__codelineno-23-13" id="__codelineno-23-13" name="__codelineno-23-13"></a><span class="w">      </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">"Type of project"</span><span class="p">,</span>
</span><span id="__span-23-14"><a href="#__codelineno-23-14" id="__codelineno-23-14" name="__codelineno-23-14"></a><span class="w">      </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
</span><span id="__span-23-15"><a href="#__codelineno-23-15" id="__codelineno-23-15" name="__codelineno-23-15"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-23-16"><a href="#__codelineno-23-16" id="__codelineno-23-16" name="__codelineno-23-16"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-23-17"><a href="#__codelineno-23-17" id="__codelineno-23-17" name="__codelineno-23-17"></a><span class="p">}</span>
</span><span id="__span-23-18"><a href="#__codelineno-23-18" id="__codelineno-23-18" name="__codelineno-23-18"></a>
</span><span id="__span-23-19"><a href="#__codelineno-23-19" id="__codelineno-23-19" name="__codelineno-23-19"></a><span class="c1">// In generatePrompt method</span>
</span><span id="__span-23-20"><a href="#__codelineno-23-20" id="__codelineno-23-20" name="__codelineno-23-20"></a><span class="k">case</span><span class="w"> </span><span class="s2">"workflow-step"</span><span class="o">:</span>
</span><span id="__span-23-21"><a href="#__codelineno-23-21" id="__codelineno-23-21" name="__codelineno-23-21"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">step</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">currentStep</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"review"</span><span class="p">;</span>
</span><span id="__span-23-22"><a href="#__codelineno-23-22" id="__codelineno-23-22" name="__codelineno-23-22"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">projectType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">projectType</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"web"</span><span class="p">;</span>
</span><span id="__span-23-23"><a href="#__codelineno-23-23" id="__codelineno-23-23" name="__codelineno-23-23"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">workflowSteps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"review"</span><span class="p">,</span><span class="w"> </span><span class="s2">"testing"</span><span class="p">,</span><span class="w"> </span><span class="s2">"deployment"</span><span class="p">];</span>
</span><span id="__span-23-24"><a href="#__codelineno-23-24" id="__codelineno-23-24" name="__codelineno-23-24"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">currentIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">workflowSteps</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">step</span><span class="p">);</span>
</span><span id="__span-23-25"><a href="#__codelineno-23-25" id="__codelineno-23-25" name="__codelineno-23-25"></a>
</span><span id="__span-23-26"><a href="#__codelineno-23-26" id="__codelineno-23-26" name="__codelineno-23-26"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-27"><a href="#__codelineno-23-27" id="__codelineno-23-27" name="__codelineno-23-27"></a><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">projectType</span><span class="si">}</span><span class="sb"> development workflow - Step </span><span class="si">${</span><span class="nx">currentIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="si">}</span><span class="sb">: </span><span class="si">${</span><span class="nx">step</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-23-28"><a href="#__codelineno-23-28" id="__codelineno-23-28" name="__codelineno-23-28"></a><span class="w">    </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-23-29"><a href="#__codelineno-23-29" id="__codelineno-23-29" name="__codelineno-23-29"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-23-30"><a href="#__codelineno-23-30" id="__codelineno-23-30" name="__codelineno-23-30"></a><span class="w">        </span><span class="nx">role</span><span class="o">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span>
</span><span id="__span-23-31"><a href="#__codelineno-23-31" id="__codelineno-23-31" name="__codelineno-23-31"></a><span class="w">        </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-32"><a href="#__codelineno-23-32" id="__codelineno-23-32" name="__codelineno-23-32"></a><span class="w">          </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-23-33"><a href="#__codelineno-23-33" id="__codelineno-23-33" name="__codelineno-23-33"></a><span class="w">          </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Guide for </span><span class="si">${</span><span class="nx">projectType</span><span class="si">}</span><span class="sb"> project </span><span class="si">${</span><span class="nx">step</span><span class="si">}</span><span class="sb"> phase.</span>
</span><span id="__span-23-34"><a href="#__codelineno-23-34" id="__codelineno-23-34" name="__codelineno-23-34"></a>
</span><span id="__span-23-35"><a href="#__codelineno-23-35" id="__codelineno-23-35" name="__codelineno-23-35"></a><span class="sb">Progress: Step </span><span class="si">${</span><span class="nx">currentIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="si">}</span><span class="sb"> of </span><span class="si">${</span><span class="nx">workflowSteps</span><span class="p">.</span><span class="nx">length</span><span class="si">}</span>
</span><span id="__span-23-36"><a href="#__codelineno-23-36" id="__codelineno-23-36" name="__codelineno-23-36"></a><span class="sb">Previous steps: </span><span class="si">${</span><span class="nx">workflowSteps</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">currentIndex</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">', '</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">'None'</span><span class="si">}</span>
</span><span id="__span-23-37"><a href="#__codelineno-23-37" id="__codelineno-23-37" name="__codelineno-23-37"></a><span class="sb">Next steps: </span><span class="si">${</span><span class="nx">workflowSteps</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">currentIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">', '</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">'Complete'</span><span class="si">}</span>
</span><span id="__span-23-38"><a href="#__codelineno-23-38" id="__codelineno-23-38" name="__codelineno-23-38"></a>
</span><span id="__span-23-39"><a href="#__codelineno-23-39" id="__codelineno-23-39" name="__codelineno-23-39"></a><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getStepGuidance</span><span class="p">(</span><span class="nx">step</span><span class="p">,</span><span class="w"> </span><span class="nx">projectType</span><span class="p">)</span><span class="si">}</span>
</span><span id="__span-23-40"><a href="#__codelineno-23-40" id="__codelineno-23-40" name="__codelineno-23-40"></a>
</span><span id="__span-23-41"><a href="#__codelineno-23-41" id="__codelineno-23-41" name="__codelineno-23-41"></a><span class="sb">Provide detailed guidance and check completion criteria before proceeding.`</span><span class="p">,</span>
</span><span id="__span-23-42"><a href="#__codelineno-23-42" id="__codelineno-23-42" name="__codelineno-23-42"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-23-43"><a href="#__codelineno-23-43" id="__codelineno-23-43" name="__codelineno-23-43"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-23-44"><a href="#__codelineno-23-44" id="__codelineno-23-44" name="__codelineno-23-44"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-23-45"><a href="#__codelineno-23-45" id="__codelineno-23-45" name="__codelineno-23-45"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-23-46"><a href="#__codelineno-23-46" id="__codelineno-23-46" name="__codelineno-23-46"></a>
</span><span id="__span-23-47"><a href="#__codelineno-23-47" id="__codelineno-23-47" name="__codelineno-23-47"></a><span class="c1">// Helper method</span>
</span><span id="__span-23-48"><a href="#__codelineno-23-48" id="__codelineno-23-48" name="__codelineno-23-48"></a><span class="k">private</span><span class="w"> </span><span class="nx">getStepGuidance</span><span class="p">(</span><span class="nx">step</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">projectType</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-49"><a href="#__codelineno-23-49" id="__codelineno-23-49" name="__codelineno-23-49"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">guidance</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nx">key</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-50"><a href="#__codelineno-23-50" id="__codelineno-23-50" name="__codelineno-23-50"></a><span class="w">    </span><span class="nx">review</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-51"><a href="#__codelineno-23-51" id="__codelineno-23-51" name="__codelineno-23-51"></a><span class="w">      </span><span class="nx">web</span><span class="o">:</span><span class="w"> </span><span class="s2">"Code Review Guidelines:\n- Check code quality and standards\n- Verify security practices\n- Review performance considerations\n- Validate functionality"</span><span class="p">,</span>
</span><span id="__span-23-52"><a href="#__codelineno-23-52" id="__codelineno-23-52" name="__codelineno-23-52"></a><span class="w">      </span><span class="nx">api</span><span class="o">:</span><span class="w"> </span><span class="s2">"API Review Guidelines:\n- Check endpoint design\n- Validate error handling\n- Review authentication\n- Test API contracts"</span><span class="p">,</span>
</span><span id="__span-23-53"><a href="#__codelineno-23-53" id="__codelineno-23-53" name="__codelineno-23-53"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-23-54"><a href="#__codelineno-23-54" id="__codelineno-23-54" name="__codelineno-23-54"></a><span class="w">    </span><span class="nx">testing</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-55"><a href="#__codelineno-23-55" id="__codelineno-23-55" name="__codelineno-23-55"></a><span class="w">      </span><span class="nx">web</span><span class="o">:</span><span class="w"> </span><span class="s2">"Testing Guidelines:\n- Unit test coverage\n- Integration testing\n- User acceptance testing\n- Performance testing"</span><span class="p">,</span>
</span><span id="__span-23-56"><a href="#__codelineno-23-56" id="__codelineno-23-56" name="__codelineno-23-56"></a><span class="w">      </span><span class="nx">api</span><span class="o">:</span><span class="w"> </span><span class="s2">"API Testing Guidelines:\n- Endpoint testing\n- Load testing\n- Security testing\n- Contract testing"</span><span class="p">,</span>
</span><span id="__span-23-57"><a href="#__codelineno-23-57" id="__codelineno-23-57" name="__codelineno-23-57"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-23-58"><a href="#__codelineno-23-58" id="__codelineno-23-58" name="__codelineno-23-58"></a><span class="w">    </span><span class="nx">deployment</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-59"><a href="#__codelineno-23-59" id="__codelineno-23-59" name="__codelineno-23-59"></a><span class="w">      </span><span class="nx">web</span><span class="o">:</span><span class="w"> </span><span class="s2">"Deployment Guidelines:\n- Environment configuration\n- Database migrations\n- Rollback procedures\n- Monitoring setup"</span><span class="p">,</span>
</span><span id="__span-23-60"><a href="#__codelineno-23-60" id="__codelineno-23-60" name="__codelineno-23-60"></a><span class="w">      </span><span class="nx">api</span><span class="o">:</span><span class="w"> </span><span class="s2">"API Deployment Guidelines:\n- API gateway configuration\n- Version management\n- Documentation publishing\n- Client notifications"</span><span class="p">,</span>
</span><span id="__span-23-61"><a href="#__codelineno-23-61" id="__codelineno-23-61" name="__codelineno-23-61"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-23-62"><a href="#__codelineno-23-62" id="__codelineno-23-62" name="__codelineno-23-62"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-23-63"><a href="#__codelineno-23-63" id="__codelineno-23-63" name="__codelineno-23-63"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">guidance</span><span class="p">[</span><span class="nx">step</span><span class="p">]</span><span class="o">?</span><span class="p">.[</span><span class="nx">projectType</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"Follow standard practices for this step."</span><span class="p">;</span>
</span><span id="__span-23-64"><a href="#__codelineno-23-64" id="__codelineno-23-64" name="__codelineno-23-64"></a><span class="p">}</span>
</span></code></pre></div> Test the workflow by calling the prompt with different currentStep values and verifying step progression and guidance. </details> <h3 id="exercise-3-production-ready-server">Exercise 3: Production-Ready Server<a class="headerlink" href="#exercise-3-production-ready-server" title="Permanent link">¶</a></h3> <p><strong>Goal:</strong> Create a production-ready MCP server with all capabilities.</p> <p><strong>Steps:</strong></p> <ol> <li>Implement comprehensive error handling</li> <li>Add logging and monitoring</li> <li>Include health checks</li> <li>Add configuration management</li> <li>Implement rate limiting</li> <li>Create deployment scripts</li> </ol> <p><strong>Requirements:</strong></p> <ul> <li>Structured logging</li> <li>Health check endpoints</li> <li>Configuration validation</li> <li>Graceful shutdown</li> <li>Performance monitoring</li> </ul> <details> <summary>Solution</summary> Implement comprehensive error handling, logging, health checks, configuration management, rate limiting, and deployment scripts.<br/><br/> Example code structure: <div class="language-typescript highlight"><pre><span></span><code><span id="__span-24-1"><a href="#__codelineno-24-1" id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@modelcontextprotocol/sdk/server/index.js"</span><span class="p">;</span>
</span><span id="__span-24-2"><a href="#__codelineno-24-2" id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">"@modelcontextprotocol/sdk/server/stdio.js"</span><span class="p">;</span>
</span><span id="__span-24-3"><a href="#__codelineno-24-3" id="__codelineno-24-3" name="__codelineno-24-3"></a>
</span><span id="__span-24-4"><a href="#__codelineno-24-4" id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="kd">class</span><span class="w"> </span><span class="nx">ProductionMCPServer</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-5"><a href="#__codelineno-24-5" id="__codelineno-24-5" name="__codelineno-24-5"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">server</span><span class="o">:</span><span class="w"> </span><span class="kt">Server</span><span class="p">;</span>
</span><span id="__span-24-6"><a href="#__codelineno-24-6" id="__codelineno-24-6" name="__codelineno-24-6"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">config</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">;</span>
</span><span id="__span-24-7"><a href="#__codelineno-24-7" id="__codelineno-24-7" name="__codelineno-24-7"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">requestCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="__span-24-8"><a href="#__codelineno-24-8" id="__codelineno-24-8" name="__codelineno-24-8"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">startTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
</span><span id="__span-24-9"><a href="#__codelineno-24-9" id="__codelineno-24-9" name="__codelineno-24-9"></a>
</span><span id="__span-24-10"><a href="#__codelineno-24-10" id="__codelineno-24-10" name="__codelineno-24-10"></a><span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">configPath?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-11"><a href="#__codelineno-24-11" id="__codelineno-24-11" name="__codelineno-24-11"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">loadConfiguration</span><span class="p">(</span><span class="nx">configPath</span><span class="p">);</span>
</span><span id="__span-24-12"><a href="#__codelineno-24-12" id="__codelineno-24-12" name="__codelineno-24-12"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Server</span><span class="p">(</span>
</span><span id="__span-24-13"><a href="#__codelineno-24-13" id="__codelineno-24-13" name="__codelineno-24-13"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-24-14"><a href="#__codelineno-24-14" id="__codelineno-24-14" name="__codelineno-24-14"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">this.config.name</span><span class="p">,</span>
</span><span id="__span-24-15"><a href="#__codelineno-24-15" id="__codelineno-24-15" name="__codelineno-24-15"></a><span class="w">        </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="kt">this.config.version</span><span class="p">,</span>
</span><span id="__span-24-16"><a href="#__codelineno-24-16" id="__codelineno-24-16" name="__codelineno-24-16"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-24-17"><a href="#__codelineno-24-17" id="__codelineno-24-17" name="__codelineno-24-17"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-24-18"><a href="#__codelineno-24-18" id="__codelineno-24-18" name="__codelineno-24-18"></a><span class="w">        </span><span class="nx">capabilities</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-19"><a href="#__codelineno-24-19" id="__codelineno-24-19" name="__codelineno-24-19"></a><span class="w">          </span><span class="nx">tools</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-24-20"><a href="#__codelineno-24-20" id="__codelineno-24-20" name="__codelineno-24-20"></a><span class="w">          </span><span class="nx">resources</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-24-21"><a href="#__codelineno-24-21" id="__codelineno-24-21" name="__codelineno-24-21"></a><span class="w">          </span><span class="nx">prompts</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-24-22"><a href="#__codelineno-24-22" id="__codelineno-24-22" name="__codelineno-24-22"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-24-23"><a href="#__codelineno-24-23" id="__codelineno-24-23" name="__codelineno-24-23"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-24-24"><a href="#__codelineno-24-24" id="__codelineno-24-24" name="__codelineno-24-24"></a><span class="w">    </span><span class="p">);</span>
</span><span id="__span-24-25"><a href="#__codelineno-24-25" id="__codelineno-24-25" name="__codelineno-24-25"></a>
</span><span id="__span-24-26"><a href="#__codelineno-24-26" id="__codelineno-24-26" name="__codelineno-24-26"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupLogging</span><span class="p">();</span>
</span><span id="__span-24-27"><a href="#__codelineno-24-27" id="__codelineno-24-27" name="__codelineno-24-27"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupHandlers</span><span class="p">();</span>
</span><span id="__span-24-28"><a href="#__codelineno-24-28" id="__codelineno-24-28" name="__codelineno-24-28"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupErrorHandling</span><span class="p">();</span>
</span><span id="__span-24-29"><a href="#__codelineno-24-29" id="__codelineno-24-29" name="__codelineno-24-29"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">setupHealthChecks</span><span class="p">();</span>
</span><span id="__span-24-30"><a href="#__codelineno-24-30" id="__codelineno-24-30" name="__codelineno-24-30"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-24-31"><a href="#__codelineno-24-31" id="__codelineno-24-31" name="__codelineno-24-31"></a>
</span><span id="__span-24-32"><a href="#__codelineno-24-32" id="__codelineno-24-32" name="__codelineno-24-32"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">loadConfiguration</span><span class="p">(</span><span class="nx">configPath?</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-33"><a href="#__codelineno-24-33" id="__codelineno-24-33" name="__codelineno-24-33"></a><span class="w">    </span><span class="c1">// Load from file or environment</span>
</span><span id="__span-24-34"><a href="#__codelineno-24-34" id="__codelineno-24-34" name="__codelineno-24-34"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-35"><a href="#__codelineno-24-35" id="__codelineno-24-35" name="__codelineno-24-35"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">"production-mcp-server"</span><span class="p">,</span>
</span><span id="__span-24-36"><a href="#__codelineno-24-36" id="__codelineno-24-36" name="__codelineno-24-36"></a><span class="w">      </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span>
</span><span id="__span-24-37"><a href="#__codelineno-24-37" id="__codelineno-24-37" name="__codelineno-24-37"></a><span class="w">      </span><span class="nx">port</span><span class="o">:</span><span class="w"> </span><span class="kt">process.env.PORT</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">3000</span><span class="p">,</span>
</span><span id="__span-24-38"><a href="#__codelineno-24-38" id="__codelineno-24-38" name="__codelineno-24-38"></a><span class="w">      </span><span class="nx">logLevel</span><span class="o">:</span><span class="w"> </span><span class="kt">process.env.LOG_LEVEL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"info"</span><span class="p">,</span>
</span><span id="__span-24-39"><a href="#__codelineno-24-39" id="__codelineno-24-39" name="__codelineno-24-39"></a><span class="w">      </span><span class="nx">rateLimit</span><span class="o">:</span><span class="w"> </span><span class="kt">parseInt</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">RATE_LIMIT</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">"100"</span><span class="p">),</span>
</span><span id="__span-24-40"><a href="#__codelineno-24-40" id="__codelineno-24-40" name="__codelineno-24-40"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-24-41"><a href="#__codelineno-24-41" id="__codelineno-24-41" name="__codelineno-24-41"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-24-42"><a href="#__codelineno-24-42" id="__codelineno-24-42" name="__codelineno-24-42"></a>
</span><span id="__span-24-43"><a href="#__codelineno-24-43" id="__codelineno-24-43" name="__codelineno-24-43"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupLogging</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-44"><a href="#__codelineno-24-44" id="__codelineno-24-44" name="__codelineno-24-44"></a><span class="w">    </span><span class="c1">// Use a proper logging library in production</span>
</span><span id="__span-24-45"><a href="#__codelineno-24-45" id="__codelineno-24-45" name="__codelineno-24-45"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">createLogger</span><span class="p">(</span><span class="s2">"info"</span><span class="p">);</span>
</span><span id="__span-24-46"><a href="#__codelineno-24-46" id="__codelineno-24-46" name="__codelineno-24-46"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">createLogger</span><span class="p">(</span><span class="s2">"error"</span><span class="p">);</span>
</span><span id="__span-24-47"><a href="#__codelineno-24-47" id="__codelineno-24-47" name="__codelineno-24-47"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-24-48"><a href="#__codelineno-24-48" id="__codelineno-24-48" name="__codelineno-24-48"></a>
</span><span id="__span-24-49"><a href="#__codelineno-24-49" id="__codelineno-24-49" name="__codelineno-24-49"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">createLogger</span><span class="p">(</span><span class="nx">level</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">...args</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">[])</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-50"><a href="#__codelineno-24-50" id="__codelineno-24-50" name="__codelineno-24-50"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nx">...args</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">[])</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-51"><a href="#__codelineno-24-51" id="__codelineno-24-51" name="__codelineno-24-51"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">();</span>
</span><span id="__span-24-52"><a href="#__codelineno-24-52" id="__codelineno-24-52" name="__codelineno-24-52"></a><span class="w">      </span><span class="nx">process</span><span class="p">.</span><span class="nx">stderr</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="sb">`[</span><span class="si">${</span><span class="nx">timestamp</span><span class="si">}</span><span class="sb">] </span><span class="si">${</span><span class="nx">level</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="si">}</span><span class="sb">: </span><span class="si">${</span><span class="nx">args</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span><span class="si">}</span><span class="sb">\n`</span><span class="p">);</span>
</span><span id="__span-24-53"><a href="#__codelineno-24-53" id="__codelineno-24-53" name="__codelineno-24-53"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-24-54"><a href="#__codelineno-24-54" id="__codelineno-24-54" name="__codelineno-24-54"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-24-55"><a href="#__codelineno-24-55" id="__codelineno-24-55" name="__codelineno-24-55"></a>
</span><span id="__span-24-56"><a href="#__codelineno-24-56" id="__codelineno-24-56" name="__codelineno-24-56"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupHandlers</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-57"><a href="#__codelineno-24-57" id="__codelineno-24-57" name="__codelineno-24-57"></a><span class="w">    </span><span class="c1">// Add rate limiting to handlers</span>
</span><span id="__span-24-58"><a href="#__codelineno-24-58" id="__codelineno-24-58" name="__codelineno-24-58"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ListToolsRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">rateLimitedHandler</span><span class="p">(</span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-59"><a href="#__codelineno-24-59" id="__codelineno-24-59" name="__codelineno-24-59"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">tools</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-24-60"><a href="#__codelineno-24-60" id="__codelineno-24-60" name="__codelineno-24-60"></a><span class="w">    </span><span class="p">}));</span>
</span><span id="__span-24-61"><a href="#__codelineno-24-61" id="__codelineno-24-61" name="__codelineno-24-61"></a>
</span><span id="__span-24-62"><a href="#__codelineno-24-62" id="__codelineno-24-62" name="__codelineno-24-62"></a><span class="w">    </span><span class="c1">// Add other handlers similarly</span>
</span><span id="__span-24-63"><a href="#__codelineno-24-63" id="__codelineno-24-63" name="__codelineno-24-63"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-24-64"><a href="#__codelineno-24-64" id="__codelineno-24-64" name="__codelineno-24-64"></a>
</span><span id="__span-24-65"><a href="#__codelineno-24-65" id="__codelineno-24-65" name="__codelineno-24-65"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">rateLimitedHandler</span><span class="p">(</span><span class="nx">handler</span><span class="o">:</span><span class="w"> </span><span class="kt">Function</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Function</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-66"><a href="#__codelineno-24-66" id="__codelineno-24-66" name="__codelineno-24-66"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-67"><a href="#__codelineno-24-67" id="__codelineno-24-67" name="__codelineno-24-67"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">requestCount</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-24-68"><a href="#__codelineno-24-68" id="__codelineno-24-68" name="__codelineno-24-68"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">requestCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">rateLimit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-69"><a href="#__codelineno-24-69" id="__codelineno-24-69" name="__codelineno-24-69"></a><span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s2">"Rate limit exceeded"</span><span class="p">);</span>
</span><span id="__span-24-70"><a href="#__codelineno-24-70" id="__codelineno-24-70" name="__codelineno-24-70"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-24-71"><a href="#__codelineno-24-71" id="__codelineno-24-71" name="__codelineno-24-71"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">handler</span><span class="p">(</span><span class="nx">request</span><span class="p">);</span>
</span><span id="__span-24-72"><a href="#__codelineno-24-72" id="__codelineno-24-72" name="__codelineno-24-72"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-24-73"><a href="#__codelineno-24-73" id="__codelineno-24-73" name="__codelineno-24-73"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-24-74"><a href="#__codelineno-24-74" id="__codelineno-24-74" name="__codelineno-24-74"></a>
</span><span id="__span-24-75"><a href="#__codelineno-24-75" id="__codelineno-24-75" name="__codelineno-24-75"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupHealthChecks</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-76"><a href="#__codelineno-24-76" id="__codelineno-24-76" name="__codelineno-24-76"></a><span class="w">    </span><span class="c1">// Add health check endpoint (if using HTTP transport)</span>
</span><span id="__span-24-77"><a href="#__codelineno-24-77" id="__codelineno-24-77" name="__codelineno-24-77"></a><span class="w">    </span><span class="c1">// For stdio, we can add a special tool</span>
</span><span id="__span-24-78"><a href="#__codelineno-24-78" id="__codelineno-24-78" name="__codelineno-24-78"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">CallToolRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-79"><a href="#__codelineno-24-79" id="__codelineno-24-79" name="__codelineno-24-79"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"health_check"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-80"><a href="#__codelineno-24-80" id="__codelineno-24-80" name="__codelineno-24-80"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-81"><a href="#__codelineno-24-81" id="__codelineno-24-81" name="__codelineno-24-81"></a><span class="w">          </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-24-82"><a href="#__codelineno-24-82" id="__codelineno-24-82" name="__codelineno-24-82"></a><span class="w">            </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span>
</span><span id="__span-24-83"><a href="#__codelineno-24-83" id="__codelineno-24-83" name="__codelineno-24-83"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="kt">JSON.stringify</span><span class="p">({</span>
</span><span id="__span-24-84"><a href="#__codelineno-24-84" id="__codelineno-24-84" name="__codelineno-24-84"></a><span class="w">              </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="s2">"healthy"</span><span class="p">,</span>
</span><span id="__span-24-85"><a href="#__codelineno-24-85" id="__codelineno-24-85" name="__codelineno-24-85"></a><span class="w">              </span><span class="nx">uptime</span><span class="o">:</span><span class="w"> </span><span class="kt">Date.now</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">startTime</span><span class="p">,</span>
</span><span id="__span-24-86"><a href="#__codelineno-24-86" id="__codelineno-24-86" name="__codelineno-24-86"></a><span class="w">              </span><span class="nx">requestCount</span><span class="o">:</span><span class="w"> </span><span class="kt">this.requestCount</span><span class="p">,</span>
</span><span id="__span-24-87"><a href="#__codelineno-24-87" id="__codelineno-24-87" name="__codelineno-24-87"></a><span class="w">            </span><span class="p">}),</span>
</span><span id="__span-24-88"><a href="#__codelineno-24-88" id="__codelineno-24-88" name="__codelineno-24-88"></a><span class="w">          </span><span class="p">}],</span>
</span><span id="__span-24-89"><a href="#__codelineno-24-89" id="__codelineno-24-89" name="__codelineno-24-89"></a><span class="w">        </span><span class="p">};</span>
</span><span id="__span-24-90"><a href="#__codelineno-24-90" id="__codelineno-24-90" name="__codelineno-24-90"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-24-91"><a href="#__codelineno-24-91" id="__codelineno-24-91" name="__codelineno-24-91"></a><span class="w">      </span><span class="c1">// Handle other tools</span>
</span><span id="__span-24-92"><a href="#__codelineno-24-92" id="__codelineno-24-92" name="__codelineno-24-92"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-24-93"><a href="#__codelineno-24-93" id="__codelineno-24-93" name="__codelineno-24-93"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-24-94"><a href="#__codelineno-24-94" id="__codelineno-24-94" name="__codelineno-24-94"></a>
</span><span id="__span-24-95"><a href="#__codelineno-24-95" id="__codelineno-24-95" name="__codelineno-24-95"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">setupErrorHandling</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-96"><a href="#__codelineno-24-96" id="__codelineno-24-96" name="__codelineno-24-96"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">onerror</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-97"><a href="#__codelineno-24-97" id="__codelineno-24-97" name="__codelineno-24-97"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Server error:"</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
</span><span id="__span-24-98"><a href="#__codelineno-24-98" id="__codelineno-24-98" name="__codelineno-24-98"></a><span class="w">      </span><span class="c1">// Send to monitoring service</span>
</span><span id="__span-24-99"><a href="#__codelineno-24-99" id="__codelineno-24-99" name="__codelineno-24-99"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-24-100"><a href="#__codelineno-24-100" id="__codelineno-24-100" name="__codelineno-24-100"></a>
</span><span id="__span-24-101"><a href="#__codelineno-24-101" id="__codelineno-24-101" name="__codelineno-24-101"></a><span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"SIGTERM"</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-102"><a href="#__codelineno-24-102" id="__codelineno-24-102" name="__codelineno-24-102"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Received SIGTERM, shutting down gracefully"</span><span class="p">);</span>
</span><span id="__span-24-103"><a href="#__codelineno-24-103" id="__codelineno-24-103" name="__codelineno-24-103"></a><span class="w">      </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span><span id="__span-24-104"><a href="#__codelineno-24-104" id="__codelineno-24-104" name="__codelineno-24-104"></a><span class="w">      </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
</span><span id="__span-24-105"><a href="#__codelineno-24-105" id="__codelineno-24-105" name="__codelineno-24-105"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-24-106"><a href="#__codelineno-24-106" id="__codelineno-24-106" name="__codelineno-24-106"></a>
</span><span id="__span-24-107"><a href="#__codelineno-24-107" id="__codelineno-24-107" name="__codelineno-24-107"></a><span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"uncaughtException"</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-108"><a href="#__codelineno-24-108" id="__codelineno-24-108" name="__codelineno-24-108"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Uncaught exception:"</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
</span><span id="__span-24-109"><a href="#__codelineno-24-109" id="__codelineno-24-109" name="__codelineno-24-109"></a><span class="w">      </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
</span><span id="__span-24-110"><a href="#__codelineno-24-110" id="__codelineno-24-110" name="__codelineno-24-110"></a><span class="w">    </span><span class="p">});</span>
</span><span id="__span-24-111"><a href="#__codelineno-24-111" id="__codelineno-24-111" name="__codelineno-24-111"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-24-112"><a href="#__codelineno-24-112" id="__codelineno-24-112" name="__codelineno-24-112"></a>
</span><span id="__span-24-113"><a href="#__codelineno-24-113" id="__codelineno-24-113" name="__codelineno-24-113"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">start</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-114"><a href="#__codelineno-24-114" id="__codelineno-24-114" name="__codelineno-24-114"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">transport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="p">();</span>
</span><span id="__span-24-115"><a href="#__codelineno-24-115" id="__codelineno-24-115" name="__codelineno-24-115"></a><span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">server</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">transport</span><span class="p">);</span>
</span><span id="__span-24-116"><a href="#__codelineno-24-116" id="__codelineno-24-116" name="__codelineno-24-116"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Production MCP Server running on stdio"</span><span class="p">);</span>
</span><span id="__span-24-117"><a href="#__codelineno-24-117" id="__codelineno-24-117" name="__codelineno-24-117"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-24-118"><a href="#__codelineno-24-118" id="__codelineno-24-118" name="__codelineno-24-118"></a><span class="p">}</span>
</span><span id="__span-24-119"><a href="#__codelineno-24-119" id="__codelineno-24-119" name="__codelineno-24-119"></a>
</span><span id="__span-24-120"><a href="#__codelineno-24-120" id="__codelineno-24-120" name="__codelineno-24-120"></a><span class="c1">// Deployment script (deploy.sh)</span>
</span><span id="__span-24-121"><a href="#__codelineno-24-121" id="__codelineno-24-121" name="__codelineno-24-121"></a><span class="err">#</span><span class="o">!</span><span class="err">/bin/bash</span>
</span><span id="__span-24-122"><a href="#__codelineno-24-122" id="__codelineno-24-122" name="__codelineno-24-122"></a><span class="nx">npm</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nx">build</span>
</span><span id="__span-24-123"><a href="#__codelineno-24-123" id="__codelineno-24-123" name="__codelineno-24-123"></a><span class="nx">npm</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="nx">test</span>
</span><span id="__span-24-124"><a href="#__codelineno-24-124" id="__codelineno-24-124" name="__codelineno-24-124"></a><span class="nx">docker</span><span class="w"> </span><span class="nx">build</span><span class="w"> </span><span class="o">-</span><span class="nx">t</span><span class="w"> </span><span class="nx">mcp</span><span class="o">-</span><span class="nx">server</span><span class="w"> </span><span class="p">.</span>
</span><span id="__span-24-125"><a href="#__codelineno-24-125" id="__codelineno-24-125" name="__codelineno-24-125"></a><span class="nx">docker</span><span class="w"> </span><span class="nx">run</span><span class="w"> </span><span class="o">-</span><span class="nx">p</span><span class="w"> </span><span class="nx">3000</span><span class="o">:</span><span class="kt">3000</span><span class="w"> </span><span class="nx">mcp</span><span class="o">-</span><span class="nx">server</span>
</span></code></pre></div> Test by running the server, checking logs, calling health check tool, and verifying graceful shutdown. </details> <hr/> <h2 id="key-takeaways">Key Takeaways<a class="headerlink" href="#key-takeaways" title="Permanent link">¶</a></h2> <p>✅ <strong>Prompts</strong> create reusable AI workflows with structured guidance</p> <p>✅ <strong>Resource integration</strong> provides contextually rich prompt experiences</p> <p>✅ <strong>Arguments</strong> make prompts flexible and customizable</p> <p>✅ <strong>Complete servers</strong> combine tools, resources, and prompts effectively</p> <p>✅ <strong>Dynamic prompts</strong> adapt to current data and context</p> <p>✅ <strong>Production readiness</strong> requires comprehensive error handling and monitoring</p> <p>✅ <strong>Workflow orchestration</strong> enables complex, multi-step AI processes</p> <p>✅ <strong>Domain specialization</strong> creates powerful, focused AI capabilities</p> <hr/> <h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">¶</a></h2> <p>Congratulations! </p> <p>You’ve completed the comprehensive MCP learning series. </p> <p>You now posses the knowledge and skills to:</p> <p>✅ <strong>Build</strong> complete MCP servers with all three capabilities</p> <p>✅ <strong>Create</strong> sophisticated AI workflows and integrations</p> <p>✅ <strong>Deploy</strong> production-ready MCP solutions</p> <p>✅ <strong>Contribute</strong> to the MCP ecosystem</p> <hr/> <h2 id="whats-next">What’s Next?<a class="headerlink" href="#whats-next" title="Permanent link">¶</a></h2> <h3 id="further-experimentation">Further experimentation<a class="headerlink" href="#further-experimentation" title="Permanent link">¶</a></h3> <p>Go ahead and experiment further with MCP un the <a href="../Tasks/">MCP Lab Tasks</a> section, filled with hands-on exercises to deepen your understanding of MCP capabilities.</p> <h3 id="advanced-topics">Advanced Topics<a class="headerlink" href="#advanced-topics" title="Permanent link">¶</a></h3> <ul> <li><strong>MCP Extensions</strong>: Custom protocol extensions</li> <li><strong>Multi-server Coordination</strong>: Server orchestration</li> <li><strong>Performance Optimization</strong>: Scaling MCP servers</li> <li><strong>Security Hardening</strong>: Advanced security patterns</li> </ul> <h3 id="real-world-applications">Real-World Applications<a class="headerlink" href="#real-world-applications" title="Permanent link">¶</a></h3> <ul> <li><strong>Code Analysis Tools</strong>: Automated code review and improvement</li> <li><strong>DevOps Automation</strong>: Infrastructure and deployment automation</li> <li><strong>Data Science Workflows</strong>: AI-assisted data analysis</li> <li><strong>Content Creation</strong>: AI-powered content generation pipelines</li> </ul> <h3 id="community-engagement">Community Engagement<a class="headerlink" href="#community-engagement" title="Permanent link">¶</a></h3> <ul> <li><strong>Contribute to MCP</strong>: Join the open-source development</li> <li><strong>Share Your Servers</strong>: Publish your MCP servers</li> <li><strong>Build Integrations</strong>: Create MCP clients and tools</li> <li><strong>Teach Others</strong>: Help grow the MCP community</li> </ul> <hr/> <p><strong>Your MCP journey has just begun!</strong> </p> <p><strong>The protocol provides endless possibilities for AI-human collaboration.</strong></p> <p><strong>Go forth and build amazing things!</strong></p> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Render date of last update --> <!-- Render date of creation --> <!-- ---------------------------------------------------------------------- --> <!-- Render authors --> <!-- ---------------------------------------------------------------------- --> <!-- Render committers from GitHub --> <!-- Render committers from GitLab --> <!-- Render committers --> <!-- ---------------------------------------------------------------------- --> <!-- Determine date of last update --> <!-- Determine date of creation --> <!-- Source file information --> <aside class="md-source-file"> <!-- Date of last update --> <span class="md-source-file__fact"> <span class="md-icon" title="Last update"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 28, 2026 11:05:44 UTC">January 28, 2026</span> </span> <!-- Authors (git-authors plugin) --> <!-- Authors (git-committers plugin) --> <!-- Fallback: Manual GitHub avatar for repository owner --> <span class="md-source-file__fact"> <nav> <a class="md-author" href="https://github.com/nirgeier" title="@nirgeier"> <img alt="Nir Geier" src="https://avatars.githubusercontent.com/u/555154?size=256"/> </a> </nav> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Footer --> <footer class="md-footer"> <div class="logo1"></div> <div class="logo2"></div> <!-- Link to previous and/or next page --> <nav aria-label="Footer" class="md-footer__inner md-grid"> <!-- Link to previous page --> <a aria-label="Previous: Lab 4: MCP Resources" class="md-footer__link md-footer__link--prev" href="../../Lab04-MCP-Resources/lab/"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> Previous </span> <div class="md-ellipsis"> Lab 4: MCP Resources </div> </div> </a> <!-- <ul class="social-badges">
          <li><a href="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" target="_blank" rel="noopener"><img src="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" alt="Visitor Badge"></a></li>
          <li><a href="https://www.linkedin.com/in/nirgeier/" target="_blank" rel="noopener"><i class="fab fa-linkedin" aria-hidden="true"></i><span class="sr-only">LinkedIn profile</span></a></li>
          <li><a href="mailto:nirgeier@gmail.com"><img src="https://img.shields.io/badge/-nirgeier@gmail.com-fcc624?style=flat&logo=Gmail&logoColor=red" alt="Gmail Badge"></a></li>
          <li><a href="mailto:nirg@codewizard.co.il"><img src="https://img.shields.io/badge/-nirg@codewizard.co.il-fcc624?style=flat&logo=microsoftoutlook&logoColor=blue" alt="Outlook Badge"></a></li>
        </ul> --> <!-- Link to next page --> <a aria-label="Next: Lab 6: MCP Workflow" class="md-footer__link md-footer__link--next" href="../../Lab06-MCP-Workflow/lab/"> <div class="md-footer__title"> <span class="md-footer__direction"> Next </span> <div class="md-ellipsis"> Lab 6: MCP Workflow </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> <div class="md-copyright__highlight"> ©2021-2025 Nir Geier<br/><a href="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" rel="noopener" target="_blank"><img alt="Visitor Badge" src="https://visitor-badge.laobi.icu/badge?page_id=nirgeier"/></a> </div> </div> <!-- Social links --> <div class="md-social"> <a class="md-social__link social-class__github" href="https://github.com/nirgeier/AI-K8S-MCP" rel="noopener" target="_blank" title="View on GitHub"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__fork" href="https://github.com/nirgeier/AI-K8S-MCP/network/members" rel="noopener" target="_blank" title="Fork this repo"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"></path></svg> </a> <a class="md-social__link social-class__star" href="https://github.com/nirgeier/AI-K8S-MCP/stargazers" rel="noopener" target="_blank" title="Star this repo"> <svg viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"></path></svg> </a> <a class="md-social__link social-class__linkedin" href="https://www.linkedin.com/in/nirgeier/" rel="noopener" target="_blank" title="Connect on LinkedIn"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__discord" href="https://discord.gg/U6xW23Ss" rel="noopener" target="_blank" title="Follow me on Discord"> <svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__stackoverflow" href="https://stackoverflow.com/users/1755598/codewizard" rel="noopener" target="_blank" title="Follow me on Stack Overflow"> <svg viewbox="0 0 384 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__whatsapp" href="https://wa.me/972548122310" rel="noopener" target="_blank" title="Follow me on WhatsApp"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6" fill="currentColor"></path></svg> </a> <a class="md-social__link social-class__email" href="mailto:nirg@codewizard.co.il" rel="noopener" target="_blank" title="Email me"> <svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z" fill="currentColor"></path></svg> </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-progress" data-md-component="progress" role="progressbar"></div> <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "content.footer.last-updated", "content.footer.contributors", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", {"navigation.top": true}, "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate", "toc.sticky", "mermaid"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src="../../assets/javascripts/bundle.50899def.min.js"></script> <script src="../../js/print-site.js"></script> <script src="https://buttons.github.io/buttons.js?v=1766553928"></script> </body> </html>