
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Hands-on labs for the K-Agent framework - Kubernetes-native MCP server">
      
      
        <meta name="author" content="CodeWizard-IL">
      
      
        <link rel="canonical" href="https://codewizard-il.github.io/Kagent/print_page/">
      
      
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Print Site - K-Agent Labs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%202a7%207%200%200%200-7%207c0%202.38%201.19%204.47%203%205.74V17a1%201%200%200%200%201%201h6a1%201%200%200%200%201-1v-2.26c1.81-1.27%203-3.36%203-5.74a7%207%200%200%200-7-7M9%2021a1%201%200%200%200%201%201h4a1%201%200%200%200%201-1v-1H9z%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Mulish";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/codewizard.css?v=1766553928">
    
    <script>__md_scope=new URL("/Kagent/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#welcome" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine classes -->





<!-- Header -->
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">

    <!-- Link to home -->
    <a href=".." title="K-Agent Labs"
      class="md-header__button md-logo" aria-label="K-Agent Labs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            K-Agent Labs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
            Print Site
            
          </span>
        </div>
      </div>
    </div>

    <div class="m-social__top">
      <!-- Social links -->
      
      
<div class="md-social">
    
    
    
    
    
    <a href="https://github.com/CodeWizard-IL/Kagent" target="_blank" rel="noopener" title="View on GitHub"
        class="md-social__link social-class__github">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
    
    
    
    
    
    <a href="https://github.com/CodeWizard-IL/Kagent/network/members" target="_blank" rel="noopener" title="Fork this repo"
        class="md-social__link social-class__fork">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"/></svg>
    </a>
    
    
    
    
    
    <a href="https://github.com/CodeWizard-IL/Kagent/stargazers" target="_blank" rel="noopener" title="Star this repo"
        class="md-social__link social-class__star">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://www.linkedin.com/in/nirgeier/" target="_blank" rel="noopener" title="Connect on LinkedIn"
        class="md-social__link social-class__linkedin">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://discord.gg/U6xW23Ss" target="_blank" rel="noopener" title="Follow me on Discord"
        class="md-social__link social-class__discord">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
    
    
    
    
    
    <a href="https://stackoverflow.com/users/1755598/codewizard" target="_blank" rel="noopener" title="Follow me on Stack Overflow"
        class="md-social__link social-class__stackoverflow">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://wa.me/972548122310" target="_blank" rel="noopener" title="Follow me on WhatsApp"
        class="md-social__link social-class__whatsapp">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6"/></svg>
    </a>
    
    
    
    
    
    <a href="mailto:nirg@codewizard.co.il" target="_blank" rel="noopener" title="Email me"
        class="md-social__link social-class__email">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg>
    </a>
    
</div>
      
    </div>

    <!-- Color palette toggle -->
    
    
    <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
    
    

    <!-- User preference: color palette -->
    
    <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
    

    <!-- Check if search is actually enabled - see https://t.ly/DT_0V -->
    
    <label class="md-header__button md-icon" for="__search">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
    </label>

    <!-- Search interface -->
    <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    

    <!-- Repository information -->
    
    <div class="md-header__source">
      <a href="https://github.com/CodeWizard-IL/Kagent" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    CodeWizard-IL/Kagent
  </div>
</a>
    </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
  
  
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../welcome/" class="md-tabs__link">
        
  
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  
    
  
  Labs

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Tasks/" class="md-tabs__link">
          
  
  
    
  
  Tasks

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Resources/001-MCP-Basics/001-MCP-Basics-ts/" class="md-tabs__link">
          
  
  
    
  
  Resources

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
  
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="K-Agent Labs" class="md-nav__button md-logo" aria-label="K-Agent Labs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>
    K-Agent Labs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CodeWizard-IL/Kagent" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    CodeWizard-IL/Kagent
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../welcome/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href=".." class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Labs
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../Tasks/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Tasks
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../Resources/001-MCP-Basics/001-MCP-Basics-ts/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Resources
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        <section class="print-page" id="welcome" heading-number="1"><!-- header start -->
<div class="text-center">
<h1 id="welcome-k8s-mcp-k-agent-labs">K8S - MCP (K-Agent Labs)<a class="headerlink" href="#welcome-k8s-mcp-k-agent-labs" title="Permanent link">&para;</a></h1>
</div>
<p><img src="../assets/images/k8s-kagent-lab.jpg" style="width:100%; border-radius: 20px;"></p>
<hr />
<div class="admonition success">
<p class="admonition-title">Getting Started Tip</p>
<ul>
<li>Choose the preferred way to run the labs. </li>
<li>If you encounter any issues, please check the documentation or ask for assistance.</li>
</ul>
</div>
<hr />
<p><img src="../assets/images/tldr.png" style="width:100px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);"></p>
<h2 id="welcome-intro">Intro<a class="headerlink" href="#welcome-intro" title="Permanent link">&para;</a></h2>
<ul>
<li>This tutorial is a custom made workshop for teaching AI In focus on MCP development.</li>
<li>The lab is based upon <strong>K-Agent framework</strong> through hands-on labs designed as practical exercises.</li>
<li>Each lab is packaged in its own folder and includes the files, manifests, and assets required to complete the lab.</li>
<li>Every lab folder includes a <code>README</code> that describes the lab&rsquo;s objectives, tasks, and how to verify the solution.</li>
<li>The K-Agent Labs are a series of Kubernetes and MCP automation exercises designed to teach Model Context Protocol skills &amp; features.</li>
<li>The inspiration for this project is to provide practical learning experiences for K-Agent and MCP.</li>
</ul>
<h2 id="welcome-architecture-overview">Architecture Overview<a class="headerlink" href="#welcome-architecture-overview" title="Permanent link">&para;</a></h2>
<pre class="mermaid"><code>graph TD
    A[K-Agent Labs] --&gt; B[MCP Server]
    B --&gt; C[Kubernetes Cluster]
    C --&gt; D[Pods &amp; Services]
    B --&gt; E[AI Models]</code></pre>
<hr />
<h2 id="welcome-pre-requirements">Pre-Requirements<a class="headerlink" href="#welcome-pre-requirements" title="Permanent link">&para;</a></h2>
<ul>
<li>This tutorial will test your <code>Kubernetes</code>, <code>MCP</code>, and <code>Python</code> skills.</li>
<li>You should be familiar with the following topics:<ul>
<li>Basic Docker and container concepts</li>
<li>Kubernetes fundamentals (pods, deployments, services)</li>
<li>Basic knowledge of YAML</li>
<li>Node.js or Python programming basics</li>
</ul>
</li>
<li>For advanced Labs: <ul>
<li><code>MCP</code> protocol basics</li>
<li><code>Kubernetes</code> advanced concepts (RBAC, ConfigMaps, Secrets)</li>
<li><code>GCP</code> (Google Cloud Platform) basics</li>
</ul>
</li>
</ul>
<hr />
<h2 id="welcome-required-tools">Required Tools<a class="headerlink" href="#welcome-required-tools" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Tool Name</th>
<th style="text-align: left;">CentOS</th>
<th style="text-align: left;">Windows</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Visual Studio Code</strong></td>
<td style="text-align: left;"><code>sudo yum install code</code></td>
<td style="text-align: left;"><a href="https://code.visualstudio.com/">Download Installer</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Python 3</strong></td>
<td style="text-align: left;"><code>sudo yum install python3</code></td>
<td style="text-align: left;"><a href="https://www.python.org/">Download Installer</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Node.js</strong></td>
<td style="text-align: left;"><code>sudo yum install -y nodejs</code></td>
<td style="text-align: left;"><a href="https://nodejs.org/">Download Installer</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Git</strong></td>
<td style="text-align: left;"><code>sudo yum install git</code></td>
<td style="text-align: left;"><a href="https://git-scm.com/">Download Installer</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Docker</strong></td>
<td style="text-align: left;"><code>sudo yum install docker-ce</code></td>
<td style="text-align: left;"><a href="https://www.docker.com/">Download Docker Desktop</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Kubernetes (kubectl)</strong></td>
<td style="text-align: left;"><code>sudo yum install -y kubectl</code></td>
<td style="text-align: left;"><a href="https://kubernetes.io/docs/tasks/tools/">Installation Docs</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Ollama</strong></td>
<td style="text-align: left;"><code>curl -fsSL https://ollama.com/install.sh \| sh</code></td>
<td style="text-align: left;"><a href="https://ollama.ai/">Download Installer</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>MCP Inspector</strong></td>
<td style="text-align: left;"><code>npm install -g @modelcontextprotocol/inspector</code></td>
<td style="text-align: left;"><code>npm install -g @modelcontextprotocol/inspector</code></td>
</tr>
</tbody>
</table>
<hr />
<div class="admonition debug">
<p class="admonition-title">Before You Begin</p>
<ul>
<li>Ensure you have the the above tools, permissions to run <code>Docker</code> commands &amp;&amp; <code>Kubernetes</code>  on your system.</li>
<li>Enjoy, and don&rsquo;t forget to star the project on GitHub!</li>
</ul>
</div>
<hr />
<h2 id="welcome-preface">Preface<a class="headerlink" href="#welcome-preface" title="Permanent link">&para;</a></h2>
<h3 id="welcome-what-is-k-agent">What is K-Agent?<a class="headerlink" href="#welcome-what-is-k-agent" title="Permanent link">&para;</a></h3>
<ul>
<li><code>K-Agent</code> is a Kubernetes-native tool to write <code>Model Context Protocol</code> (<code>MCP</code>) server(s), tool(s) and more.</li>
<li><code>K-Agent</code> enables AI assistants to interact with Kubernetes clusters and cloud services through standardized tools.</li>
<li><code>K-Agent</code> provides a set of MCP tools for cluster management, monitoring, and operations.</li>
<li><code>K-Agent</code> framework supports multiple transport protocols: stdio, HTTP, and WebSocket.</li>
<li><code>K-Agent</code> can be deployed as a containerized service in Kubernetes or run locally for development.</li>
</ul>
<hr />
<h3 id="welcome-what-is-mcp">What is MCP<a class="headerlink" href="#welcome-what-is-mcp" title="Permanent link">&para;</a></h3>
<ul>
<li><code>MCP</code> - Model Context Protocol</li>
<li><code>MCP</code> is an <strong>open standard protocol</strong> for connecting AI assistants to <strong>external tools</strong> and data sources.</li>
<li><code>MCP</code> defines a standard way for AI models to discover, invoke, and interact with tools.</li>
<li><code>MCP</code> uses JSON-RPC 2.0 protocol over various transports (stdio, HTTP, WebSocket).</li>
<li><code>MCP</code> enables AI assistants to perform actions beyond text generation, such as API calls, database queries, and system operations.</li>
</ul>
<hr />
<h3 id="welcome-how-does-k-agent-work">How Does <code>K-Agent</code> Work<a class="headerlink" href="#welcome-how-does-k-agent-work" title="Permanent link">&para;</a></h3>
<ul>
<li><code>K-Agent</code> acts as an <code>MCP server</code> that exposes <code>Kubernetes</code> and <code>cloud management capabilities</code> as tools.</li>
<li>AI assistants connect to <code>K-Agent</code> using the <code>MCP protocol</code>.</li>
<li><code>K-Agent</code> translates MCP tool invocations into <code>Kubernetes API</code> calls or <code>cloud service</code> operations.</li>
<li>Results are returned to the AI assistant in a structured format.</li>
</ul>
<hr />
<h3 id="welcome-k-agent-architecture-flow">K-Agent Architecture Flow<a class="headerlink" href="#welcome-k-agent-architecture-flow" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>flowchart TD
    assistant[AI Assistant] --&gt;|MCP tool request| kagent[K-Agent MCP Server]
    kagent --&gt; toolRouter[K-Agent Tool Router]
    toolRouter --&gt;|kubeclient| k8s[Kubernetes API]
    toolRouter --&gt;|cloud sdk| clouds[Cloud Providers]
    kagent --&gt;|context updates| datastore[State &amp; Context Store]
    datastore --&gt;|observability| observ[Logs &amp; Metrics]
    k8s --&gt;|responses| kagent
    clouds --&gt;|responses| kagent
    kagent --&gt;|MCP response| assistant
    subgraph cluster [Kubernetes Cluster]
        direction LR
        k8s
        datastore
        observ
    end</code></pre>
<hr />
<h3 id="welcome-how-tdo-we-use-this-k-agent-labs">How tDo we use this K-Agent Labs<a class="headerlink" href="#welcome-how-tdo-we-use-this-k-agent-labs" title="Permanent link">&para;</a></h3>
<ul>
<li>Here&rsquo;s a brief overview of how this <code>K-Agent Labs</code> work:</li>
</ul>
<div class="grid cards">
<ul>
<li>
<h4 id="welcome-lab-structure">Lab Structure<a class="headerlink" href="#welcome-lab-structure" title="Permanent link">&para;</a></h4>
<ul>
<li>Each <code>lab</code> is a self-contained learning module with README, demo scripts, and resources.</li>
<li>Labs build upon each other (piled), starting with MCP basics and progressing to production deployments.</li>
<li>Each lab includes hands-on exercises and verification steps.</li>
</ul>
</li>
<li>
<h4 id="welcome-environment">Environment<a class="headerlink" href="#welcome-environment" title="Permanent link">&para;</a></h4>
<ul>
<li>Refer to the &ldquo;Environment Setup&rdquo; section for detailed instructions.</li>
<li>The environment is consistent across all platforms (macOS, Linux, Windows).</li>
<li>Automated scripts initialize clusters and deploy resources.</li>
</ul>
</li>
<li>
<h4 id="welcome-progressive-learning">Progressive Learning<a class="headerlink" href="#welcome-progressive-learning" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Start with MCP fundamentals and simple tools.</p>
</li>
<li>
<p>Progress through TypeScript and Python MCP server development.</p>
</li>
<li>
<p>Learn Kubernetes deployment and management.</p>
</li>
</ul>
</li>
<li>
<h4 id="welcome-hands-on-practice">Hands-On Practice<a class="headerlink" href="#welcome-hands-on-practice" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Each lab includes executable demo scripts for automation.</p>
</li>
<li>
<p>Verify your work with provided test scripts.</p>
</li>
<li>
<p>Build real-world MCP tools that interact with Kubernetes.</p>
</li>
</ul>
</li>
</ul>
</div>
<ul>
<li>The K-Agent Labs are <strong>designed for practical learning</strong> with a focus on hands-on experience.</li>
<li>They guide you from MCP basics to production-ready deployments.</li>
<li>Labs can be completed in any supported environment (Docker Desktop, Minikube, Kind, GKE).</li>
</ul></section>
                    <section class='print-page md-section' id='section-2' heading-number='2'>
                        <h1>Labs<a class='headerlink' href='#section-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="index" heading-number="2.1"><h1 id="index-list-of-labs">List of Labs<a class="headerlink" href="#index-list-of-labs" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Lab</th>
<th>Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#000-setup">Lab 000 - Setup</a></td>
<td>Setup lab environment with Docker and Kubernetes clusters</td>
</tr>
<tr>
<td><a href="#001-mcp-basics">Lab 001 - MCP Basics</a></td>
<td>Learn the Model Context Protocol fundamentals</td>
</tr>
<tr>
<td><a href="#002-python-server-readme.md">Lab 002 - Python Server</a></td>
<td>Build MCP servers with Python and FastMCP</td>
</tr>
<tr>
<td><a href="#003-typescript-server-readme.md">Lab 003 - TypeScript Server</a></td>
<td>Build MCP servers with TypeScript</td>
</tr>
<tr>
<td><a href="#004-k8s-deploy">Lab 004 - K8s Deployment</a></td>
<td>Deploy MCP servers to Kubernetes</td>
</tr>
<tr>
<td><a href="#005-kubectl-tool">Lab 005 - Kubectl Tool</a></td>
<td>Create kubectl integration tool</td>
</tr>
<tr>
<td><a href="#006-cluster-inspector">Lab 006 - Cluster Inspector</a></td>
<td>Build cluster health monitoring tool</td>
</tr>
<tr>
<td><a href="#007-helm-tool">Lab 007 - Helm Tool</a></td>
<td>Manage Kubernetes packages with Helm</td>
</tr>
<tr>
<td><a href="#008-postgres-tool">Lab 008 - PostgreSQL Tool</a></td>
<td>Database integration with PostgreSQL</td>
</tr>
<tr>
<td><a href="#009-configmap-secrets">Lab 009 - ConfigMaps &amp; Secrets</a></td>
<td>Kubernetes configuration management</td>
</tr>
<tr>
<td><a href="#010-mcp-remote">Lab 010 - Remote MCP</a></td>
<td>Remote server communication via HTTP/WebSocket</td>
</tr>
<tr>
<td><a href="#011-gcp-gke">Lab 011 - Google GKE</a></td>
<td>Deploy to Google Kubernetes Engine</td>
</tr>
<tr>
<td><a href="#012-gcp-tools">Lab 012 - GCP Tools</a></td>
<td>Google Cloud integration with SDK tools</td>
</tr>
<tr>
<td><a href="#013-security-rbac">Lab 013 - Security &amp; RBAC</a></td>
<td>Kubernetes security best practices</td>
</tr>
<tr>
<td><a href="#014-production-ready">Lab 014 - Production Ready</a></td>
<td>Production deployment with observability</td>
</tr>
</tbody>
</table></section><section class="print-page" id="000-setup" heading-number="2.2"><p><a href="https://github.com/CodeWizard-IL/Kagent/actions/workflows/000-setup.yaml" target="_blank">
  <img src="https://github.com/CodeWizard-IL/Kagent/actions/workflows/000-setup.yaml/badge.svg" alt="Lab 000-setup">
</a></p>
<hr />
<h1 id="000-setup-lab-000-environment-setup">Lab 000 - Environment Setup<a class="headerlink" href="#000-setup-lab-000-environment-setup" title="Permanent link">&para;</a></h1>
<ul>
<li>Welcome to <code>K-Agent</code> Labs! </li>
<li>In this first lab, you&rsquo;ll set up your development environment with all the tools needed for the <code>K-Agent</code> infrastructure. </li>
<li>This lab covers <code>Docker</code>, <code>Kubernetes</code>, and the <code>K-Agent</code> labs environment container.</li>
</ul>
<hr />
<p><img src="../assets/images/tldr.png" style="width:100px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);"></p>
<div class="grid cards" style="text-align: center;border-radius: 20px;">
<ul>
<li>
<p><img alt="" src="../assets/images/docker.png" />
  <div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#000-setup-__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>docker<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
</span></code></pre></div></p>
</li>
<li>
<p><img alt="" class="height-64px" src="../assets/images/killercoda.png" /><br/><br/>
  <a target="_blank" href="https://killercoda.com/codewizard/scenario/Kagent">Launch on KillerCoda</a></p>
</li>
</ul>
</div>
<hr />
<h4 id="000-setup-what-youll-learn-in-this-lab">What you&rsquo;ll learn in this lab:<a class="headerlink" href="#000-setup-what-youll-learn-in-this-lab" title="Permanent link">&para;</a></h4>
<ul>
<li>Install and configure required tools (Docker, kubectl, Helm, Ollama, MCP Inspector, K-Agent etc.)</li>
<li>Build and run the K-Agent labs environment (Docker container or locally)</li>
<li>Verify Kubernetes cluster connectivity </li>
<li>Prepare the MCP server setup</li>
</ul>
<hr />
<h2 id="000-setup-pre-requirements">Pre-Requirements<a class="headerlink" href="#000-setup-pre-requirements" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Tool Name</th>
<th style="text-align: left;">CentOS</th>
<th style="text-align: left;">Windows</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Visual Studio Code</strong></td>
<td style="text-align: left;"><code>sudo yum install code</code></td>
<td style="text-align: left;"><a href="https://code.visualstudio.com/">Download Installer</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Python 3</strong></td>
<td style="text-align: left;"><code>sudo yum install python3</code></td>
<td style="text-align: left;"><a href="https://www.python.org/">Download Installer</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Node.js</strong></td>
<td style="text-align: left;"><code>sudo yum install -y nodejs</code></td>
<td style="text-align: left;"><a href="https://nodejs.org/">Download Installer</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Git</strong></td>
<td style="text-align: left;"><code>sudo yum install git</code></td>
<td style="text-align: left;"><a href="https://git-scm.com/">Download Installer</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Docker</strong></td>
<td style="text-align: left;"><code>sudo yum install docker-ce</code></td>
<td style="text-align: left;"><a href="https://www.docker.com/">Download Docker Desktop</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Kubernetes (kubectl)</strong></td>
<td style="text-align: left;"><code>sudo yum install -y kubectl</code></td>
<td style="text-align: left;"><a href="https://kubernetes.io/docs/tasks/tools/">Installation Docs</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Ollama</strong></td>
<td style="text-align: left;"><code>curl -fsSL https://ollama.com/install.sh \| sh</code></td>
<td style="text-align: left;"><a href="https://ollama.ai/">Download Installer</a></td>
</tr>
<tr>
<td style="text-align: left;"><strong>MCP Inspector</strong></td>
<td style="text-align: left;"><code>npm install -g @modelcontextprotocol/inspector</code></td>
<td style="text-align: left;"><code>npm install -g @modelcontextprotocol/inspector</code></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="000-setup-01-prerequisites-installation">01. Prerequisites Installation<a class="headerlink" href="#000-setup-01-prerequisites-installation" title="Permanent link">&para;</a></h2>
<h3 id="000-setup-docker-installation">üê≥ Docker Installation<a class="headerlink" href="#000-setup-docker-installation" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="000-setup-__tabbed_1_1" name="000-setup-__tabbed_1" type="radio" /><input id="000-setup-__tabbed_1_2" name="000-setup-__tabbed_1" type="radio" /><input id="000-setup-__tabbed_1_3" name="000-setup-__tabbed_1" type="radio" /><input id="000-setup-__tabbed_1_4" name="000-setup-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_1_1">Ô£ø macOS</label><label for="000-setup-__tabbed_1_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_1_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_1_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#000-setup-__codelineno-1-1"></a><span class="c1"># Install Docker Desktop</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#000-setup-__codelineno-1-2"></a>brew<span class="w"> </span>install<span class="w"> </span>--cask<span class="w"> </span>docker
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#000-setup-__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#000-setup-__codelineno-1-4"></a><span class="c1"># Start Docker Desktop from Applications</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#000-setup-__codelineno-1-5"></a><span class="c1"># Or use command line:</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#000-setup-__codelineno-1-6"></a>open<span class="w"> </span>/Applications/Docker.app
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#000-setup-__codelineno-2-1"></a><span class="c1"># Update package index</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#000-setup-__codelineno-2-2"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>update
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#000-setup-__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#000-setup-__codelineno-2-4"></a><span class="c1"># Install Docker</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#000-setup-__codelineno-2-5"></a>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://get.docker.com<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#000-setup-__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#000-setup-__codelineno-2-7"></a><span class="c1"># Add user to docker group</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#000-setup-__codelineno-2-8"></a>sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>docker<span class="w"> </span><span class="nv">$USER</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#000-setup-__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#000-setup-__codelineno-2-10"></a><span class="c1"># Restart session or run:</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#000-setup-__codelineno-2-11"></a>newgrp<span class="w"> </span>docker
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#000-setup-__codelineno-3-1"></a><span class="c1"># Set up the repository</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#000-setup-__codelineno-3-2"></a>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>yum-utils
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#000-setup-__codelineno-3-3"></a>sudo<span class="w"> </span>yum-config-manager<span class="w"> </span>--add-repo<span class="w"> </span>https://download.docker.com/linux/centos/docker-ce.repo
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#000-setup-__codelineno-3-4"></a><span class="c1"># Install Docker</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#000-setup-__codelineno-3-5"></a>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>docker-ce<span class="w"> </span>docker-ce-cli<span class="w"> </span>containerd.io
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#000-setup-__codelineno-3-6"></a><span class="c1"># Start Docker</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#000-setup-__codelineno-3-7"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>docker
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#000-setup-__codelineno-3-8"></a><span class="c1"># Add user to docker group</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#000-setup-__codelineno-3-9"></a>sudo<span class="w"> </span>usermod<span class="w"> </span>-aG<span class="w"> </span>docker<span class="w"> </span><span class="nv">$USER</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#000-setup-__codelineno-3-10"></a><span class="c1"># Restart session or run:</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#000-setup-__codelineno-3-11"></a>newgrp<span class="w"> </span>docker
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#000-setup-__codelineno-4-1"></a><span class="c1"># Docker is pre-installed in Cloud Shell</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#000-setup-__codelineno-4-2"></a>docker<span class="w"> </span>--version
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="000-setup-kubectl-installation">‚ò∏Ô∏è kubectl Installation<a class="headerlink" href="#000-setup-kubectl-installation" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="2:4"><input checked="checked" id="000-setup-__tabbed_2_1" name="000-setup-__tabbed_2" type="radio" /><input id="000-setup-__tabbed_2_2" name="000-setup-__tabbed_2" type="radio" /><input id="000-setup-__tabbed_2_3" name="000-setup-__tabbed_2" type="radio" /><input id="000-setup-__tabbed_2_4" name="000-setup-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_2_1">Ô£ø macOS</label><label for="000-setup-__tabbed_2_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_2_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_2_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#000-setup-__codelineno-5-1"></a>brew<span class="w"> </span>install<span class="w"> </span>kubectl
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#000-setup-__codelineno-6-1"></a>curl<span class="w"> </span>-LO<span class="w"> </span><span class="s2">&quot;https://dl.k8s.io/release/</span><span class="k">$(</span>curl<span class="w"> </span>-L<span class="w"> </span>-s<span class="w"> </span>https://dl.k8s.io/release/stable.txt<span class="k">)</span><span class="s2">/bin/linux/amd64/kubectl&quot;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#000-setup-__codelineno-6-2"></a>sudo<span class="w"> </span>install<span class="w"> </span>-o<span class="w"> </span>root<span class="w"> </span>-g<span class="w"> </span>root<span class="w"> </span>-m<span class="w"> </span><span class="m">0755</span><span class="w"> </span>kubectl<span class="w"> </span>/usr/local/bin/kubectl
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#000-setup-__codelineno-7-1"></a>curl<span class="w"> </span>-LO<span class="w"> </span><span class="s2">&quot;https://dl.k8s.io/release/</span><span class="k">$(</span>curl<span class="w"> </span>-L<span class="w"> </span>-s<span class="w"> </span>https://dl.k8s.io/release/stable.txt<span class="k">)</span><span class="s2">/bin/linux/amd64/kubectl&quot;</span><span class="w"> </span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#000-setup-__codelineno-7-2"></a>sudo<span class="w"> </span>install<span class="w"> </span>-o<span class="w"> </span>root<span class="w"> </span>-g<span class="w"> </span>root<span class="w"> </span>-m<span class="w"> </span><span class="m">0755</span><span class="w"> </span>kubectl<span class="w"> </span>/usr/local/bin/kubectl
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#000-setup-__codelineno-8-1"></a><span class="c1"># kubectl is pre-installed</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#000-setup-__codelineno-8-2"></a>kubectl<span class="w"> </span>version<span class="w"> </span>--client
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="000-setup-helm-installation">‚öì Helm Installation<a class="headerlink" href="#000-setup-helm-installation" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="3:4"><input checked="checked" id="000-setup-__tabbed_3_1" name="000-setup-__tabbed_3" type="radio" /><input id="000-setup-__tabbed_3_2" name="000-setup-__tabbed_3" type="radio" /><input id="000-setup-__tabbed_3_3" name="000-setup-__tabbed_3" type="radio" /><input id="000-setup-__tabbed_3_4" name="000-setup-__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_3_1">Ô£ø macOS</label><label for="000-setup-__tabbed_3_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_3_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_3_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#000-setup-__codelineno-9-1"></a>brew<span class="w"> </span>install<span class="w"> </span>helm
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#000-setup-__codelineno-10-1"></a>curl<span class="w"> </span>https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#000-setup-__codelineno-11-1"></a>curl<span class="w"> </span>https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#000-setup-__codelineno-12-1"></a><span class="c1"># Helm is pre-installed</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#000-setup-__codelineno-12-2"></a>helm<span class="w"> </span>version
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="000-setup-git-installation">üêô Git Installation<a class="headerlink" href="#000-setup-git-installation" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="4:4"><input checked="checked" id="000-setup-__tabbed_4_1" name="000-setup-__tabbed_4" type="radio" /><input id="000-setup-__tabbed_4_2" name="000-setup-__tabbed_4" type="radio" /><input id="000-setup-__tabbed_4_3" name="000-setup-__tabbed_4" type="radio" /><input id="000-setup-__tabbed_4_4" name="000-setup-__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_4_1">Ô£ø macOS</label><label for="000-setup-__tabbed_4_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_4_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_4_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#000-setup-__codelineno-13-1"></a>brew<span class="w"> </span>install<span class="w"> </span>git
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#000-setup-__codelineno-14-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>git
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#000-setup-__codelineno-15-1"></a>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>git
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#000-setup-__codelineno-16-1"></a><span class="c1"># Git is pre-installed</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#000-setup-__codelineno-16-2"></a>git<span class="w"> </span>--version
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="000-setup-python3-installation">üêç Python3 Installation<a class="headerlink" href="#000-setup-python3-installation" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="5:4"><input checked="checked" id="000-setup-__tabbed_5_1" name="000-setup-__tabbed_5" type="radio" /><input id="000-setup-__tabbed_5_2" name="000-setup-__tabbed_5" type="radio" /><input id="000-setup-__tabbed_5_3" name="000-setup-__tabbed_5" type="radio" /><input id="000-setup-__tabbed_5_4" name="000-setup-__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_5_1">Ô£ø macOS</label><label for="000-setup-__tabbed_5_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_5_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_5_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#000-setup-__codelineno-17-1"></a>brew<span class="w"> </span>install<span class="w"> </span>python
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#000-setup-__codelineno-18-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3<span class="w"> </span>python3-pip
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#000-setup-__codelineno-19-1"></a>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3<span class="w"> </span>python3-pip
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#000-setup-__codelineno-20-1"></a><span class="c1"># Python3 is pre-installed</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#000-setup-__codelineno-20-2"></a>python3<span class="w"> </span>--version
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="000-setup-nodejs-installation">üì¶ Node.js Installation<a class="headerlink" href="#000-setup-nodejs-installation" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="6:4"><input checked="checked" id="000-setup-__tabbed_6_1" name="000-setup-__tabbed_6" type="radio" /><input id="000-setup-__tabbed_6_2" name="000-setup-__tabbed_6" type="radio" /><input id="000-setup-__tabbed_6_3" name="000-setup-__tabbed_6" type="radio" /><input id="000-setup-__tabbed_6_4" name="000-setup-__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_6_1">Ô£ø macOS</label><label for="000-setup-__tabbed_6_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_6_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_6_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#000-setup-__codelineno-21-1"></a>brew<span class="w"> </span>install<span class="w"> </span>node
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#000-setup-__codelineno-22-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>nodejs<span class="w"> </span>npm
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#000-setup-__codelineno-23-1"></a>sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>nodejs<span class="w"> </span>npm
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#000-setup-__codelineno-24-1"></a><span class="c1"># Node.js is pre-installed</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#000-setup-__codelineno-24-2"></a>node<span class="w"> </span>--version
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="000-setup-ollama-installation">ü§ñ Ollama Installation<a class="headerlink" href="#000-setup-ollama-installation" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="7:4"><input checked="checked" id="000-setup-__tabbed_7_1" name="000-setup-__tabbed_7" type="radio" /><input id="000-setup-__tabbed_7_2" name="000-setup-__tabbed_7" type="radio" /><input id="000-setup-__tabbed_7_3" name="000-setup-__tabbed_7" type="radio" /><input id="000-setup-__tabbed_7_4" name="000-setup-__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_7_1">Ô£ø macOS</label><label for="000-setup-__tabbed_7_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_7_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_7_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#000-setup-__codelineno-25-1"></a>brew<span class="w"> </span>install<span class="w"> </span>ollama
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#000-setup-__codelineno-25-2"></a>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#000-setup-__codelineno-25-3"></a><span class="c1"># Start Ollama service</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#000-setup-__codelineno-25-4"></a>ollama<span class="w"> </span>serve
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#000-setup-__codelineno-26-1"></a>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://ollama.ai/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#000-setup-__codelineno-26-2"></a>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#000-setup-__codelineno-26-3"></a><span class="c1"># Start Ollama service</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#000-setup-__codelineno-26-4"></a>ollama<span class="w"> </span>serve
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#000-setup-__codelineno-27-1"></a>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://ollama.ai/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#000-setup-__codelineno-27-2"></a>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#000-setup-__codelineno-27-3"></a><span class="c1"># Start Ollama service</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#000-setup-__codelineno-27-4"></a>ollama<span class="w"> </span>serve
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#000-setup-__codelineno-28-1"></a><span class="c1"># Ollama is not supported in Cloud Shell</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#000-setup-__codelineno-28-2"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Ollama is not supported in Cloud Shell&quot;</span>
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="000-setup-mcp-inspector-installation">üîç MCP Inspector Installation<a class="headerlink" href="#000-setup-mcp-inspector-installation" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="8:4"><input checked="checked" id="000-setup-__tabbed_8_1" name="000-setup-__tabbed_8" type="radio" /><input id="000-setup-__tabbed_8_2" name="000-setup-__tabbed_8" type="radio" /><input id="000-setup-__tabbed_8_3" name="000-setup-__tabbed_8" type="radio" /><input id="000-setup-__tabbed_8_4" name="000-setup-__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_8_1">Ô£ø macOS</label><label for="000-setup-__tabbed_8_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_8_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_8_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#000-setup-__codelineno-29-1"></a>npm<span class="w"> </span>install<span class="w"> </span>-g<span class="w"> </span>@modelcontextprotocol/inspector
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#000-setup-__codelineno-30-1"></a>npm<span class="w"> </span>install<span class="w"> </span>-g<span class="w"> </span>@modelcontextprotocol/inspector
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#000-setup-__codelineno-31-1"></a>npm<span class="w"> </span>install<span class="w"> </span>-g<span class="w"> </span>@modelcontextprotocol/inspector
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#000-setup-__codelineno-32-1"></a>npm<span class="w"> </span>install<span class="w"> </span>-g<span class="w"> </span>@modelcontextprotocol/inspector
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="000-setup-kubernetes-cluster-setup-minikube">Kubernetes Cluster Setup (minikube)<a class="headerlink" href="#000-setup-kubernetes-cluster-setup-minikube" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="9:4"><input checked="checked" id="000-setup-__tabbed_9_1" name="000-setup-__tabbed_9" type="radio" /><input id="000-setup-__tabbed_9_2" name="000-setup-__tabbed_9" type="radio" /><input id="000-setup-__tabbed_9_3" name="000-setup-__tabbed_9" type="radio" /><input id="000-setup-__tabbed_9_4" name="000-setup-__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_9_1">Ô£ø macOS</label><label for="000-setup-__tabbed_9_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_9_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_9_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#000-setup-__codelineno-33-1"></a>brew<span class="w"> </span>install<span class="w"> </span>minikube
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#000-setup-__codelineno-34-1"></a>curl<span class="w"> </span>-LO<span class="w"> </span>https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#000-setup-__codelineno-34-2"></a>sudo<span class="w"> </span>install<span class="w"> </span>minikube-linux-amd64<span class="w"> </span>/usr/local/bin/minikube
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#000-setup-__codelineno-35-1"></a>curl<span class="w"> </span>-LO<span class="w"> </span>https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#000-setup-__codelineno-35-2"></a>sudo<span class="w"> </span>install<span class="w"> </span>minikube-linux-amd64<span class="w"> </span>/usr/local/bin/minikube
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#000-setup-__codelineno-36-1"></a><span class="c1"># Minikube is already installed in Cloud Shell</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#000-setup-__codelineno-36-2"></a>minikube<span class="w"> </span>version
</span></code></pre></div>
</div>
</div>
</div>
<h3 id="000-setup-kubernetes-cluster-setup-kind">Kubernetes Cluster Setup (kind)<a class="headerlink" href="#000-setup-kubernetes-cluster-setup-kind" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="10:4"><input checked="checked" id="000-setup-__tabbed_10_1" name="000-setup-__tabbed_10" type="radio" /><input id="000-setup-__tabbed_10_2" name="000-setup-__tabbed_10" type="radio" /><input id="000-setup-__tabbed_10_3" name="000-setup-__tabbed_10" type="radio" /><input id="000-setup-__tabbed_10_4" name="000-setup-__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_10_1">Ô£ø macOS</label><label for="000-setup-__tabbed_10_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_10_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_10_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#000-setup-__codelineno-37-1"></a>brew<span class="w"> </span>install<span class="w"> </span>kind
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#000-setup-__codelineno-38-1"></a>curl<span class="w"> </span>-Lo<span class="w"> </span>./kind<span class="w"> </span>https://kind.sigs.k8s.io/dl/v0.20.0/kind-linux-amd64
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#000-setup-__codelineno-38-2"></a>chmod<span class="w"> </span>+x<span class="w"> </span>./kind
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#000-setup-__codelineno-38-3"></a>sudo<span class="w"> </span>mv<span class="w"> </span>./kind<span class="w"> </span>/usr/local/bin/kind
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#000-setup-__codelineno-39-1"></a>curl<span class="w"> </span>-Lo<span class="w"> </span>./kind<span class="w"> </span>https://kind.sigs.k8s.io/dl/v0.20.0/kind-linux-amd64
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#000-setup-__codelineno-39-2"></a>chmod<span class="w"> </span>+x<span class="w"> </span>./kind
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#000-setup-__codelineno-39-3"></a>sudo<span class="w"> </span>mv<span class="w"> </span>./kind<span class="w"> </span>/usr/local/bin/kind
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#000-setup-__codelineno-40-1"></a>Kind<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>supported<span class="w"> </span><span class="k">in</span><span class="w"> </span>Cloud<span class="w"> </span>Shell<span class="w"> </span>-<span class="w"> </span>Use<span class="w"> </span>minikube<span class="w"> </span>instead
</span></code></pre></div>
</div>
</div>
</div>
<hr />
<h2 id="000-setup-02-verify-tools-installation">02. Verify Tools Installation<a class="headerlink" href="#000-setup-02-verify-tools-installation" title="Permanent link">&para;</a></h2>
<ul>
<li>Verify that all the tools are installed
<div class="language-bash highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#000-setup-__codelineno-41-1"></a><span class="c1"># Verify Docker</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#000-setup-__codelineno-41-2"></a>docker<span class="w"> </span>--version
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#000-setup-__codelineno-41-3"></a><span class="c1"># Verify kubectl</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#000-setup-__codelineno-41-4"></a>kubectl<span class="w"> </span>version<span class="w"> </span>--client
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#000-setup-__codelineno-41-5"></a><span class="c1"># Verify Helm</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#000-setup-__codelineno-41-6"></a>helm<span class="w"> </span>version
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#000-setup-__codelineno-41-7"></a><span class="c1"># Verify Git</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#000-setup-__codelineno-41-8"></a>git<span class="w"> </span>--version
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#000-setup-__codelineno-41-9"></a><span class="c1"># Verify Python3</span>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#000-setup-__codelineno-41-10"></a>python3<span class="w"> </span>--version
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#000-setup-__codelineno-41-11"></a><span class="c1"># Verify Node.js</span>
</span><span id="__span-41-12"><a id="__codelineno-41-12" name="__codelineno-41-12" href="#000-setup-__codelineno-41-12"></a>node<span class="w"> </span>--version
</span><span id="__span-41-13"><a id="__codelineno-41-13" name="__codelineno-41-13" href="#000-setup-__codelineno-41-13"></a><span class="c1"># Verify Ollama (if installed)</span>
</span><span id="__span-41-14"><a id="__codelineno-41-14" name="__codelineno-41-14" href="#000-setup-__codelineno-41-14"></a>ollama<span class="w"> </span>--version
</span><span id="__span-41-15"><a id="__codelineno-41-15" name="__codelineno-41-15" href="#000-setup-__codelineno-41-15"></a><span class="c1"># Verify MCP Inspector</span>
</span><span id="__span-41-16"><a id="__codelineno-41-16" name="__codelineno-41-16" href="#000-setup-__codelineno-41-16"></a>mcp-inspector<span class="w"> </span>--version<span class="w"> </span>
</span><span id="__span-41-17"><a id="__codelineno-41-17" name="__codelineno-41-17" href="#000-setup-__codelineno-41-17"></a><span class="c1"># Verify Kind (if installed)</span>
</span><span id="__span-41-18"><a id="__codelineno-41-18" name="__codelineno-41-18" href="#000-setup-__codelineno-41-18"></a>kind<span class="w"> </span>--version
</span><span id="__span-41-19"><a id="__codelineno-41-19" name="__codelineno-41-19" href="#000-setup-__codelineno-41-19"></a><span class="c1"># Verify Minikube (if installed)</span>
</span><span id="__span-41-20"><a id="__codelineno-41-20" name="__codelineno-41-20" href="#000-setup-__codelineno-41-20"></a>minikube<span class="w"> </span>version
</span><span id="__span-41-21"><a id="__codelineno-41-21" name="__codelineno-41-21" href="#000-setup-__codelineno-41-21"></a><span class="c1"># Verify Cluster Info (if cluster is running)</span>
</span><span id="__span-41-22"><a id="__codelineno-41-22" name="__codelineno-41-22" href="#000-setup-__codelineno-41-22"></a>kubectl<span class="w"> </span>cluster-info
</span></code></pre></div></li>
</ul>
<hr />
<h2 id="000-setup-03-install-the-k-agent">03. Install the K-Agent<a class="headerlink" href="#000-setup-03-install-the-k-agent" title="Permanent link">&para;</a></h2>
<ul>
<li>The <code>K-Agent</code> labs environment is the fundamental building block for all labs.</li>
<li>Its an Open Source framework to write MCP tools and interact with Kubernetes clusters.</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="11:4"><input checked="checked" id="000-setup-__tabbed_11_1" name="000-setup-__tabbed_11" type="radio" /><input id="000-setup-__tabbed_11_2" name="000-setup-__tabbed_11" type="radio" /><input id="000-setup-__tabbed_11_3" name="000-setup-__tabbed_11" type="radio" /><input id="000-setup-__tabbed_11_4" name="000-setup-__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="000-setup-__tabbed_11_1">Ô£ø macOS</label><label for="000-setup-__tabbed_11_2">üêß Linux (Ubuntu/Debian)</label><label for="000-setup-__tabbed_11_3">üêß Linux (CentOS)</label><label for="000-setup-__tabbed_11_4">‚òÅÔ∏è GCP Cloud Shell</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#000-setup-__codelineno-42-1"></a>brew<span class="w"> </span>install<span class="w"> </span>kagent
</span></code></pre></div>
</div>
<div class="tabbed-block">
<p>```bash
curl https://raw.githubusercontent.com/kagent-dev/kagent/refs/heads/main/scripts/get-kagent | bash</p>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#000-setup-__codelineno-43-1"></a>curl<span class="w"> </span>https://raw.githubusercontent.com/kagent-dev/kagent/refs/heads/main/scripts/get-kagent<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</span></code></pre></div>
</div>
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#000-setup-__codelineno-44-1"></a>curl<span class="w"> </span>https://raw.githubusercontent.com/kagent-dev/kagent/refs/heads/main/scripts/get-kagent<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</span></code></pre></div>
</div>
</div>
</div>
<h4 id="000-setup-verifty-k-agent-installation">Verifty K-Agent Installation<a class="headerlink" href="#000-setup-verifty-k-agent-installation" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#000-setup-__codelineno-45-1"></a>kagent<span class="w"> </span>version
</span></code></pre></div>
<hr />
<h2 id="000-setup-04-ollama-setup">04. Ollama Setup<a class="headerlink" href="#000-setup-04-ollama-setup" title="Permanent link">&para;</a></h2>
<ul>
<li>Ollama will be used as our LLLM model for the labs.</li>
<li>Ollama is a local LLM server that allows you to run large language models on your machine.</li>
<li>Ollama supports various models, for example: Qwen and Llama.</li>
<li>We will ise the <code>qwen3-coder</code> model which is optimized for coding tasks or the <code>gpt-oos</code> model.  </li>
</ul>
<div class="admonition info">
<p class="admonition-title">Pulling Models (Ollama)</p>
<ul>
<li>Pulling models can take a while depending on your internet speed and system performance.</li>
<li>You can skip this step and return to it later when needed.</li>
</ul>
</div>
<h4 id="000-setup-setup-ollama-models">Setup Ollama models<a class="headerlink" href="#000-setup-setup-ollama-models" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#000-setup-__codelineno-46-1"></a><span class="c1"># Start Ollama service</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#000-setup-__codelineno-46-2"></a>ollama<span class="w"> </span>serve
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#000-setup-__codelineno-46-3"></a>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#000-setup-__codelineno-46-4"></a><span class="c1"># In a new terminal, pull the qwen3-coder model (optimized for coding tasks)</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#000-setup-__codelineno-46-5"></a>ollama<span class="w"> </span>pull<span class="w"> </span>qwen3-coder:30b
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#000-setup-__codelineno-46-6"></a>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#000-setup-__codelineno-46-7"></a><span class="c1"># Alternatively, pull the gpt-oos model</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#000-setup-__codelineno-46-8"></a>ollama<span class="w"> </span>pull<span class="w"> </span>gpt-oos:7b
</span><span id="__span-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9" href="#000-setup-__codelineno-46-9"></a>
</span><span id="__span-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10" href="#000-setup-__codelineno-46-10"></a><span class="c1"># Verify</span>
</span><span id="__span-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11" href="#000-setup-__codelineno-46-11"></a>ollama<span class="w"> </span>list
</span></code></pre></div>
<h3 id="000-setup-pull-a-model">Pull a Model<a class="headerlink" href="#000-setup-pull-a-model" title="Permanent link">&para;</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#000-setup-__codelineno-47-1"></a><span class="c1"># In a new terminal, pull the qwen3-coder model (optimized for coding tasks)</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#000-setup-__codelineno-47-2"></a>ollama<span class="w"> </span>pull<span class="w"> </span>qwen3-coder:30b
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#000-setup-__codelineno-47-3"></a>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#000-setup-__codelineno-47-4"></a><span class="c1"># Verify</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#000-setup-__codelineno-47-5"></a>ollama<span class="w"> </span>list
</span></code></pre></div>
<hr />
<h2 id="000-setup-07-hands-on-exercise">07. Hands-on Exercise<a class="headerlink" href="#000-setup-07-hands-on-exercise" title="Permanent link">&para;</a></h2>
<ul>
<li>Let&rsquo;s verify your setup by running a simple test.</li>
</ul>
<h4 id="000-setup-task-01-check-cluster-information">Task 01: Check Cluster Information<a class="headerlink" href="#000-setup-task-01-check-cluster-information" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#000-setup-__codelineno-48-1"></a><span class="c1"># Check cluster info</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#000-setup-__codelineno-48-2"></a>kubectl<span class="w"> </span>cluster-info
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#000-setup-__codelineno-48-3"></a>kubectl<span class="w"> </span>get<span class="w"> </span>nodes
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#000-setup-__codelineno-48-4"></a>kubectl<span class="w"> </span>get<span class="w"> </span>namespaces
</span></code></pre></div>
<p><strong>Exercise 2: Test Container Environment</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#000-setup-__codelineno-49-1"></a><span class="c1"># Start labs environment if not running</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#000-setup-__codelineno-49-2"></a><span class="nb">cd</span><span class="w"> </span>labs-environment
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#000-setup-__codelineno-49-3"></a>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>-d
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#000-setup-__codelineno-49-4"></a>
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#000-setup-__codelineno-49-5"></a><span class="c1"># Execute commands in container</span>
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#000-setup-__codelineno-49-6"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>kagent-controller<span class="w"> </span>bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#000-setup-__codelineno-49-7"></a><span class="s2">echo &#39;=== Environment Check ===&#39;</span>
</span><span id="__span-49-8"><a id="__codelineno-49-8" name="__codelineno-49-8" href="#000-setup-__codelineno-49-8"></a><span class="s2">echo &#39;Node.js:&#39; \$(node --version)</span>
</span><span id="__span-49-9"><a id="__codelineno-49-9" name="__codelineno-49-9" href="#000-setup-__codelineno-49-9"></a><span class="s2">echo &#39;Python:&#39; \$(python --version)</span>
</span><span id="__span-49-10"><a id="__codelineno-49-10" name="__codelineno-49-10" href="#000-setup-__codelineno-49-10"></a><span class="s2">echo &#39;kubectl:&#39; \$(kubectl version --client --short)</span>
</span><span id="__span-49-11"><a id="__codelineno-49-11" name="__codelineno-49-11" href="#000-setup-__codelineno-49-11"></a><span class="s2">echo &#39;Helm:&#39; \$(helm version --short)</span>
</span><span id="__span-49-12"><a id="__codelineno-49-12" name="__codelineno-49-12" href="#000-setup-__codelineno-49-12"></a><span class="s2">echo &#39;=========================&#39;</span>
</span><span id="__span-49-13"><a id="__codelineno-49-13" name="__codelineno-49-13" href="#000-setup-__codelineno-49-13"></a><span class="s2">&quot;</span>
</span></code></pre></div>
<p><strong>Expected Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#000-setup-__codelineno-50-1"></a>=== Environment Check ===
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#000-setup-__codelineno-50-2"></a>Node.js: v18.x.x
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#000-setup-__codelineno-50-3"></a>Python: Python 3.10.x
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#000-setup-__codelineno-50-4"></a>kubectl: Client Version: v1.28.x
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#000-setup-__codelineno-50-5"></a>Helm: v3.13.x
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#000-setup-__codelineno-50-6"></a>=========================
</span></code></pre></div></p>
<hr />
<h2 id="000-setup-08-troubleshooting">08. Troubleshooting<a class="headerlink" href="#000-setup-08-troubleshooting" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Container Won&rsquo;t Start</p>
<p>If the container fails to start, check:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#000-setup-__codelineno-51-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>logs
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#000-setup-__codelineno-51-2"></a>docker<span class="w"> </span>images<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>kagent
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#000-setup-__codelineno-51-3"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a
</span></code></pre></div></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Kubectl Not Working in Container</p>
<p>If kubectl commands fail in the container:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#000-setup-__codelineno-52-1"></a><span class="c1"># Verify kubeconfig is mounted correctly</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#000-setup-__codelineno-52-2"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>kagent-controller<span class="w"> </span>ls<span class="w"> </span>-la<span class="w"> </span>/root/.kube/
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#000-setup-__codelineno-52-3"></a>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#000-setup-__codelineno-52-4"></a><span class="c1"># Try copying kubeconfig again</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#000-setup-__codelineno-52-5"></a>cp<span class="w"> </span>~/.kube/config<span class="w"> </span><span class="k">$(</span>git<span class="w"> </span>rev-parse<span class="w"> </span>--show-toplevel<span class="k">)</span>//runtime/.kube/config
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#000-setup-__codelineno-52-6"></a>
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#000-setup-__codelineno-52-7"></a><span class="c1"># Restart container</span>
</span><span id="__span-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8" href="#000-setup-__codelineno-52-8"></a><span class="nb">cd</span><span class="w"> </span>labs-environment
</span><span id="__span-52-9"><a id="__codelineno-52-9" name="__codelineno-52-9" href="#000-setup-__codelineno-52-9"></a>docker<span class="w"> </span>compose<span class="w"> </span>restart
</span></code></pre></div></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Platform Issues (M1/M2 Mac)</p>
<p>If you encounter platform errors:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#000-setup-__codelineno-53-1"></a><span class="c1"># Verify platform in .env file</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#000-setup-__codelineno-53-2"></a>cat<span class="w"> </span>labs-environment/.env
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#000-setup-__codelineno-53-3"></a>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#000-setup-__codelineno-53-4"></a><span class="c1"># Should show: TARGET_PLATFORM=linux/arm64</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#000-setup-__codelineno-53-5"></a><span class="c1"># If not, update it manually</span>
</span></code></pre></div></p>
</div></section><section class="print-page" id="001-mcp-basics" heading-number="2.3"><h1 id="001-mcp-basics-lab-001-mcp-basics">Lab 001 - MCP Basics<a class="headerlink" href="#001-mcp-basics-lab-001-mcp-basics" title="Permanent link">&para;</a></h1>
<ul>
<li>In this lab, you&rsquo;ll learn about the Model Context Protocol (MCP), the communication standard that enables AI assistants to interact with external tools and services. </li>
<li>You&rsquo;ll explore MCP concepts, test simple tools, and understand the protocol structure.</li>
<li>
<p>This lab uses the MCP server included in the K-Agent labs environment.</p>
<div class="admonition danger">
<p class="admonition-title">Prerequisites</p>
<ul>
<li>Make sure you have completed <a href="#000-setup">Lab 000 - Environment Setup</a> before starting this lab.</li>
</ul>
</div>
</li>
</ul>
<h4 id="001-mcp-basics-what-youll-learn">What you&rsquo;ll learn:<a class="headerlink" href="#001-mcp-basics-what-youll-learn" title="Permanent link">&para;</a></h4>
<ul>
<li>Understanding Model Context Protocol (MCP) architecture</li>
<li>MCP server and client communication</li>
<li>Tool definitions and JSON schemas</li>
<li>Testing MCP tools with stdio transport</li>
</ul>
<p><strong>Estimated time:</strong> 10-12 minutes</p>
<hr />
<h2 id="001-mcp-basics-01-what-is-mcp">01. What is MCP?<a class="headerlink" href="#001-mcp-basics-01-what-is-mcp" title="Permanent link">&para;</a></h2>
<ul>
<li>The <strong>Model Context Protocol (MCP)</strong> is an open protocol that standardizes how AI applications interact with external data sources and tools. </li>
<li>It defines a structured way for AI assistants (clients) to discover, call, and receive responses from tools (servers) using JSON-RPC over various transport layers.</li>
<li>MCP is designed to be flexible and extensible, allowing developers to create custom tools that can be easily integrated with different AI models.</li>
</ul>
<h3 id="001-mcp-basics-what-does-mcp-offer">What does MCP offer?<a class="headerlink" href="#001-mcp-basics-what-does-mcp-offer" title="Permanent link">&para;</a></h3>
<div class="grid cards">
<ul>
<li>
<h4 id="001-mcp-basics-standardized-communication">Standardized Communication<a class="headerlink" href="#001-mcp-basics-standardized-communication" title="Permanent link">&para;</a></h4>
<p>AI assistants can work with any MCP-compatible tool</p>
</li>
<li>
<h4 id="001-mcp-basics-tool-discovery">Tool Discovery<a class="headerlink" href="#001-mcp-basics-tool-discovery" title="Permanent link">&para;</a></h4>
<p>Clients can discover available tools from servers</p>
</li>
<li>
<h4 id="001-mcp-basics-structured-interaction">Structured Interaction<a class="headerlink" href="#001-mcp-basics-structured-interaction" title="Permanent link">&para;</a></h4>
<p>Well-defined input/output schemas using JSON</p>
</li>
<li>
<h4 id="001-mcp-basics-standardized-communication_1">Standardized Communication<a class="headerlink" href="#001-mcp-basics-standardized-communication_1" title="Permanent link">&para;</a></h4>
<p>AI assistants can work with any MCP-compatible tool</p>
</li>
<li>
<h4 id="001-mcp-basics-tool-discovery_1">Tool Discovery<a class="headerlink" href="#001-mcp-basics-tool-discovery_1" title="Permanent link">&para;</a></h4>
<p>Clients can discover available tools from servers</p>
</li>
<li>
<h4 id="001-mcp-basics-structured-interaction_1">Structured Interaction<a class="headerlink" href="#001-mcp-basics-structured-interaction_1" title="Permanent link">&para;</a></h4>
<p>Well-defined input/output schemas using JSON</p>
</li>
<li>
<h4 id="001-mcp-basics-multiple-transports">Multiple Transports<a class="headerlink" href="#001-mcp-basics-multiple-transports" title="Permanent link">&para;</a></h4>
<p>Supports stdio, HTTP, WebSocket</p>
</li>
</ul>
</div>
<hr />
<h3 id="001-mcp-basics-k-agent-architecture-flow">K-Agent Architecture Flow<a class="headerlink" href="#001-mcp-basics-k-agent-architecture-flow" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>flowchart TD
    assistant[AI Assistant] --&gt;|MCP tool request| kagent[K-Agent MCP Server]
    kagent --&gt; toolRouter[K-Agent Tool Router]
    toolRouter --&gt;|kubeclient| k8s[Kubernetes API]
    toolRouter --&gt;|cloud sdk| clouds[Cloud Providers]
    kagent --&gt;|context updates| datastore[State &amp; Context Store]
    datastore --&gt;|observability| observ[Logs &amp; Metrics]
    k8s --&gt;|responses| kagent
    clouds --&gt;|responses| kagent
    kagent --&gt;|MCP response| assistant
    subgraph cluster [Kubernetes Cluster]
        direction LR
        k8s
        datastore
        observ
    end</code></pre>
<hr />
<h2 id="001-mcp-basics-02-mcp-components">02. MCP Components<a class="headerlink" href="#001-mcp-basics-02-mcp-components" title="Permanent link">&para;</a></h2>
<p><img src="../assets/images/MCP.svg" alt="MCP Components Diagram" class="center" style="max-width:800; border-radius:20px;"/></p>
<h3 id="001-mcp-basics-mcp-server">MCP Server<a class="headerlink" href="#001-mcp-basics-mcp-server" title="Permanent link">&para;</a></h3>
<div class="cards grid single-column">
<ul>
<li>
<h4 id="001-mcp-basics-exposes-toolsresources-to-clients">Exposes tools/resources to clients<a class="headerlink" href="#001-mcp-basics-exposes-toolsresources-to-clients" title="Permanent link">&para;</a></h4>
<ul>
<li>Provides a standardized interface for tool interaction</li>
<li>Allows AI assistants to discover and call tools</li>
<li>Manages tool lifecycle and execution</li>
<li>Handles tool errors and retries</li>
</ul>
</li>
</ul>
</div>
<div class="cards grid single-column">
<ul>
<li>
<h4 id="001-mcp-basics-implements-the-mcp-protocol">Implements the MCP protocol<a class="headerlink" href="#001-mcp-basics-implements-the-mcp-protocol" title="Permanent link">&para;</a></h4>
<ul>
<li>Follows JSON-RPC 2.0 specification</li>
<li>Supports multiple transport layers (stdio, HTTP, WebSocket)</li>
<li>Manages tool schemas and validation</li>
<li>Supports tool discovery and listing</li>
<li>Provides structured responses</li>
</ul>
</li>
</ul>
</div>
<div class="cards grid single-column">
<ul>
<li>
<h4 id="001-mcp-basics-typical-mcp-server-features">Typical MCP Server Features<a class="headerlink" href="#001-mcp-basics-typical-mcp-server-features" title="Permanent link">&para;</a></h4>
<ul>
<li>Runs as a standalone process or service</li>
<li>Can be deployed locally or in the cloud</li>
<li>Can run in containers or serverless environments</li>
<li>Scales based on demand</li>
<li>Monitors tool usage and performance</li>
<li>Logs tool interactions for auditing</li>
<li>Supports authentication and authorization</li>
<li>Integrates with AI assistants and applications</li>
<li>Defines tool schemas (inputs/outputs)</li>
<li>Handles tool execution</li>
</ul>
</li>
</ul>
</div>
<div class="cards grid single-column">
<ul>
<li>
<h4 id="001-mcp-basics-mcp-server-notes">MCP Server Notes<a class="headerlink" href="#001-mcp-basics-mcp-server-notes" title="Permanent link">&para;</a></h4>
<ul>
<li>Communicates via transport layer (stdio, HTTP, WebSocket)</li>
<li>Typically runs as a local process or container</li>
<li>In K-Agent, the MCP server exposes Kubernetes and cloud management tools.</li>
<li>The server listens for incoming MCP requests from AI assistants and executes the requested tools.</li>
<li>In our lab The server translates MCP tool calls into Kubernetes API calls or cloud service operations.</li>
<li>The server returns structured responses back to the AI assistant.</li>
<li>The server can also update context/state in a datastore for persistent information.</li>
<li>The server is implemented using the MCP SDK, which simplifies tool definition and communication handling.</li>
<li>The server supports multiple transport layers, allowing it to communicate with different types of AI assistants.</li>
</ul>
</li>
</ul>
</div>
<hr />
<h3 id="001-mcp-basics-mcp-client">MCP Client<a class="headerlink" href="#001-mcp-basics-mcp-client" title="Permanent link">&para;</a></h3>
<div class="cards grid single-column">
<ul>
<li>
<h3 id="001-mcp-basics-general-mcp-client-features">General MCP Client Features<a class="headerlink" href="#001-mcp-basics-general-mcp-client-features" title="Permanent link">&para;</a></h3>
<ul>
<li>Discovers available tools from MCP servers</li>
<li>Sends tool call requests with parameters</li>
<li>Receives and processes tool responses</li>
<li>Manages tool invocation lifecycle</li>
<li>Handles errors and retries</li>
<li>Typically embedded in remote AI assistants (Claude, ChatGPT, etc.) or local models (Ollama, etc.)</li>
</ul>
</li>
</ul>
</div>
<div class="cards grid single-column">
<ul>
<li>
<h3 id="001-mcp-basics-the-host-application">The Host Application<a class="headerlink" href="#001-mcp-basics-the-host-application" title="Permanent link">&para;</a></h3>
<ul>
<li>The <code>Client</code> is often part of a <strong>Host Application</strong> (like VS Code, Claude Desktop, or a CLI).</li>
<li>The Host manages the connection to the MCP Server.</li>
<li>It provides the user interface for interacting with the AI.</li>
<li>It handles permissions (asking the user before running a tool).</li>
</ul>
</li>
</ul>
</div>
<h3 id="001-mcp-basics-client-capabilities">Client Capabilities<a class="headerlink" href="#001-mcp-basics-client-capabilities" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Capability</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Sampling</strong></td>
<td>The server can request the client to sample an LLM (generate text).</td>
</tr>
<tr>
<td><strong>Roots</strong></td>
<td>The client can tell the server which files/folders are accessible.</td>
</tr>
<tr>
<td><strong>Notifications</strong></td>
<td>The client can receive notifications from the server (e.g. logs, progress).</td>
</tr>
<tr>
<td><strong>Context Updates</strong></td>
<td>The client can send context/state updates to the server.</td>
</tr>
<tr>
<td><strong>Authentication</strong></td>
<td>The client can provide authentication tokens/credentials to the server.</td>
</tr>
<tr>
<td><strong>Transport</strong></td>
<td>The client supports multiple transport layers (stdio, HTTP, WebSocket).</td>
</tr>
<tr>
<td><strong>Error Handling</strong></td>
<td>The client manages errors and retries for tool calls.</td>
</tr>
<tr>
<td><strong>Tool Discovery</strong></td>
<td>The client can list available tools from the server.</td>
</tr>
<tr>
<td><strong>Tool Invocation</strong></td>
<td>The client can call tools with parameters and receive structured responses.</td>
</tr>
<tr>
<td><strong>Logging</strong></td>
<td>The client can log tool interactions for auditing and debugging.</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="001-mcp-basics-transport-layer-mcp-communication">Transport Layer - MCP Communication<a class="headerlink" href="#001-mcp-basics-transport-layer-mcp-communication" title="Permanent link">&para;</a></h3>
<ul>
<li>MCP supports multiple transport mechanisms:</li>
</ul>
<table>
<thead>
<tr>
<th>Protocol</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>stdio</code></td>
<td>Standard input/output (used in K-Agent)</td>
</tr>
<tr>
<td><code>HTTP</code></td>
<td>RESTful API communication</td>
</tr>
<tr>
<td><code>WebSocket</code></td>
<td>Real-time bidirectional communication</td>
</tr>
<tr>
<td><code>gRPC</code></td>
<td>High-performance RPC framework</td>
</tr>
<tr>
<td><code>MQTT</code></td>
<td>Lightweight messaging protocol</td>
</tr>
<tr>
<td><code>Custom</code></td>
<td>Any custom transport implementation</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="001-mcp-basics-mcp-communication-flow">MCP Communication Flow<a class="headerlink" href="#001-mcp-basics-mcp-communication-flow" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>sequenceDiagram
    participant C as Client
    participant S as Server

    C-&gt;&gt;S: 1. Discover available tools
    C-&gt;&gt;S: 2. Send tool call request (parameters)
    Note over S: 3. Validate request against schema
    Note over S: 4. Execute tool logic
    S--&gt;&gt;C: 5. Return structured response
    Note over C: 6. Process response &amp; continue interaction</code></pre>
<hr />
<h2 id="001-mcp-basics-03-mcp-tool-structure">03. MCP Tool Structure<a class="headerlink" href="#001-mcp-basics-03-mcp-tool-structure" title="Permanent link">&para;</a></h2>
<ul>
<li>An MCP tool consists of:</li>
</ul>
<div class="cards grid single-column">
<ul>
<li>
<h4 id="001-mcp-basics-tool-definition">Tool Definition<a class="headerlink" href="#001-mcp-basics-tool-definition" title="Permanent link">&para;</a></h4>
<ul>
<li>Metadata about the tool (name, description)</li>
<li>Input schema defining parameters</li>
<li>Output schema defining response structure</li>
<li>Versioning information</li>
<li>Dependencies and requirements</li>
<li>Authentication requirements</li>
<li>Rate limiting information</li>
<li>Error handling strategies</li>
</ul>
</li>
</ul>
</div>
<div class="cards grid single-column">
<ul>
<li>
<h4 id="001-mcp-basics-tool-handler">Tool Handler<a class="headerlink" href="#001-mcp-basics-tool-handler" title="Permanent link">&para;</a></h4>
<ul>
<li>Function that implements the tool&rsquo;s logic</li>
<li>Receives input parameters</li>
<li>Performs the tool&rsquo;s operation</li>
<li>Returns structured output</li>
<li>Handles errors and exceptions</li>
<li>Logs execution details</li>
<li>Manages state/context if needed</li>
</ul>
</li>
</ul>
</div>
<div class="cards grid single-column">
<ul>
<li>
<h4 id="001-mcp-basics-tool-execution-flow">Tool Execution Flow<a class="headerlink" href="#001-mcp-basics-tool-execution-flow" title="Permanent link">&para;</a></h4>
<ul>
<li>Client discovers tool from server</li>
<li>Client sends tool call request with parameters</li>
<li>Server validates request against tool schema</li>
<li>Server invokes tool handler with parameters</li>
<li>Tool handler executes logic and returns response</li>
<li>Server sends structured response back to client</li>
</ul>
</li>
</ul>
</div>
<div class="cards grid single-column">
<ul>
<li>
<h3 id="001-mcp-basics-input-schema">Input Schema<a class="headerlink" href="#001-mcp-basics-input-schema" title="Permanent link">&para;</a></h3>
<ul>
<li>Defines expected parameters for the tool</li>
<li>Uses JSON Schema format</li>
<li>Specifies data types, required fields, and descriptions</li>
<li>Enables validation of incoming requests</li>
<li>Facilitates client-side form generation</li>
<li>Supports complex nested structures</li>
<li>Allows default values and constraints</li>
<li>Enhances interoperability between clients and servers</li>
</ul>
</li>
</ul>
</div>
<hr />
<h4 id="001-mcp-basics-examples">Examples:<a class="headerlink" href="#001-mcp-basics-examples" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong>Tool Definition</strong>:</p>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#001-mcp-basics-__codelineno-0-1"></a><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#001-mcp-basics-__codelineno-0-2"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#001-mcp-basics-__codelineno-0-3"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Returns a greeting message&quot;</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#001-mcp-basics-__codelineno-0-4"></a><span class="w">  </span><span class="nx">inputSchema</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#001-mcp-basics-__codelineno-0-5"></a><span class="w">    </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#001-mcp-basics-__codelineno-0-6"></a><span class="w">    </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#001-mcp-basics-__codelineno-0-7"></a><span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#001-mcp-basics-__codelineno-0-8"></a><span class="w">        </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#001-mcp-basics-__codelineno-0-9"></a><span class="w">        </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Name to greet&quot;</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#001-mcp-basics-__codelineno-0-10"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#001-mcp-basics-__codelineno-0-11"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#001-mcp-basics-__codelineno-0-12"></a><span class="w">    </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#001-mcp-basics-__codelineno-0-13"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#001-mcp-basics-__codelineno-0-14"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p><strong>Tool Handler:</strong></p>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#001-mcp-basics-__codelineno-1-1"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">handleHello</span><span class="p">(</span><span class="nx">args</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#001-mcp-basics-__codelineno-1-2"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#001-mcp-basics-__codelineno-1-3"></a><span class="w">    </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#001-mcp-basics-__codelineno-1-4"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#001-mcp-basics-__codelineno-1-5"></a><span class="w">        </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#001-mcp-basics-__codelineno-1-6"></a><span class="w">        </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Hello, </span><span class="si">${</span><span class="nx">args</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#001-mcp-basics-__codelineno-1-7"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#001-mcp-basics-__codelineno-1-8"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#001-mcp-basics-__codelineno-1-9"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#001-mcp-basics-__codelineno-1-10"></a><span class="p">}</span>
</span></code></pre></div>
</li>
</ul>
<hr />
<h2 id="001-mcp-basics-04-k-agent-mcp-server-overview">04. K-Agent MCP Server Overview<a class="headerlink" href="#001-mcp-basics-04-k-agent-mcp-server-overview" title="Permanent link">&para;</a></h2>
<ul>
<li>Let&rsquo;s examine the MCP server included in the labs environment.</li>
<li>We will use all the tools locally, but we also have the option to use Docker.</li>
<li>The Example MCP server is implemented in TypeScript using the MCP SDK.</li>
<li>
<p>It listens for MCP requests over stdio.</p>
</li>
<li>
<p>The server implements two simple tools:</p>
</li>
<li>
<p><strong>hello</strong>: Greets a user by name</p>
</li>
<li><strong>add</strong>: Adds two numbers</li>
</ul>
<hr />
<h2 id="001-mcp-basics-05-testing-mcp-tools-ts">05. Testing MCP Tools (TS)<a class="headerlink" href="#001-mcp-basics-05-testing-mcp-tools-ts" title="Permanent link">&para;</a></h2>
<h3 id="001-mcp-basics-using-mcp-inspector">Using MCP Inspector<a class="headerlink" href="#001-mcp-basics-using-mcp-inspector" title="Permanent link">&para;</a></h3>
<ul>
<li>MCP Inspector is a tool for testing MCP servers interactively.</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#001-mcp-basics-__codelineno-2-1"></a><span class="c1"># Install mcp-inspector (if not already installed)</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#001-mcp-basics-__codelineno-2-2"></a>npm<span class="w"> </span>install<span class="w"> </span>-g<span class="w"> </span>@modelcontextprotocol/inspector
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#001-mcp-basics-__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#001-mcp-basics-__codelineno-2-4"></a><span class="c1"># Start the MCP Inspector with the TS code</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#001-mcp-basics-__codelineno-2-5"></a>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>node<span class="w"> </span>./build/index.js
</span></code></pre></div>
<div class="admonition info">
<p class="admonition-title">MCP Inspector UI</p>
<ul>
<li>MCP Inspector will start a web interface at <code>http://localhost:6274</code></li>
<li>You can also test tools programmatically using the examples below.</li>
</ul>
</div>
<hr />
<p><strong>Step-by-step MCP Inspector Testing:</strong></p>
<ol>
<li>
<p>Get the Authentication Token<br />
   When you start MCP Inspector, the terminal displays:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#001-mcp-basics-__codelineno-3-1"></a>üîë Session token: [long-token-string]
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#001-mcp-basics-__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#001-mcp-basics-__codelineno-3-3"></a>üîó Open inspector with token pre-filled:
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#001-mcp-basics-__codelineno-3-4"></a>    http://localhost:6274/?MCP_PROXY_AUTH_TOKEN=[token]
</span></code></pre></div>
</li>
<li>
<p>Copy the Authentication URL<br />
   Copy the complete URL with the token (the second line starting with <code>http://</code>)</p>
</li>
<li>
<p>Open MCP Inspector in Your Browser<br />
   Paste the complete URL from step 2 into your browser. You&rsquo;ll be authenticated immediately.</p>
</li>
<li>
<p>Configure the Server Connection<br />
   In the MCP Inspector interface:</p>
<ul>
<li>Verify the <strong>&ldquo;Transport&rdquo;</strong> is set to <strong><code>stdio</code></strong> (NOT http or streamable-http)</li>
<li>You&rsquo;ll see a <strong>&ldquo;Command&rdquo;</strong> field - it should already show: <code>node</code></li>
<li>look for the <strong>&ldquo;Argument&rdquo;</strong> field - it should show: <code>/app/build/index.js</code></li>
<li>Click the <strong>&ldquo;Connect&rdquo;</strong> button</li>
<li>Wait for the status to show <strong>&ldquo;Connected&rdquo;</strong> with a green indicator</li>
</ul>
</li>
<li>
<p>Explore Available Tools:</p>
<ul>
<li>Once connected, click on the <strong>&ldquo;Tools&rdquo;</strong> tab at the top of the interface, and the on <strong>&ldquo;List Tools&rdquo;</strong> button</li>
<li>You&rsquo;ll see a list of available tools from your MCP server:<ul>
<li><code>hello</code>: Returns a friendly greeting message</li>
<li><code>add</code>: Adds two numbers together</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Test the Hello Tool </p>
<ul>
<li>Click the <code>hello</code> tool from the list</li>
<li>You&rsquo;ll see an input form for the tool&rsquo;s parameters</li>
<li>In the <strong>name</strong> field, enter: <code>K-Agent User</code></li>
<li>Click <strong>&ldquo;Run Tool&rdquo;</strong></li>
<li><strong>Expected Result</strong> - You should see:<ul>
<li><strong>Tool Result: Success</strong></li>
<li><strong>Message</strong>: <code>Hello, K-Agent User! Welcome to K-Agent Labs.</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Test the Add Tool  </p>
<ul>
<li>In the Tools tab, find and click the <code>add</code> tool</li>
<li>You&rsquo;ll see input fields for two parameters:<ul>
<li><strong>a</strong>: Enter <code>5</code></li>
<li><strong>b</strong>: Enter <code>3</code></li>
</ul>
</li>
<li>Click <strong>&ldquo;Run Tool&rdquo;</strong></li>
<li><strong>Expected Result</strong>: You should see:<ul>
<li><strong>Tool Result: Success</strong></li>
<li><strong>Message</strong>: <code>The sum of 5 and 3 is 8</code></li>
</ul>
</li>
</ul>
</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Authentication Required</p>
<ul>
<li>The MCP Inspector requires authentication by default. </li>
<li>Always use the URL with the token (shown in the terminal when you start the inspector), or manually enter the token in the Configuration settings. </li>
<li>If you forget the token, restart the MCP Inspector to generate a new one.</li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">Disabling Authentication (Development Only)</p>
<p>Y* ou can disable authentication by setting the <code>DANGEROUSLY_OMIT_AUTH=true</code> environment variable:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#001-mcp-basics-__codelineno-4-1"></a><span class="nv">DANGEROUSLY_OMIT_AUTH</span><span class="o">=</span><span class="nb">true</span><span class="w"> </span>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>node<span class="w"> </span>/app/build/index.js
</span></code></pre></div>
<strong>‚ö†Ô∏è WARNING</strong>: This is dangerous and should ONLY be used in isolated development environments, never in production or when exposed to the internet.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Keep MCP Inspector Running</p>
<ul>
<li>Make sure the MCP Inspector command (<code>npx @modelcontextprotocol/inspector node /app/build/index.js</code>) is still running in your terminal. </li>
<li>If the connection fails or you see errors, restart the command in the container.</li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">Interactive Testing</p>
<ul>
<li>The MCP Inspector provides a user-friendly web interface to test your MCP server without writing code. </li>
<li>This is perfect for debugging and understanding how MCP tools work before integrating them with AI assistants.</li>
</ul>
</div>
<div class="admonition explore">
<p class="admonition-title">Understanding MCP Inspector Output</p>
<ul>
<li>The Inspector displays tool results in a readable format. </li>
<li>Internally, MCP uses JSON-RPC 2.0 protocol with structured responses, but the UI shows you the human-readable content. </li>
<li>For JSON view, see the &ldquo;History&rdquo; section below the UI</li>
</ul>
</div>
<hr />
<h3 id="001-mcp-basics-testing-tools-via-command-line">Testing Tools via Command Line<a class="headerlink" href="#001-mcp-basics-testing-tools-via-command-line" title="Permanent link">&para;</a></h3>
<p>Let&rsquo;s test the MCP tools using a simple Node.js script.</p>
<div class="admonition info">
<p class="admonition-title">Running Multiple Sessions</p>
<p>You can run this command-line test <strong>while keeping the MCP Inspector running</strong>. The script creates its own MCP server process, so it won&rsquo;t interfere with the Inspector.</p>
</div>
<p><strong>Create test script:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#001-mcp-basics-__codelineno-5-1"></a><span class="c1"># Open a new terminal and connect to the container</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#001-mcp-basics-__codelineno-5-2"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>kagent-controller<span class="w"> </span>bash
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#001-mcp-basics-__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#001-mcp-basics-__codelineno-5-4"></a><span class="c1"># Inside the container, create and run the test script</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#001-mcp-basics-__codelineno-5-5"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>/labs-scripts/test-index.js<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#001-mcp-basics-__codelineno-5-6"></a><span class="s">const { spawn } = require(&#39;child_process&#39;);</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#001-mcp-basics-__codelineno-5-7"></a>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#001-mcp-basics-__codelineno-5-8"></a><span class="s">// Start MCP server process</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#001-mcp-basics-__codelineno-5-9"></a><span class="s">const mcpServer = spawn(&#39;node&#39;, [&#39;/app/build/index.js&#39;]);</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#001-mcp-basics-__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#001-mcp-basics-__codelineno-5-11"></a><span class="s">let responseData = &#39;&#39;;</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#001-mcp-basics-__codelineno-5-12"></a>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#001-mcp-basics-__codelineno-5-13"></a><span class="s">// Send ListTools request</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#001-mcp-basics-__codelineno-5-14"></a><span class="s">const listToolsRequest = {</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#001-mcp-basics-__codelineno-5-15"></a><span class="s">  jsonrpc: &quot;2.0&quot;,</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#001-mcp-basics-__codelineno-5-16"></a><span class="s">  id: 1,</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#001-mcp-basics-__codelineno-5-17"></a><span class="s">  method: &quot;tools/list&quot;,</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#001-mcp-basics-__codelineno-5-18"></a><span class="s">  params: {}</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#001-mcp-basics-__codelineno-5-19"></a><span class="s">};</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#001-mcp-basics-__codelineno-5-20"></a>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#001-mcp-basics-__codelineno-5-21"></a><span class="s">// Send request to server</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#001-mcp-basics-__codelineno-5-22"></a><span class="s">mcpServer.stdin.write(JSON.stringify(listToolsRequest) + &#39;\n&#39;);</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#001-mcp-basics-__codelineno-5-23"></a>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#001-mcp-basics-__codelineno-5-24"></a><span class="s">// Collect response</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#001-mcp-basics-__codelineno-5-25"></a><span class="s">mcpServer.stdout.on(&#39;data&#39;, (data) =&gt; {</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#001-mcp-basics-__codelineno-5-26"></a><span class="s">  responseData += data.toString();</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#001-mcp-basics-__codelineno-5-27"></a><span class="s">  console.log(&#39;Server response:&#39;, data.toString());</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#001-mcp-basics-__codelineno-5-28"></a><span class="s">});</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#001-mcp-basics-__codelineno-5-29"></a>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#001-mcp-basics-__codelineno-5-30"></a><span class="s">// Wait and send tool call</span>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#001-mcp-basics-__codelineno-5-31"></a><span class="s">setTimeout(() =&gt; {</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#001-mcp-basics-__codelineno-5-32"></a><span class="s">  const toolCallRequest = {</span>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#001-mcp-basics-__codelineno-5-33"></a><span class="s">    jsonrpc: &quot;2.0&quot;,</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#001-mcp-basics-__codelineno-5-34"></a><span class="s">    id: 2,</span>
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#001-mcp-basics-__codelineno-5-35"></a><span class="s">    method: &quot;tools/call&quot;,</span>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#001-mcp-basics-__codelineno-5-36"></a><span class="s">    params: {</span>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#001-mcp-basics-__codelineno-5-37"></a><span class="s">      name: &quot;hello&quot;,</span>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#001-mcp-basics-__codelineno-5-38"></a><span class="s">      arguments: {</span>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#001-mcp-basics-__codelineno-5-39"></a><span class="s">        name: &quot;K-Agent User&quot;</span>
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#001-mcp-basics-__codelineno-5-40"></a><span class="s">      }</span>
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#001-mcp-basics-__codelineno-5-41"></a><span class="s">    }</span>
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#001-mcp-basics-__codelineno-5-42"></a><span class="s">  };</span>
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#001-mcp-basics-__codelineno-5-43"></a>
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#001-mcp-basics-__codelineno-5-44"></a><span class="s">  mcpServer.stdin.write(JSON.stringify(toolCallRequest) + &#39;\n&#39;);</span>
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#001-mcp-basics-__codelineno-5-45"></a><span class="s">}, 1000);</span>
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46" href="#001-mcp-basics-__codelineno-5-46"></a>
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47" href="#001-mcp-basics-__codelineno-5-47"></a><span class="s">// Cleanup after 3 seconds</span>
</span><span id="__span-5-48"><a id="__codelineno-5-48" name="__codelineno-5-48" href="#001-mcp-basics-__codelineno-5-48"></a><span class="s">setTimeout(() =&gt; {</span>
</span><span id="__span-5-49"><a id="__codelineno-5-49" name="__codelineno-5-49" href="#001-mcp-basics-__codelineno-5-49"></a><span class="s">  mcpServer.kill();</span>
</span><span id="__span-5-50"><a id="__codelineno-5-50" name="__codelineno-5-50" href="#001-mcp-basics-__codelineno-5-50"></a><span class="s">  process.exit(0);</span>
</span><span id="__span-5-51"><a id="__codelineno-5-51" name="__codelineno-5-51" href="#001-mcp-basics-__codelineno-5-51"></a><span class="s">}, 3000);</span>
</span><span id="__span-5-52"><a id="__codelineno-5-52" name="__codelineno-5-52" href="#001-mcp-basics-__codelineno-5-52"></a><span class="s">EOF</span>
</span><span id="__span-5-53"><a id="__codelineno-5-53" name="__codelineno-5-53" href="#001-mcp-basics-__codelineno-5-53"></a>
</span><span id="__span-5-54"><a id="__codelineno-5-54" name="__codelineno-5-54" href="#001-mcp-basics-__codelineno-5-54"></a><span class="c1"># Run the test</span>
</span><span id="__span-5-55"><a id="__codelineno-5-55" name="__codelineno-5-55" href="#001-mcp-basics-__codelineno-5-55"></a>node<span class="w"> </span>/labs-scripts/test-index.js
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Expected Output</p>
<p>When you run this script, you should see JSON-RPC responses from the MCP server, showing the raw protocol communication that happens behind the scenes in MCP Inspector.</p>
</div>
<hr />
<h2 id="001-mcp-basics-06-understanding-json-rpc-protocol">06. Understanding JSON-RPC Protocol<a class="headerlink" href="#001-mcp-basics-06-understanding-json-rpc-protocol" title="Permanent link">&para;</a></h2>
<ul>
<li>MCP uses JSON-RPC 2.0 for communication. </li>
<li>Every request/response follows this structure:</li>
</ul>
<h3 id="001-mcp-basics-request-format">Request Format<a class="headerlink" href="#001-mcp-basics-request-format" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#001-mcp-basics-__codelineno-6-1"></a><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#001-mcp-basics-__codelineno-6-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#001-mcp-basics-__codelineno-6-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#001-mcp-basics-__codelineno-6-4"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tools/call&quot;</span><span class="p">,</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#001-mcp-basics-__codelineno-6-5"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#001-mcp-basics-__codelineno-6-6"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="p">,</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#001-mcp-basics-__codelineno-6-7"></a><span class="w">    </span><span class="nt">&quot;arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#001-mcp-basics-__codelineno-6-8"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#001-mcp-basics-__codelineno-6-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#001-mcp-basics-__codelineno-6-10"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#001-mcp-basics-__codelineno-6-11"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="001-mcp-basics-response-format">Response Format<a class="headerlink" href="#001-mcp-basics-response-format" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#001-mcp-basics-__codelineno-7-1"></a><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#001-mcp-basics-__codelineno-7-2"></a><span class="w">  </span><span class="nt">&quot;jsonrpc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#001-mcp-basics-__codelineno-7-3"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#001-mcp-basics-__codelineno-7-4"></a><span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#001-mcp-basics-__codelineno-7-5"></a><span class="w">    </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#001-mcp-basics-__codelineno-7-6"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#001-mcp-basics-__codelineno-7-7"></a><span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#001-mcp-basics-__codelineno-7-8"></a><span class="w">        </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hello, Alice!&quot;</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#001-mcp-basics-__codelineno-7-9"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#001-mcp-basics-__codelineno-7-10"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#001-mcp-basics-__codelineno-7-11"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#001-mcp-basics-__codelineno-7-12"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h2 id="001-mcp-basics-07-hands-on-exercise">07. Hands-on Exercise<a class="headerlink" href="#001-mcp-basics-07-hands-on-exercise" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">Hands-on JSON-RPC Testing</p>
<ul>
<li>These exercises provide direct interaction with the MCP server using JSON-RPC protocol over stdio. </li>
<li>This gives you a deeper understanding of how MCP communication works at the protocol level.</li>
</ul>
</div>
<h3 id="001-mcp-basics-exercise-1-list-available-tools">Exercise 1: List Available Tools<a class="headerlink" href="#001-mcp-basics-exercise-1-list-available-tools" title="Permanent link">&para;</a></h3>
<p>Test listing tools from the MCP server using direct JSON-RPC communication:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#001-mcp-basics-__codelineno-8-1"></a><span class="c1"># Connect to container</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#001-mcp-basics-__codelineno-8-2"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>kagent-controller<span class="w"> </span>bash
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#001-mcp-basics-__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#001-mcp-basics-__codelineno-8-4"></a><span class="c1"># Inside the container, create a test script</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#001-mcp-basics-__codelineno-8-5"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>/labs-scripts/test-list-tools.js<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#001-mcp-basics-__codelineno-8-6"></a><span class="s">const { spawn } = require(&quot;child_process&quot;);</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#001-mcp-basics-__codelineno-8-7"></a>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#001-mcp-basics-__codelineno-8-8"></a><span class="s">console.log(&quot;Starting MCP server test...&quot;);</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#001-mcp-basics-__codelineno-8-9"></a>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#001-mcp-basics-__codelineno-8-10"></a><span class="s">try {</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#001-mcp-basics-__codelineno-8-11"></a><span class="s">  // Start MCP server</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#001-mcp-basics-__codelineno-8-12"></a><span class="s">  const server = spawn(&quot;node&quot;, [&quot;/app/build/index.js&quot;], {</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#001-mcp-basics-__codelineno-8-13"></a><span class="s">    stdio: [&quot;pipe&quot;, &quot;pipe&quot;, &quot;pipe&quot;]</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#001-mcp-basics-__codelineno-8-14"></a><span class="s">  });</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#001-mcp-basics-__codelineno-8-15"></a>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#001-mcp-basics-__codelineno-8-16"></a><span class="s">  console.log(&quot;Server spawned, PID:&quot;, server.pid);</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#001-mcp-basics-__codelineno-8-17"></a>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#001-mcp-basics-__codelineno-8-18"></a><span class="s">  server.stdout.on(&quot;data&quot;, (data) =&gt; {</span>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#001-mcp-basics-__codelineno-8-19"></a><span class="s">    console.log(&quot;RESPONSE:&quot;, data.toString().trim());</span>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#001-mcp-basics-__codelineno-8-20"></a><span class="s">  });</span>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#001-mcp-basics-__codelineno-8-21"></a>
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#001-mcp-basics-__codelineno-8-22"></a><span class="s">  server.stderr.on(&quot;data&quot;, (data) =&gt; {</span>
</span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23" href="#001-mcp-basics-__codelineno-8-23"></a><span class="s">    console.log(&quot;SERVER:&quot;, data.toString().trim());</span>
</span><span id="__span-8-24"><a id="__codelineno-8-24" name="__codelineno-8-24" href="#001-mcp-basics-__codelineno-8-24"></a><span class="s">  });</span>
</span><span id="__span-8-25"><a id="__codelineno-8-25" name="__codelineno-8-25" href="#001-mcp-basics-__codelineno-8-25"></a>
</span><span id="__span-8-26"><a id="__codelineno-8-26" name="__codelineno-8-26" href="#001-mcp-basics-__codelineno-8-26"></a><span class="s">  // Send tools/list request</span>
</span><span id="__span-8-27"><a id="__codelineno-8-27" name="__codelineno-8-27" href="#001-mcp-basics-__codelineno-8-27"></a><span class="s">  const listRequest = {</span>
</span><span id="__span-8-28"><a id="__codelineno-8-28" name="__codelineno-8-28" href="#001-mcp-basics-__codelineno-8-28"></a><span class="s">    jsonrpc: &quot;2.0&quot;,</span>
</span><span id="__span-8-29"><a id="__codelineno-8-29" name="__codelineno-8-29" href="#001-mcp-basics-__codelineno-8-29"></a><span class="s">    id: 1,</span>
</span><span id="__span-8-30"><a id="__codelineno-8-30" name="__codelineno-8-30" href="#001-mcp-basics-__codelineno-8-30"></a><span class="s">    method: &quot;tools/list&quot;,</span>
</span><span id="__span-8-31"><a id="__codelineno-8-31" name="__codelineno-8-31" href="#001-mcp-basics-__codelineno-8-31"></a><span class="s">    params: {}</span>
</span><span id="__span-8-32"><a id="__codelineno-8-32" name="__codelineno-8-32" href="#001-mcp-basics-__codelineno-8-32"></a><span class="s">  };</span>
</span><span id="__span-8-33"><a id="__codelineno-8-33" name="__codelineno-8-33" href="#001-mcp-basics-__codelineno-8-33"></a>
</span><span id="__span-8-34"><a id="__codelineno-8-34" name="__codelineno-8-34" href="#001-mcp-basics-__codelineno-8-34"></a><span class="s">  setTimeout(() =&gt; {</span>
</span><span id="__span-8-35"><a id="__codelineno-8-35" name="__codelineno-8-35" href="#001-mcp-basics-__codelineno-8-35"></a><span class="s">    console.log(&quot;Sending:&quot;, JSON.stringify(listRequest));</span>
</span><span id="__span-8-36"><a id="__codelineno-8-36" name="__codelineno-8-36" href="#001-mcp-basics-__codelineno-8-36"></a><span class="s">    server.stdin.write(JSON.stringify(listRequest) + &quot;\n&quot;);</span>
</span><span id="__span-8-37"><a id="__codelineno-8-37" name="__codelineno-8-37" href="#001-mcp-basics-__codelineno-8-37"></a><span class="s">  }, 1000);</span>
</span><span id="__span-8-38"><a id="__codelineno-8-38" name="__codelineno-8-38" href="#001-mcp-basics-__codelineno-8-38"></a>
</span><span id="__span-8-39"><a id="__codelineno-8-39" name="__codelineno-8-39" href="#001-mcp-basics-__codelineno-8-39"></a><span class="s">  // Exit after 5 seconds</span>
</span><span id="__span-8-40"><a id="__codelineno-8-40" name="__codelineno-8-40" href="#001-mcp-basics-__codelineno-8-40"></a><span class="s">  setTimeout(() =&gt; {</span>
</span><span id="__span-8-41"><a id="__codelineno-8-41" name="__codelineno-8-41" href="#001-mcp-basics-__codelineno-8-41"></a><span class="s">    server.kill();</span>
</span><span id="__span-8-42"><a id="__codelineno-8-42" name="__codelineno-8-42" href="#001-mcp-basics-__codelineno-8-42"></a><span class="s">    process.exit(0);</span>
</span><span id="__span-8-43"><a id="__codelineno-8-43" name="__codelineno-8-43" href="#001-mcp-basics-__codelineno-8-43"></a><span class="s">  }, 5000);</span>
</span><span id="__span-8-44"><a id="__codelineno-8-44" name="__codelineno-8-44" href="#001-mcp-basics-__codelineno-8-44"></a>
</span><span id="__span-8-45"><a id="__codelineno-8-45" name="__codelineno-8-45" href="#001-mcp-basics-__codelineno-8-45"></a><span class="s">} catch (error) {</span>
</span><span id="__span-8-46"><a id="__codelineno-8-46" name="__codelineno-8-46" href="#001-mcp-basics-__codelineno-8-46"></a><span class="s">  console.error(&quot;Error:&quot;, error.message);</span>
</span><span id="__span-8-47"><a id="__codelineno-8-47" name="__codelineno-8-47" href="#001-mcp-basics-__codelineno-8-47"></a><span class="s">}</span>
</span><span id="__span-8-48"><a id="__codelineno-8-48" name="__codelineno-8-48" href="#001-mcp-basics-__codelineno-8-48"></a><span class="s">EOF</span>
</span><span id="__span-8-49"><a id="__codelineno-8-49" name="__codelineno-8-49" href="#001-mcp-basics-__codelineno-8-49"></a>
</span><span id="__span-8-50"><a id="__codelineno-8-50" name="__codelineno-8-50" href="#001-mcp-basics-__codelineno-8-50"></a><span class="c1"># Run the test</span>
</span><span id="__span-8-51"><a id="__codelineno-8-51" name="__codelineno-8-51" href="#001-mcp-basics-__codelineno-8-51"></a>node<span class="w"> </span>/labs-scripts/test-list-tools.js
</span></code></pre></div>
<p><strong>Expected Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#001-mcp-basics-__codelineno-9-1"></a>Starting MCP server test...
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#001-mcp-basics-__codelineno-9-2"></a>Server spawned, PID: 18211
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#001-mcp-basics-__codelineno-9-3"></a>SERVER: K-Agent MCP Server running on stdio
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#001-mcp-basics-__codelineno-9-4"></a>Sending: {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:1,&quot;method&quot;:&quot;tools/list&quot;,&quot;params&quot;:{}}
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#001-mcp-basics-__codelineno-9-5"></a>RESPONSE: {&quot;result&quot;:{&quot;tools&quot;:[{&quot;name&quot;:&quot;hello&quot;,&quot;description&quot;:&quot;Returns a friendly greeting message&quot;,&quot;inputSchema&quot;:{&quot;type&quot;:&quot;object&quot;,&quot;properties&quot;:{&quot;name&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;description&quot;:&quot;Name to greet&quot;}},&quot;required&quot;:[&quot;name&quot;]}},{&quot;name&quot;:&quot;add&quot;,&quot;description&quot;:&quot;Adds two numbers together&quot;,&quot;inputSchema&quot;:{&quot;type&quot;:&quot;object&quot;,&quot;properties&quot;:{&quot;a&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;description&quot;:&quot;First number&quot;},&quot;b&quot;:{&quot;type&quot;:&quot;number&quot;,&quot;description&quot;:&quot;Second number&quot;}},&quot;required&quot;:[&quot;a&quot;,&quot;b&quot;]}}]},&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:1}
</span></code></pre></div></p>
<h3 id="001-mcp-basics-exercise-2-call-the-hello-tool">Exercise 2: Call the Hello Tool<a class="headerlink" href="#001-mcp-basics-exercise-2-call-the-hello-tool" title="Permanent link">&para;</a></h3>
<ul>
<li>Test calling the hello tool using direct JSON-RPC communication:</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#001-mcp-basics-__codelineno-10-1"></a><span class="c1"># Connect to container</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#001-mcp-basics-__codelineno-10-2"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>kagent-controller<span class="w"> </span>bash
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#001-mcp-basics-__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#001-mcp-basics-__codelineno-10-4"></a><span class="c1"># Inside the container, create a test script</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#001-mcp-basics-__codelineno-10-5"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>/labs-scripts/test-hello-tool.js<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#001-mcp-basics-__codelineno-10-6"></a><span class="s">const { spawn } = require(&quot;child_process&quot;);</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#001-mcp-basics-__codelineno-10-7"></a>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#001-mcp-basics-__codelineno-10-8"></a><span class="s">console.log(&quot;Testing hello tool...&quot;);</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#001-mcp-basics-__codelineno-10-9"></a>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#001-mcp-basics-__codelineno-10-10"></a><span class="s">try {</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#001-mcp-basics-__codelineno-10-11"></a><span class="s">  const server = spawn(&quot;node&quot;, [&quot;/app/build/index.js&quot;], {</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#001-mcp-basics-__codelineno-10-12"></a><span class="s">    stdio: [&quot;pipe&quot;, &quot;pipe&quot;, &quot;pipe&quot;]</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#001-mcp-basics-__codelineno-10-13"></a><span class="s">  });</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#001-mcp-basics-__codelineno-10-14"></a>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#001-mcp-basics-__codelineno-10-15"></a><span class="s">  console.log(&quot;Server spawned, PID:&quot;, server.pid);</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#001-mcp-basics-__codelineno-10-16"></a>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#001-mcp-basics-__codelineno-10-17"></a><span class="s">  server.stdout.on(&quot;data&quot;, (data) =&gt; {</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#001-mcp-basics-__codelineno-10-18"></a><span class="s">    console.log(&quot;RESPONSE:&quot;, data.toString().trim());</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#001-mcp-basics-__codelineno-10-19"></a><span class="s">  });</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#001-mcp-basics-__codelineno-10-20"></a>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#001-mcp-basics-__codelineno-10-21"></a><span class="s">  server.stderr.on(&quot;data&quot;, (data) =&gt; {</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#001-mcp-basics-__codelineno-10-22"></a><span class="s">    console.log(&quot;SERVER:&quot;, data.toString().trim());</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#001-mcp-basics-__codelineno-10-23"></a><span class="s">  });</span>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#001-mcp-basics-__codelineno-10-24"></a>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#001-mcp-basics-__codelineno-10-25"></a><span class="s">  const helloRequest = {</span>
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26" href="#001-mcp-basics-__codelineno-10-26"></a><span class="s">    jsonrpc: &quot;2.0&quot;,</span>
</span><span id="__span-10-27"><a id="__codelineno-10-27" name="__codelineno-10-27" href="#001-mcp-basics-__codelineno-10-27"></a><span class="s">    id: 2,</span>
</span><span id="__span-10-28"><a id="__codelineno-10-28" name="__codelineno-10-28" href="#001-mcp-basics-__codelineno-10-28"></a><span class="s">    method: &quot;tools/call&quot;,</span>
</span><span id="__span-10-29"><a id="__codelineno-10-29" name="__codelineno-10-29" href="#001-mcp-basics-__codelineno-10-29"></a><span class="s">    params: {</span>
</span><span id="__span-10-30"><a id="__codelineno-10-30" name="__codelineno-10-30" href="#001-mcp-basics-__codelineno-10-30"></a><span class="s">      name: &quot;hello&quot;,</span>
</span><span id="__span-10-31"><a id="__codelineno-10-31" name="__codelineno-10-31" href="#001-mcp-basics-__codelineno-10-31"></a><span class="s">      arguments: {</span>
</span><span id="__span-10-32"><a id="__codelineno-10-32" name="__codelineno-10-32" href="#001-mcp-basics-__codelineno-10-32"></a><span class="s">        name: &quot;K-Agent Lab User&quot;</span>
</span><span id="__span-10-33"><a id="__codelineno-10-33" name="__codelineno-10-33" href="#001-mcp-basics-__codelineno-10-33"></a><span class="s">      }</span>
</span><span id="__span-10-34"><a id="__codelineno-10-34" name="__codelineno-10-34" href="#001-mcp-basics-__codelineno-10-34"></a><span class="s">    }</span>
</span><span id="__span-10-35"><a id="__codelineno-10-35" name="__codelineno-10-35" href="#001-mcp-basics-__codelineno-10-35"></a><span class="s">  };</span>
</span><span id="__span-10-36"><a id="__codelineno-10-36" name="__codelineno-10-36" href="#001-mcp-basics-__codelineno-10-36"></a>
</span><span id="__span-10-37"><a id="__codelineno-10-37" name="__codelineno-10-37" href="#001-mcp-basics-__codelineno-10-37"></a><span class="s">  setTimeout(() =&gt; {</span>
</span><span id="__span-10-38"><a id="__codelineno-10-38" name="__codelineno-10-38" href="#001-mcp-basics-__codelineno-10-38"></a><span class="s">    console.log(&quot;Sending:&quot;, JSON.stringify(helloRequest));</span>
</span><span id="__span-10-39"><a id="__codelineno-10-39" name="__codelineno-10-39" href="#001-mcp-basics-__codelineno-10-39"></a><span class="s">    server.stdin.write(JSON.stringify(helloRequest) + &quot;\n&quot;);</span>
</span><span id="__span-10-40"><a id="__codelineno-10-40" name="__codelineno-10-40" href="#001-mcp-basics-__codelineno-10-40"></a><span class="s">  }, 1000);</span>
</span><span id="__span-10-41"><a id="__codelineno-10-41" name="__codelineno-10-41" href="#001-mcp-basics-__codelineno-10-41"></a>
</span><span id="__span-10-42"><a id="__codelineno-10-42" name="__codelineno-10-42" href="#001-mcp-basics-__codelineno-10-42"></a><span class="s">  setTimeout(() =&gt; {</span>
</span><span id="__span-10-43"><a id="__codelineno-10-43" name="__codelineno-10-43" href="#001-mcp-basics-__codelineno-10-43"></a><span class="s">    server.kill();</span>
</span><span id="__span-10-44"><a id="__codelineno-10-44" name="__codelineno-10-44" href="#001-mcp-basics-__codelineno-10-44"></a><span class="s">    process.exit(0);</span>
</span><span id="__span-10-45"><a id="__codelineno-10-45" name="__codelineno-10-45" href="#001-mcp-basics-__codelineno-10-45"></a><span class="s">  }, 5000);</span>
</span><span id="__span-10-46"><a id="__codelineno-10-46" name="__codelineno-10-46" href="#001-mcp-basics-__codelineno-10-46"></a>
</span><span id="__span-10-47"><a id="__codelineno-10-47" name="__codelineno-10-47" href="#001-mcp-basics-__codelineno-10-47"></a><span class="s">} catch (error) {</span>
</span><span id="__span-10-48"><a id="__codelineno-10-48" name="__codelineno-10-48" href="#001-mcp-basics-__codelineno-10-48"></a><span class="s">  console.error(&quot;Error:&quot;, error.message);</span>
</span><span id="__span-10-49"><a id="__codelineno-10-49" name="__codelineno-10-49" href="#001-mcp-basics-__codelineno-10-49"></a><span class="s">}</span>
</span><span id="__span-10-50"><a id="__codelineno-10-50" name="__codelineno-10-50" href="#001-mcp-basics-__codelineno-10-50"></a><span class="s">EOF</span>
</span><span id="__span-10-51"><a id="__codelineno-10-51" name="__codelineno-10-51" href="#001-mcp-basics-__codelineno-10-51"></a>
</span><span id="__span-10-52"><a id="__codelineno-10-52" name="__codelineno-10-52" href="#001-mcp-basics-__codelineno-10-52"></a><span class="c1"># Run the test</span>
</span><span id="__span-10-53"><a id="__codelineno-10-53" name="__codelineno-10-53" href="#001-mcp-basics-__codelineno-10-53"></a>node<span class="w"> </span>/labs-scripts/test-hello-tool.js
</span></code></pre></div>
<p><strong>Expected Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#001-mcp-basics-__codelineno-11-1"></a>Testing hello tool...
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#001-mcp-basics-__codelineno-11-2"></a>Server spawned, PID: 18237
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#001-mcp-basics-__codelineno-11-3"></a>SERVER: K-Agent MCP Server running on stdio
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#001-mcp-basics-__codelineno-11-4"></a>Sending: {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:2,&quot;method&quot;:&quot;tools/call&quot;,&quot;params&quot;:{&quot;name&quot;:&quot;hello&quot;,&quot;arguments&quot;:{&quot;name&quot;:&quot;K-Agent Lab User&quot;}}}
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#001-mcp-basics-__codelineno-11-5"></a>RESPONSE: {&quot;result&quot;:{&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;Hello, K-Agent Lab User! Welcome to K-Agent Labs.&quot;}]},&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:2}
</span></code></pre></div></p>
<h3 id="001-mcp-basics-exercise-3-call-the-add-tool">Exercise 3: Call the Add Tool<a class="headerlink" href="#001-mcp-basics-exercise-3-call-the-add-tool" title="Permanent link">&para;</a></h3>
<p>Test calling the add tool using direct JSON-RPC communication:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#001-mcp-basics-__codelineno-12-1"></a><span class="c1"># Connect to container</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#001-mcp-basics-__codelineno-12-2"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>kagent-controller<span class="w"> </span>bash
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#001-mcp-basics-__codelineno-12-3"></a>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#001-mcp-basics-__codelineno-12-4"></a><span class="c1"># Inside the container, create a test script</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#001-mcp-basics-__codelineno-12-5"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>/labs-scripts/test-add-tool.js<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#001-mcp-basics-__codelineno-12-6"></a><span class="s">const { spawn } = require(&quot;child_process&quot;);</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#001-mcp-basics-__codelineno-12-7"></a>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#001-mcp-basics-__codelineno-12-8"></a><span class="s">console.log(&quot;Testing add tool...&quot;);</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#001-mcp-basics-__codelineno-12-9"></a>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#001-mcp-basics-__codelineno-12-10"></a><span class="s">try {</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#001-mcp-basics-__codelineno-12-11"></a><span class="s">  const server = spawn(&quot;node&quot;, [&quot;/app/build/index.js&quot;], {</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#001-mcp-basics-__codelineno-12-12"></a><span class="s">    stdio: [&quot;pipe&quot;, &quot;pipe&quot;, &quot;pipe&quot;]</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#001-mcp-basics-__codelineno-12-13"></a><span class="s">  });</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#001-mcp-basics-__codelineno-12-14"></a>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#001-mcp-basics-__codelineno-12-15"></a><span class="s">  console.log(&quot;Server spawned, PID:&quot;, server.pid);</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#001-mcp-basics-__codelineno-12-16"></a>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#001-mcp-basics-__codelineno-12-17"></a><span class="s">  server.stdout.on(&quot;data&quot;, (data) =&gt; {</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#001-mcp-basics-__codelineno-12-18"></a><span class="s">    console.log(&quot;RESPONSE:&quot;, data.toString().trim());</span>
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#001-mcp-basics-__codelineno-12-19"></a><span class="s">  });</span>
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#001-mcp-basics-__codelineno-12-20"></a>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#001-mcp-basics-__codelineno-12-21"></a><span class="s">  server.stderr.on(&quot;data&quot;, (data) =&gt; {</span>
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#001-mcp-basics-__codelineno-12-22"></a><span class="s">    console.log(&quot;SERVER:&quot;, data.toString().trim());</span>
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#001-mcp-basics-__codelineno-12-23"></a><span class="s">  });</span>
</span><span id="__span-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24" href="#001-mcp-basics-__codelineno-12-24"></a>
</span><span id="__span-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25" href="#001-mcp-basics-__codelineno-12-25"></a><span class="s">  const addRequest = {</span>
</span><span id="__span-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26" href="#001-mcp-basics-__codelineno-12-26"></a><span class="s">    jsonrpc: &quot;2.0&quot;,</span>
</span><span id="__span-12-27"><a id="__codelineno-12-27" name="__codelineno-12-27" href="#001-mcp-basics-__codelineno-12-27"></a><span class="s">    id: 3,</span>
</span><span id="__span-12-28"><a id="__codelineno-12-28" name="__codelineno-12-28" href="#001-mcp-basics-__codelineno-12-28"></a><span class="s">    method: &quot;tools/call&quot;,</span>
</span><span id="__span-12-29"><a id="__codelineno-12-29" name="__codelineno-12-29" href="#001-mcp-basics-__codelineno-12-29"></a><span class="s">    params: {</span>
</span><span id="__span-12-30"><a id="__codelineno-12-30" name="__codelineno-12-30" href="#001-mcp-basics-__codelineno-12-30"></a><span class="s">      name: &quot;add&quot;,</span>
</span><span id="__span-12-31"><a id="__codelineno-12-31" name="__codelineno-12-31" href="#001-mcp-basics-__codelineno-12-31"></a><span class="s">      arguments: {</span>
</span><span id="__span-12-32"><a id="__codelineno-12-32" name="__codelineno-12-32" href="#001-mcp-basics-__codelineno-12-32"></a><span class="s">        a: 5,</span>
</span><span id="__span-12-33"><a id="__codelineno-12-33" name="__codelineno-12-33" href="#001-mcp-basics-__codelineno-12-33"></a><span class="s">        b: 3</span>
</span><span id="__span-12-34"><a id="__codelineno-12-34" name="__codelineno-12-34" href="#001-mcp-basics-__codelineno-12-34"></a><span class="s">      }</span>
</span><span id="__span-12-35"><a id="__codelineno-12-35" name="__codelineno-12-35" href="#001-mcp-basics-__codelineno-12-35"></a><span class="s">    }</span>
</span><span id="__span-12-36"><a id="__codelineno-12-36" name="__codelineno-12-36" href="#001-mcp-basics-__codelineno-12-36"></a><span class="s">  };</span>
</span><span id="__span-12-37"><a id="__codelineno-12-37" name="__codelineno-12-37" href="#001-mcp-basics-__codelineno-12-37"></a>
</span><span id="__span-12-38"><a id="__codelineno-12-38" name="__codelineno-12-38" href="#001-mcp-basics-__codelineno-12-38"></a><span class="s">  setTimeout(() =&gt; {</span>
</span><span id="__span-12-39"><a id="__codelineno-12-39" name="__codelineno-12-39" href="#001-mcp-basics-__codelineno-12-39"></a><span class="s">    console.log(&quot;Sending:&quot;, JSON.stringify(addRequest));</span>
</span><span id="__span-12-40"><a id="__codelineno-12-40" name="__codelineno-12-40" href="#001-mcp-basics-__codelineno-12-40"></a><span class="s">    server.stdin.write(JSON.stringify(addRequest) + &quot;\n&quot;);</span>
</span><span id="__span-12-41"><a id="__codelineno-12-41" name="__codelineno-12-41" href="#001-mcp-basics-__codelineno-12-41"></a><span class="s">  }, 1000);</span>
</span><span id="__span-12-42"><a id="__codelineno-12-42" name="__codelineno-12-42" href="#001-mcp-basics-__codelineno-12-42"></a>
</span><span id="__span-12-43"><a id="__codelineno-12-43" name="__codelineno-12-43" href="#001-mcp-basics-__codelineno-12-43"></a><span class="s">  setTimeout(() =&gt; {</span>
</span><span id="__span-12-44"><a id="__codelineno-12-44" name="__codelineno-12-44" href="#001-mcp-basics-__codelineno-12-44"></a><span class="s">    server.kill();</span>
</span><span id="__span-12-45"><a id="__codelineno-12-45" name="__codelineno-12-45" href="#001-mcp-basics-__codelineno-12-45"></a><span class="s">    process.exit(0);</span>
</span><span id="__span-12-46"><a id="__codelineno-12-46" name="__codelineno-12-46" href="#001-mcp-basics-__codelineno-12-46"></a><span class="s">  }, 5000);</span>
</span><span id="__span-12-47"><a id="__codelineno-12-47" name="__codelineno-12-47" href="#001-mcp-basics-__codelineno-12-47"></a>
</span><span id="__span-12-48"><a id="__codelineno-12-48" name="__codelineno-12-48" href="#001-mcp-basics-__codelineno-12-48"></a><span class="s">} catch (error) {</span>
</span><span id="__span-12-49"><a id="__codelineno-12-49" name="__codelineno-12-49" href="#001-mcp-basics-__codelineno-12-49"></a><span class="s">  console.error(&quot;Error:&quot;, error.message);</span>
</span><span id="__span-12-50"><a id="__codelineno-12-50" name="__codelineno-12-50" href="#001-mcp-basics-__codelineno-12-50"></a><span class="s">}</span>
</span><span id="__span-12-51"><a id="__codelineno-12-51" name="__codelineno-12-51" href="#001-mcp-basics-__codelineno-12-51"></a><span class="s">EOF</span>
</span><span id="__span-12-52"><a id="__codelineno-12-52" name="__codelineno-12-52" href="#001-mcp-basics-__codelineno-12-52"></a>
</span><span id="__span-12-53"><a id="__codelineno-12-53" name="__codelineno-12-53" href="#001-mcp-basics-__codelineno-12-53"></a><span class="c1"># Run the test</span>
</span><span id="__span-12-54"><a id="__codelineno-12-54" name="__codelineno-12-54" href="#001-mcp-basics-__codelineno-12-54"></a>node<span class="w"> </span>/labs-scripts/test-add-tool.js
</span></code></pre></div>
<p><strong>Expected Output:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#001-mcp-basics-__codelineno-13-1"></a>Testing add tool...
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#001-mcp-basics-__codelineno-13-2"></a>Server spawned, PID: 18263
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#001-mcp-basics-__codelineno-13-3"></a>SERVER: K-Agent MCP Server running on stdio
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#001-mcp-basics-__codelineno-13-4"></a>Sending: {&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:3,&quot;method&quot;:&quot;tools/call&quot;,&quot;params&quot;:{&quot;name&quot;:&quot;add&quot;,&quot;arguments&quot;:{&quot;a&quot;:5,&quot;b&quot;:3}}}
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#001-mcp-basics-__codelineno-13-5"></a>RESPONSE: {&quot;result&quot;:{&quot;content&quot;:[{&quot;type&quot;:&quot;text&quot;,&quot;text&quot;:&quot;The sum of 5 and 3 is 8&quot;}]},&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:3}
</span></code></pre></div></p>
<hr />
<h2 id="001-mcp-basics-08-key-takeaways">08. Key Takeaways<a class="headerlink" href="#001-mcp-basics-08-key-takeaways" title="Permanent link">&para;</a></h2>
<div class="admonition success">
<p class="admonition-title">What You Learned</p>
<ul>
<li>‚úì MCP is a standardized protocol for AI-tool communication</li>
<li>‚úì MCP servers expose tools with defined schemas</li>
<li>‚úì Tools have names, descriptions, input schemas, and handlers</li>
<li>‚úì JSON-RPC 2.0 is the communication format</li>
<li>‚úì Transport can be stdio, HTTP, or WebSocket</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">MCP in Practice</p>
<p>MCP servers are typically used by AI assistants like Claude, ChatGPT with plugins, or custom AI applications. The stdio transport allows them to run as local processes.</p>
</div>
<hr />
<h2 id="001-mcp-basics-09-additional-resources">09. Additional Resources<a class="headerlink" href="#001-mcp-basics-09-additional-resources" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://modelcontextprotocol.io/docs">MCP Specification</a></li>
<li><a href="https://github.com/modelcontextprotocol/sdk">MCP SDK Documentation</a></li>
<li><a href="https://www.jsonrpc.org/specification">JSON-RPC 2.0 Specification</a></li>
</ul>
<hr />
<h2 id="001-mcp-basics-10-next-steps">10. Next Steps<a class="headerlink" href="#001-mcp-basics-10-next-steps" title="Permanent link">&para;</a></h2>
<p>Now that you understand MCP basics, you&rsquo;ll learn how to build your own MCP server with Python.</p>
<p><strong>What&rsquo;s next:</strong></p>
<ul>
<li><a href="#002-python-server">Lab 002 - Python MCP Server</a> - Build a custom MCP server</li>
<li>Creating custom tools with Python</li>
<li>Implementing tool handlers</li>
</ul></section><section class="print-page" id="002-typescript-server" heading-number="2.4"><h1 id="002-typescript-server-lab-002-typescript-mcp-server">Lab 002 - TypeScript MCP Server<a class="headerlink" href="#002-typescript-server-lab-002-typescript-mcp-server" title="Permanent link">&para;</a></h1>
<p>In this lab, you&rsquo;ll build your own Model Context Protocol server using TypeScript. You&rsquo;ll create custom tools, define input schemas, and implement tool handlers from scratch.</p>
<p><strong>What you&rsquo;ll learn:</strong>
- Create a TypeScript MCP server project
- Define custom tools with JSON Schema
- Implement tool handlers
- Test your MCP server</p>
<p><strong>Estimated time:</strong> 15 minutes</p>
<hr />
<h2 id="002-typescript-server-pre-requirements">Pre-Requirements<a class="headerlink" href="#002-typescript-server-pre-requirements" title="Permanent link">&para;</a></h2>
<ul>
<li>Completed <a href="#001-mcp-basics">Lab 001 - MCP Basics</a></li>
<li>Understanding of TypeScript basics</li>
<li>K-Agent labs environment running</li>
</ul>
<hr />
<h2 id="002-typescript-server-01-project-structure">01. Project Structure<a class="headerlink" href="#002-typescript-server-01-project-structure" title="Permanent link">&para;</a></h2>
<p>A TypeScript MCP server project typically has this structure:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#002-typescript-server-__codelineno-0-1"></a>my-mcp-server/
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#002-typescript-server-__codelineno-0-2"></a>‚îú‚îÄ‚îÄ package.json          # Project dependencies
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#002-typescript-server-__codelineno-0-3"></a>‚îú‚îÄ‚îÄ tsconfig.json         # TypeScript configuration
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#002-typescript-server-__codelineno-0-4"></a>‚îú‚îÄ‚îÄ src/
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#002-typescript-server-__codelineno-0-5"></a>‚îÇ   ‚îî‚îÄ‚îÄ mcp.ts         # Main server code
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#002-typescript-server-__codelineno-0-6"></a>‚îî‚îÄ‚îÄ build/               # Compiled JavaScript (generated)
</span></code></pre></div>
<hr />
<h2 id="002-typescript-server-02-initialize-project">02. Initialize Project<a class="headerlink" href="#002-typescript-server-02-initialize-project" title="Permanent link">&para;</a></h2>
<p>Let&rsquo;s create a new MCP server from scratch.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#002-typescript-server-__codelineno-1-1"></a><span class="c1"># Connect to container</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#002-typescript-server-__codelineno-1-2"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>kagent-controller<span class="w"> </span>bash
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#002-typescript-server-__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#002-typescript-server-__codelineno-1-4"></a><span class="c1"># Create project directory</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#002-typescript-server-__codelineno-1-5"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>/labs-scripts/my-mcp-server
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#002-typescript-server-__codelineno-1-6"></a><span class="nb">cd</span><span class="w"> </span>/labs-scripts/my-mcp-server
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#002-typescript-server-__codelineno-1-7"></a>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#002-typescript-server-__codelineno-1-8"></a><span class="c1"># Initialize npm project</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#002-typescript-server-__codelineno-1-9"></a>npm<span class="w"> </span>init<span class="w"> </span>-y
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#002-typescript-server-__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#002-typescript-server-__codelineno-1-11"></a><span class="c1"># Install dependencies</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#002-typescript-server-__codelineno-1-12"></a>npm<span class="w"> </span>install<span class="w"> </span>@modelcontextprotocol/sdk
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#002-typescript-server-__codelineno-1-13"></a>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#002-typescript-server-__codelineno-1-14"></a><span class="c1"># Install dev dependencies</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#002-typescript-server-__codelineno-1-15"></a>npm<span class="w"> </span>install<span class="w"> </span>--save-dev<span class="w"> </span>typescript<span class="w"> </span>@types/node<span class="w"> </span>ts-node
</span></code></pre></div>
<hr />
<h2 id="002-typescript-server-03-configure-typescript">03. Configure TypeScript<a class="headerlink" href="#002-typescript-server-03-configure-typescript" title="Permanent link">&para;</a></h2>
<p>Create <code>tsconfig.json</code>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#002-typescript-server-__codelineno-2-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>tsconfig.json<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#002-typescript-server-__codelineno-2-2"></a><span class="s">{</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#002-typescript-server-__codelineno-2-3"></a><span class="s">  &quot;compilerOptions&quot;: {</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#002-typescript-server-__codelineno-2-4"></a><span class="s">    &quot;target&quot;: &quot;ES2020&quot;,</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#002-typescript-server-__codelineno-2-5"></a><span class="s">    &quot;module&quot;: &quot;commonjs&quot;,</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#002-typescript-server-__codelineno-2-6"></a><span class="s">    &quot;lib&quot;: [&quot;ES2020&quot;],</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#002-typescript-server-__codelineno-2-7"></a><span class="s">    &quot;outDir&quot;: &quot;./build&quot;,</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#002-typescript-server-__codelineno-2-8"></a><span class="s">    &quot;rootDir&quot;: &quot;./src&quot;,</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#002-typescript-server-__codelineno-2-9"></a><span class="s">    &quot;strict&quot;: true,</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#002-typescript-server-__codelineno-2-10"></a><span class="s">    &quot;esModuleInterop&quot;: true,</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#002-typescript-server-__codelineno-2-11"></a><span class="s">    &quot;skipLibCheck&quot;: true,</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#002-typescript-server-__codelineno-2-12"></a><span class="s">    &quot;forceConsistentCasingInFileNames&quot;: true,</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#002-typescript-server-__codelineno-2-13"></a><span class="s">    &quot;resolveJsonModule&quot;: true,</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#002-typescript-server-__codelineno-2-14"></a><span class="s">    &quot;declaration&quot;: true,</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#002-typescript-server-__codelineno-2-15"></a><span class="s">    &quot;sourceMap&quot;: true,</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#002-typescript-server-__codelineno-2-16"></a><span class="s">    &quot;moduleResolution&quot;: &quot;node&quot;</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#002-typescript-server-__codelineno-2-17"></a><span class="s">  },</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#002-typescript-server-__codelineno-2-18"></a><span class="s">  &quot;include&quot;: [&quot;src/**/*&quot;],</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#002-typescript-server-__codelineno-2-19"></a><span class="s">  &quot;exclude&quot;: [&quot;node_modules&quot;, &quot;build&quot;]</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#002-typescript-server-__codelineno-2-20"></a><span class="s">}</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#002-typescript-server-__codelineno-2-21"></a><span class="s">EOF</span>
</span></code></pre></div>
<hr />
<h2 id="002-typescript-server-04-create-mcp-server">04. Create MCP Server<a class="headerlink" href="#002-typescript-server-04-create-mcp-server" title="Permanent link">&para;</a></h2>
<p>Create <code>src/indmcpex.ts</code> with custom tools:</p>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#002-typescript-server-__codelineno-3-1"></a><span class="ch">#!/usr/bin/env node</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#002-typescript-server-__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#002-typescript-server-__codelineno-3-3"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@modelcontextprotocol/sdk/server/index.js&quot;</span><span class="p">;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#002-typescript-server-__codelineno-3-4"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@modelcontextprotocol/sdk/server/stdio.js&quot;</span><span class="p">;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#002-typescript-server-__codelineno-3-5"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#002-typescript-server-__codelineno-3-6"></a><span class="w">  </span><span class="nx">CallToolRequestSchema</span><span class="p">,</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#002-typescript-server-__codelineno-3-7"></a><span class="w">  </span><span class="nx">ListToolsRequestSchema</span><span class="p">,</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#002-typescript-server-__codelineno-3-8"></a><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@modelcontextprotocol/sdk/types.js&quot;</span><span class="p">;</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#002-typescript-server-__codelineno-3-9"></a>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#002-typescript-server-__codelineno-3-10"></a><span class="c1">// Create server instance</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#002-typescript-server-__codelineno-3-11"></a><span class="kd">const</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Server</span><span class="p">(</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#002-typescript-server-__codelineno-3-12"></a><span class="w">  </span><span class="p">{</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#002-typescript-server-__codelineno-3-13"></a><span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;my-custom-mcp-server&quot;</span><span class="p">,</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#002-typescript-server-__codelineno-3-14"></a><span class="w">    </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#002-typescript-server-__codelineno-3-15"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#002-typescript-server-__codelineno-3-16"></a><span class="w">  </span><span class="p">{</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#002-typescript-server-__codelineno-3-17"></a><span class="w">    </span><span class="nx">capabilities</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#002-typescript-server-__codelineno-3-18"></a><span class="w">      </span><span class="nx">tools</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#002-typescript-server-__codelineno-3-19"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#002-typescript-server-__codelineno-3-20"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#002-typescript-server-__codelineno-3-21"></a><span class="p">);</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#002-typescript-server-__codelineno-3-22"></a>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#002-typescript-server-__codelineno-3-23"></a><span class="c1">// Define available tools</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#002-typescript-server-__codelineno-3-24"></a><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ListToolsRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#002-typescript-server-__codelineno-3-25"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#002-typescript-server-__codelineno-3-26"></a><span class="w">    </span><span class="nx">tools</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#002-typescript-server-__codelineno-3-27"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#002-typescript-server-__codelineno-3-28"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;calculate&quot;</span><span class="p">,</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#002-typescript-server-__codelineno-3-29"></a><span class="w">        </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Performs basic mathematical operations&quot;</span><span class="p">,</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#002-typescript-server-__codelineno-3-30"></a><span class="w">        </span><span class="nx">inputSchema</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#002-typescript-server-__codelineno-3-31"></a><span class="w">          </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#002-typescript-server-__codelineno-3-32"></a><span class="w">          </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#002-typescript-server-__codelineno-3-33"></a><span class="w">            </span><span class="nx">operation</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#002-typescript-server-__codelineno-3-34"></a><span class="w">              </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#002-typescript-server-__codelineno-3-35"></a><span class="w">              </span><span class="kd">enum</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtract&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;multiply&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;divide&quot;</span><span class="p">],</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#002-typescript-server-__codelineno-3-36"></a><span class="w">              </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Mathematical operation to perform&quot;</span><span class="p">,</span>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#002-typescript-server-__codelineno-3-37"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#002-typescript-server-__codelineno-3-38"></a><span class="w">            </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#002-typescript-server-__codelineno-3-39"></a><span class="w">              </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#002-typescript-server-__codelineno-3-40"></a><span class="w">              </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;First number&quot;</span><span class="p">,</span>
</span><span id="__span-3-41"><a id="__codelineno-3-41" name="__codelineno-3-41" href="#002-typescript-server-__codelineno-3-41"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-3-42"><a id="__codelineno-3-42" name="__codelineno-3-42" href="#002-typescript-server-__codelineno-3-42"></a><span class="w">            </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-43"><a id="__codelineno-3-43" name="__codelineno-3-43" href="#002-typescript-server-__codelineno-3-43"></a><span class="w">              </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
</span><span id="__span-3-44"><a id="__codelineno-3-44" name="__codelineno-3-44" href="#002-typescript-server-__codelineno-3-44"></a><span class="w">              </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Second number&quot;</span><span class="p">,</span>
</span><span id="__span-3-45"><a id="__codelineno-3-45" name="__codelineno-3-45" href="#002-typescript-server-__codelineno-3-45"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-3-46"><a id="__codelineno-3-46" name="__codelineno-3-46" href="#002-typescript-server-__codelineno-3-46"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-3-47"><a id="__codelineno-3-47" name="__codelineno-3-47" href="#002-typescript-server-__codelineno-3-47"></a><span class="w">          </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;operation&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;b&quot;</span><span class="p">],</span>
</span><span id="__span-3-48"><a id="__codelineno-3-48" name="__codelineno-3-48" href="#002-typescript-server-__codelineno-3-48"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-3-49"><a id="__codelineno-3-49" name="__codelineno-3-49" href="#002-typescript-server-__codelineno-3-49"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-3-50"><a id="__codelineno-3-50" name="__codelineno-3-50" href="#002-typescript-server-__codelineno-3-50"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-3-51"><a id="__codelineno-3-51" name="__codelineno-3-51" href="#002-typescript-server-__codelineno-3-51"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;reverse_string&quot;</span><span class="p">,</span>
</span><span id="__span-3-52"><a id="__codelineno-3-52" name="__codelineno-3-52" href="#002-typescript-server-__codelineno-3-52"></a><span class="w">        </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Reverses a string&quot;</span><span class="p">,</span>
</span><span id="__span-3-53"><a id="__codelineno-3-53" name="__codelineno-3-53" href="#002-typescript-server-__codelineno-3-53"></a><span class="w">        </span><span class="nx">inputSchema</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-54"><a id="__codelineno-3-54" name="__codelineno-3-54" href="#002-typescript-server-__codelineno-3-54"></a><span class="w">          </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-3-55"><a id="__codelineno-3-55" name="__codelineno-3-55" href="#002-typescript-server-__codelineno-3-55"></a><span class="w">          </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-56"><a id="__codelineno-3-56" name="__codelineno-3-56" href="#002-typescript-server-__codelineno-3-56"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-57"><a id="__codelineno-3-57" name="__codelineno-3-57" href="#002-typescript-server-__codelineno-3-57"></a><span class="w">              </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="__span-3-58"><a id="__codelineno-3-58" name="__codelineno-3-58" href="#002-typescript-server-__codelineno-3-58"></a><span class="w">              </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Text to reverse&quot;</span><span class="p">,</span>
</span><span id="__span-3-59"><a id="__codelineno-3-59" name="__codelineno-3-59" href="#002-typescript-server-__codelineno-3-59"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-3-60"><a id="__codelineno-3-60" name="__codelineno-3-60" href="#002-typescript-server-__codelineno-3-60"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-3-61"><a id="__codelineno-3-61" name="__codelineno-3-61" href="#002-typescript-server-__codelineno-3-61"></a><span class="w">          </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">],</span>
</span><span id="__span-3-62"><a id="__codelineno-3-62" name="__codelineno-3-62" href="#002-typescript-server-__codelineno-3-62"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-3-63"><a id="__codelineno-3-63" name="__codelineno-3-63" href="#002-typescript-server-__codelineno-3-63"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-3-64"><a id="__codelineno-3-64" name="__codelineno-3-64" href="#002-typescript-server-__codelineno-3-64"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-3-65"><a id="__codelineno-3-65" name="__codelineno-3-65" href="#002-typescript-server-__codelineno-3-65"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;get_timestamp&quot;</span><span class="p">,</span>
</span><span id="__span-3-66"><a id="__codelineno-3-66" name="__codelineno-3-66" href="#002-typescript-server-__codelineno-3-66"></a><span class="w">        </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Returns current timestamp in ISO format&quot;</span><span class="p">,</span>
</span><span id="__span-3-67"><a id="__codelineno-3-67" name="__codelineno-3-67" href="#002-typescript-server-__codelineno-3-67"></a><span class="w">        </span><span class="nx">inputSchema</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-68"><a id="__codelineno-3-68" name="__codelineno-3-68" href="#002-typescript-server-__codelineno-3-68"></a><span class="w">          </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-3-69"><a id="__codelineno-3-69" name="__codelineno-3-69" href="#002-typescript-server-__codelineno-3-69"></a><span class="w">          </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-3-70"><a id="__codelineno-3-70" name="__codelineno-3-70" href="#002-typescript-server-__codelineno-3-70"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-3-71"><a id="__codelineno-3-71" name="__codelineno-3-71" href="#002-typescript-server-__codelineno-3-71"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-3-72"><a id="__codelineno-3-72" name="__codelineno-3-72" href="#002-typescript-server-__codelineno-3-72"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-3-73"><a id="__codelineno-3-73" name="__codelineno-3-73" href="#002-typescript-server-__codelineno-3-73"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-3-74"><a id="__codelineno-3-74" name="__codelineno-3-74" href="#002-typescript-server-__codelineno-3-74"></a><span class="p">});</span>
</span><span id="__span-3-75"><a id="__codelineno-3-75" name="__codelineno-3-75" href="#002-typescript-server-__codelineno-3-75"></a>
</span><span id="__span-3-76"><a id="__codelineno-3-76" name="__codelineno-3-76" href="#002-typescript-server-__codelineno-3-76"></a><span class="c1">// Handle tool calls</span>
</span><span id="__span-3-77"><a id="__codelineno-3-77" name="__codelineno-3-77" href="#002-typescript-server-__codelineno-3-77"></a><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">CallToolRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-78"><a id="__codelineno-3-78" name="__codelineno-3-78" href="#002-typescript-server-__codelineno-3-78"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="kt">args</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
</span><span id="__span-3-79"><a id="__codelineno-3-79" name="__codelineno-3-79" href="#002-typescript-server-__codelineno-3-79"></a>
</span><span id="__span-3-80"><a id="__codelineno-3-80" name="__codelineno-3-80" href="#002-typescript-server-__codelineno-3-80"></a><span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-81"><a id="__codelineno-3-81" name="__codelineno-3-81" href="#002-typescript-server-__codelineno-3-81"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;calculate&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-82"><a id="__codelineno-3-82" name="__codelineno-3-82" href="#002-typescript-server-__codelineno-3-82"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">operation</span><span class="p">,</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-83"><a id="__codelineno-3-83" name="__codelineno-3-83" href="#002-typescript-server-__codelineno-3-83"></a><span class="w">        </span><span class="nx">operation</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-3-84"><a id="__codelineno-3-84" name="__codelineno-3-84" href="#002-typescript-server-__codelineno-3-84"></a><span class="w">        </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-3-85"><a id="__codelineno-3-85" name="__codelineno-3-85" href="#002-typescript-server-__codelineno-3-85"></a><span class="w">        </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-3-86"><a id="__codelineno-3-86" name="__codelineno-3-86" href="#002-typescript-server-__codelineno-3-86"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-3-87"><a id="__codelineno-3-87" name="__codelineno-3-87" href="#002-typescript-server-__codelineno-3-87"></a>
</span><span id="__span-3-88"><a id="__codelineno-3-88" name="__codelineno-3-88" href="#002-typescript-server-__codelineno-3-88"></a><span class="w">      </span><span class="kd">let</span><span class="w"> </span><span class="nx">result</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-3-89"><a id="__codelineno-3-89" name="__codelineno-3-89" href="#002-typescript-server-__codelineno-3-89"></a><span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">operation</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-90"><a id="__codelineno-3-90" name="__codelineno-3-90" href="#002-typescript-server-__codelineno-3-90"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;add&quot;</span><span class="o">:</span>
</span><span id="__span-3-91"><a id="__codelineno-3-91" name="__codelineno-3-91" href="#002-typescript-server-__codelineno-3-91"></a><span class="w">          </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">b</span><span class="p">;</span>
</span><span id="__span-3-92"><a id="__codelineno-3-92" name="__codelineno-3-92" href="#002-typescript-server-__codelineno-3-92"></a><span class="w">          </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-93"><a id="__codelineno-3-93" name="__codelineno-3-93" href="#002-typescript-server-__codelineno-3-93"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;subtract&quot;</span><span class="o">:</span>
</span><span id="__span-3-94"><a id="__codelineno-3-94" name="__codelineno-3-94" href="#002-typescript-server-__codelineno-3-94"></a><span class="w">          </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">b</span><span class="p">;</span>
</span><span id="__span-3-95"><a id="__codelineno-3-95" name="__codelineno-3-95" href="#002-typescript-server-__codelineno-3-95"></a><span class="w">          </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-96"><a id="__codelineno-3-96" name="__codelineno-3-96" href="#002-typescript-server-__codelineno-3-96"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;multiply&quot;</span><span class="o">:</span>
</span><span id="__span-3-97"><a id="__codelineno-3-97" name="__codelineno-3-97" href="#002-typescript-server-__codelineno-3-97"></a><span class="w">          </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">b</span><span class="p">;</span>
</span><span id="__span-3-98"><a id="__codelineno-3-98" name="__codelineno-3-98" href="#002-typescript-server-__codelineno-3-98"></a><span class="w">          </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-99"><a id="__codelineno-3-99" name="__codelineno-3-99" href="#002-typescript-server-__codelineno-3-99"></a><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;divide&quot;</span><span class="o">:</span>
</span><span id="__span-3-100"><a id="__codelineno-3-100" name="__codelineno-3-100" href="#002-typescript-server-__codelineno-3-100"></a><span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">b</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-101"><a id="__codelineno-3-101" name="__codelineno-3-101" href="#002-typescript-server-__codelineno-3-101"></a><span class="w">            </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s2">&quot;Division by zero&quot;</span><span class="p">);</span>
</span><span id="__span-3-102"><a id="__codelineno-3-102" name="__codelineno-3-102" href="#002-typescript-server-__codelineno-3-102"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-3-103"><a id="__codelineno-3-103" name="__codelineno-3-103" href="#002-typescript-server-__codelineno-3-103"></a><span class="w">          </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">b</span><span class="p">;</span>
</span><span id="__span-3-104"><a id="__codelineno-3-104" name="__codelineno-3-104" href="#002-typescript-server-__codelineno-3-104"></a><span class="w">          </span><span class="k">break</span><span class="p">;</span>
</span><span id="__span-3-105"><a id="__codelineno-3-105" name="__codelineno-3-105" href="#002-typescript-server-__codelineno-3-105"></a><span class="w">        </span><span class="nx">default</span><span class="o">:</span>
</span><span id="__span-3-106"><a id="__codelineno-3-106" name="__codelineno-3-106" href="#002-typescript-server-__codelineno-3-106"></a><span class="w">          </span><span class="kt">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Unknown operation: </span><span class="si">${</span><span class="nx">operation</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-3-107"><a id="__codelineno-3-107" name="__codelineno-3-107" href="#002-typescript-server-__codelineno-3-107"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-3-108"><a id="__codelineno-3-108" name="__codelineno-3-108" href="#002-typescript-server-__codelineno-3-108"></a>
</span><span id="__span-3-109"><a id="__codelineno-3-109" name="__codelineno-3-109" href="#002-typescript-server-__codelineno-3-109"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-110"><a id="__codelineno-3-110" name="__codelineno-3-110" href="#002-typescript-server-__codelineno-3-110"></a><span class="w">        </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-3-111"><a id="__codelineno-3-111" name="__codelineno-3-111" href="#002-typescript-server-__codelineno-3-111"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-3-112"><a id="__codelineno-3-112" name="__codelineno-3-112" href="#002-typescript-server-__codelineno-3-112"></a><span class="w">            </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-3-113"><a id="__codelineno-3-113" name="__codelineno-3-113" href="#002-typescript-server-__codelineno-3-113"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Result: </span><span class="si">${</span><span class="nx">a</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">operation</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">b</span><span class="si">}</span><span class="sb"> = </span><span class="si">${</span><span class="nx">result</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-3-114"><a id="__codelineno-3-114" name="__codelineno-3-114" href="#002-typescript-server-__codelineno-3-114"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-3-115"><a id="__codelineno-3-115" name="__codelineno-3-115" href="#002-typescript-server-__codelineno-3-115"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-3-116"><a id="__codelineno-3-116" name="__codelineno-3-116" href="#002-typescript-server-__codelineno-3-116"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-3-117"><a id="__codelineno-3-117" name="__codelineno-3-117" href="#002-typescript-server-__codelineno-3-117"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-118"><a id="__codelineno-3-118" name="__codelineno-3-118" href="#002-typescript-server-__codelineno-3-118"></a>
</span><span id="__span-3-119"><a id="__codelineno-3-119" name="__codelineno-3-119" href="#002-typescript-server-__codelineno-3-119"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;reverse_string&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-120"><a id="__codelineno-3-120" name="__codelineno-3-120" href="#002-typescript-server-__codelineno-3-120"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-3-121"><a id="__codelineno-3-121" name="__codelineno-3-121" href="#002-typescript-server-__codelineno-3-121"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">reversed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">text</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">reverse</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
</span><span id="__span-3-122"><a id="__codelineno-3-122" name="__codelineno-3-122" href="#002-typescript-server-__codelineno-3-122"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-123"><a id="__codelineno-3-123" name="__codelineno-3-123" href="#002-typescript-server-__codelineno-3-123"></a><span class="w">        </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-3-124"><a id="__codelineno-3-124" name="__codelineno-3-124" href="#002-typescript-server-__codelineno-3-124"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-3-125"><a id="__codelineno-3-125" name="__codelineno-3-125" href="#002-typescript-server-__codelineno-3-125"></a><span class="w">            </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-3-126"><a id="__codelineno-3-126" name="__codelineno-3-126" href="#002-typescript-server-__codelineno-3-126"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Original: &quot;</span><span class="si">${</span><span class="nx">text</span><span class="si">}</span><span class="sb">&quot;\nReversed: &quot;</span><span class="si">${</span><span class="nx">reversed</span><span class="si">}</span><span class="sb">&quot;`</span><span class="p">,</span>
</span><span id="__span-3-127"><a id="__codelineno-3-127" name="__codelineno-3-127" href="#002-typescript-server-__codelineno-3-127"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-3-128"><a id="__codelineno-3-128" name="__codelineno-3-128" href="#002-typescript-server-__codelineno-3-128"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-3-129"><a id="__codelineno-3-129" name="__codelineno-3-129" href="#002-typescript-server-__codelineno-3-129"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-3-130"><a id="__codelineno-3-130" name="__codelineno-3-130" href="#002-typescript-server-__codelineno-3-130"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-131"><a id="__codelineno-3-131" name="__codelineno-3-131" href="#002-typescript-server-__codelineno-3-131"></a>
</span><span id="__span-3-132"><a id="__codelineno-3-132" name="__codelineno-3-132" href="#002-typescript-server-__codelineno-3-132"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;get_timestamp&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-133"><a id="__codelineno-3-133" name="__codelineno-3-133" href="#002-typescript-server-__codelineno-3-133"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">();</span>
</span><span id="__span-3-134"><a id="__codelineno-3-134" name="__codelineno-3-134" href="#002-typescript-server-__codelineno-3-134"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-135"><a id="__codelineno-3-135" name="__codelineno-3-135" href="#002-typescript-server-__codelineno-3-135"></a><span class="w">        </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-3-136"><a id="__codelineno-3-136" name="__codelineno-3-136" href="#002-typescript-server-__codelineno-3-136"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-3-137"><a id="__codelineno-3-137" name="__codelineno-3-137" href="#002-typescript-server-__codelineno-3-137"></a><span class="w">            </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-3-138"><a id="__codelineno-3-138" name="__codelineno-3-138" href="#002-typescript-server-__codelineno-3-138"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Current timestamp: </span><span class="si">${</span><span class="nx">timestamp</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-3-139"><a id="__codelineno-3-139" name="__codelineno-3-139" href="#002-typescript-server-__codelineno-3-139"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-3-140"><a id="__codelineno-3-140" name="__codelineno-3-140" href="#002-typescript-server-__codelineno-3-140"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-3-141"><a id="__codelineno-3-141" name="__codelineno-3-141" href="#002-typescript-server-__codelineno-3-141"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-3-142"><a id="__codelineno-3-142" name="__codelineno-3-142" href="#002-typescript-server-__codelineno-3-142"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-3-143"><a id="__codelineno-3-143" name="__codelineno-3-143" href="#002-typescript-server-__codelineno-3-143"></a>
</span><span id="__span-3-144"><a id="__codelineno-3-144" name="__codelineno-3-144" href="#002-typescript-server-__codelineno-3-144"></a><span class="w">    </span><span class="nx">default</span><span class="o">:</span>
</span><span id="__span-3-145"><a id="__codelineno-3-145" name="__codelineno-3-145" href="#002-typescript-server-__codelineno-3-145"></a><span class="w">      </span><span class="kt">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Unknown tool: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-3-146"><a id="__codelineno-3-146" name="__codelineno-3-146" href="#002-typescript-server-__codelineno-3-146"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-3-147"><a id="__codelineno-3-147" name="__codelineno-3-147" href="#002-typescript-server-__codelineno-3-147"></a><span class="p">});</span>
</span><span id="__span-3-148"><a id="__codelineno-3-148" name="__codelineno-3-148" href="#002-typescript-server-__codelineno-3-148"></a>
</span><span id="__span-3-149"><a id="__codelineno-3-149" name="__codelineno-3-149" href="#002-typescript-server-__codelineno-3-149"></a><span class="c1">// Start the server</span>
</span><span id="__span-3-150"><a id="__codelineno-3-150" name="__codelineno-3-150" href="#002-typescript-server-__codelineno-3-150"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-151"><a id="__codelineno-3-151" name="__codelineno-3-151" href="#002-typescript-server-__codelineno-3-151"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">transport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="p">();</span>
</span><span id="__span-3-152"><a id="__codelineno-3-152" name="__codelineno-3-152" href="#002-typescript-server-__codelineno-3-152"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">server</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">transport</span><span class="p">);</span>
</span><span id="__span-3-153"><a id="__codelineno-3-153" name="__codelineno-3-153" href="#002-typescript-server-__codelineno-3-153"></a><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Custom MCP Server running on stdio&quot;</span><span class="p">);</span>
</span><span id="__span-3-154"><a id="__codelineno-3-154" name="__codelineno-3-154" href="#002-typescript-server-__codelineno-3-154"></a><span class="p">}</span>
</span><span id="__span-3-155"><a id="__codelineno-3-155" name="__codelineno-3-155" href="#002-typescript-server-__codelineno-3-155"></a>
</span><span id="__span-3-156"><a id="__codelineno-3-156" name="__codelineno-3-156" href="#002-typescript-server-__codelineno-3-156"></a><span class="nx">main</span><span class="p">().</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-157"><a id="__codelineno-3-157" name="__codelineno-3-157" href="#002-typescript-server-__codelineno-3-157"></a><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Server error:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
</span><span id="__span-3-158"><a id="__codelineno-3-158" name="__codelineno-3-158" href="#002-typescript-server-__codelineno-3-158"></a><span class="w">  </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
</span><span id="__span-3-159"><a id="__codelineno-3-159" name="__codelineno-3-159" href="#002-typescript-server-__codelineno-3-159"></a><span class="p">});</span>
</span></code></pre></div>
<hr />
<h2 id="002-typescript-server-05-update-packagejson">05. Update package.json<a class="headerlink" href="#002-typescript-server-05-update-packagejson" title="Permanent link">&para;</a></h2>
<p>Add build and start scripts:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#002-typescript-server-__codelineno-4-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>package.json<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#002-typescript-server-__codelineno-4-2"></a><span class="s">{</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#002-typescript-server-__codelineno-4-3"></a><span class="s">  &quot;name&quot;: &quot;my-mcp-server&quot;,</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#002-typescript-server-__codelineno-4-4"></a><span class="s">  &quot;version&quot;: &quot;1.0.0&quot;,</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#002-typescript-server-__codelineno-4-5"></a><span class="s">  &quot;description&quot;: &quot;Custom MCP Server&quot;,</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#002-typescript-server-__codelineno-4-6"></a><span class="s">  &quot;main&quot;: &quot;build/index.js&quot;,</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#002-typescript-server-__codelineno-4-7"></a><span class="s">  &quot;scripts&quot;: {</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#002-typescript-server-__codelineno-4-8"></a><span class="s">    &quot;build&quot;: &quot;tsc&quot;,</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#002-typescript-server-__codelineno-4-9"></a><span class="s">    &quot;start&quot;: &quot;node build/index.js&quot;,</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#002-typescript-server-__codelineno-4-10"></a><span class="s">    &quot;dev&quot;: &quot;ts-node src/mcp.ts&quot;</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#002-typescript-server-__codelineno-4-11"></a><span class="s">  },</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#002-typescript-server-__codelineno-4-12"></a><span class="s">  &quot;keywords&quot;: [&quot;mcp&quot;, &quot;model-context-protocol&quot;],</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#002-typescript-server-__codelineno-4-13"></a><span class="s">  &quot;author&quot;: &quot;&quot;,</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#002-typescript-server-__codelineno-4-14"></a><span class="s">  &quot;license&quot;: &quot;MIT&quot;,</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#002-typescript-server-__codelineno-4-15"></a><span class="s">  &quot;dependencies&quot;: {</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#002-typescript-server-__codelineno-4-16"></a><span class="s">    &quot;@modelcontextprotocol/sdk&quot;: &quot;^0.5.0&quot;</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#002-typescript-server-__codelineno-4-17"></a><span class="s">  },</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#002-typescript-server-__codelineno-4-18"></a><span class="s">  &quot;devDependencies&quot;: {</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#002-typescript-server-__codelineno-4-19"></a><span class="s">    &quot;@types/node&quot;: &quot;^20.10.0&quot;,</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#002-typescript-server-__codelineno-4-20"></a><span class="s">    &quot;ts-node&quot;: &quot;^10.9.2&quot;,</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#002-typescript-server-__codelineno-4-21"></a><span class="s">    &quot;typescript&quot;: &quot;^5.3.3&quot;</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#002-typescript-server-__codelineno-4-22"></a><span class="s">  }</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#002-typescript-server-__codelineno-4-23"></a><span class="s">}</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#002-typescript-server-__codelineno-4-24"></a><span class="s">EOF</span>
</span></code></pre></div>
<hr />
<h2 id="002-typescript-server-06-build-the-server">06. Build the Server<a class="headerlink" href="#002-typescript-server-06-build-the-server" title="Permanent link">&para;</a></h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#002-typescript-server-__codelineno-5-1"></a><span class="c1"># Install dependencies</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#002-typescript-server-__codelineno-5-2"></a>npm<span class="w"> </span>install
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#002-typescript-server-__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#002-typescript-server-__codelineno-5-4"></a><span class="c1"># Compile TypeScript</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#002-typescript-server-__codelineno-5-5"></a>npm<span class="w"> </span>run<span class="w"> </span>build
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#002-typescript-server-__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#002-typescript-server-__codelineno-5-7"></a><span class="c1"># Verify build</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#002-typescript-server-__codelineno-5-8"></a>ls<span class="w"> </span>-la<span class="w"> </span>build/
</span></code></pre></div>
<p>You should see <code>index.js</code> in the <code>build/</code> directory.</p>
<hr />
<h2 id="002-typescript-server-07-test-the-server">07. Test the Server<a class="headerlink" href="#002-typescript-server-07-test-the-server" title="Permanent link">&para;</a></h2>
<p>Create a test script:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#002-typescript-server-__codelineno-6-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>test-server.js<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#002-typescript-server-__codelineno-6-2"></a><span class="s">const { spawn } = require(&#39;child_process&#39;);</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#002-typescript-server-__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#002-typescript-server-__codelineno-6-4"></a><span class="s">console.log(&quot;Testing Custom MCP Server\n&quot;);</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#002-typescript-server-__codelineno-6-5"></a>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#002-typescript-server-__codelineno-6-6"></a><span class="s">// Start the server</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#002-typescript-server-__codelineno-6-7"></a><span class="s">const server = spawn(&#39;node&#39;, [&#39;build/index.js&#39;]);</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#002-typescript-server-__codelineno-6-8"></a>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#002-typescript-server-__codelineno-6-9"></a><span class="s">server.stderr.on(&#39;data&#39;, (data) =&gt; {</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#002-typescript-server-__codelineno-6-10"></a><span class="s">  console.log(&#39;[Server]&#39;, data.toString().trim());</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#002-typescript-server-__codelineno-6-11"></a><span class="s">});</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#002-typescript-server-__codelineno-6-12"></a>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#002-typescript-server-__codelineno-6-13"></a><span class="s">// Test 1: List tools</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#002-typescript-server-__codelineno-6-14"></a><span class="s">console.log(&quot;Test 1: Listing tools...\n&quot;);</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#002-typescript-server-__codelineno-6-15"></a><span class="s">const listRequest = {</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#002-typescript-server-__codelineno-6-16"></a><span class="s">  jsonrpc: &quot;2.0&quot;,</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#002-typescript-server-__codelineno-6-17"></a><span class="s">  id: 1,</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#002-typescript-server-__codelineno-6-18"></a><span class="s">  method: &quot;tools/list&quot;</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#002-typescript-server-__codelineno-6-19"></a><span class="s">};</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#002-typescript-server-__codelineno-6-20"></a>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#002-typescript-server-__codelineno-6-21"></a><span class="s">server.stdin.write(JSON.stringify(listRequest) + &#39;\n&#39;);</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#002-typescript-server-__codelineno-6-22"></a>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#002-typescript-server-__codelineno-6-23"></a><span class="s">// Test 2: Calculate (add)</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#002-typescript-server-__codelineno-6-24"></a><span class="s">setTimeout(() =&gt; {</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#002-typescript-server-__codelineno-6-25"></a><span class="s">  console.log(&quot;\nTest 2: Calculate 15 + 27...\n&quot;);</span>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#002-typescript-server-__codelineno-6-26"></a><span class="s">  const calculateRequest = {</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#002-typescript-server-__codelineno-6-27"></a><span class="s">    jsonrpc: &quot;2.0&quot;,</span>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#002-typescript-server-__codelineno-6-28"></a><span class="s">    id: 2,</span>
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#002-typescript-server-__codelineno-6-29"></a><span class="s">    method: &quot;tools/call&quot;,</span>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#002-typescript-server-__codelineno-6-30"></a><span class="s">    params: {</span>
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#002-typescript-server-__codelineno-6-31"></a><span class="s">      name: &quot;calculate&quot;,</span>
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#002-typescript-server-__codelineno-6-32"></a><span class="s">      arguments: {</span>
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#002-typescript-server-__codelineno-6-33"></a><span class="s">        operation: &quot;add&quot;,</span>
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#002-typescript-server-__codelineno-6-34"></a><span class="s">        a: 15,</span>
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#002-typescript-server-__codelineno-6-35"></a><span class="s">        b: 27</span>
</span><span id="__span-6-36"><a id="__codelineno-6-36" name="__codelineno-6-36" href="#002-typescript-server-__codelineno-6-36"></a><span class="s">      }</span>
</span><span id="__span-6-37"><a id="__codelineno-6-37" name="__codelineno-6-37" href="#002-typescript-server-__codelineno-6-37"></a><span class="s">    }</span>
</span><span id="__span-6-38"><a id="__codelineno-6-38" name="__codelineno-6-38" href="#002-typescript-server-__codelineno-6-38"></a><span class="s">  };</span>
</span><span id="__span-6-39"><a id="__codelineno-6-39" name="__codelineno-6-39" href="#002-typescript-server-__codelineno-6-39"></a><span class="s">  server.stdin.write(JSON.stringify(calculateRequest) + &#39;\n&#39;);</span>
</span><span id="__span-6-40"><a id="__codelineno-6-40" name="__codelineno-6-40" href="#002-typescript-server-__codelineno-6-40"></a><span class="s">}, 500);</span>
</span><span id="__span-6-41"><a id="__codelineno-6-41" name="__codelineno-6-41" href="#002-typescript-server-__codelineno-6-41"></a>
</span><span id="__span-6-42"><a id="__codelineno-6-42" name="__codelineno-6-42" href="#002-typescript-server-__codelineno-6-42"></a><span class="s">// Test 3: Reverse string</span>
</span><span id="__span-6-43"><a id="__codelineno-6-43" name="__codelineno-6-43" href="#002-typescript-server-__codelineno-6-43"></a><span class="s">setTimeout(() =&gt; {</span>
</span><span id="__span-6-44"><a id="__codelineno-6-44" name="__codelineno-6-44" href="#002-typescript-server-__codelineno-6-44"></a><span class="s">  console.log(&quot;\nTest 3: Reverse string &#39;Hello K-Agent&#39;...\n&quot;);</span>
</span><span id="__span-6-45"><a id="__codelineno-6-45" name="__codelineno-6-45" href="#002-typescript-server-__codelineno-6-45"></a><span class="s">  const reverseRequest = {</span>
</span><span id="__span-6-46"><a id="__codelineno-6-46" name="__codelineno-6-46" href="#002-typescript-server-__codelineno-6-46"></a><span class="s">    jsonrpc: &quot;2.0&quot;,</span>
</span><span id="__span-6-47"><a id="__codelineno-6-47" name="__codelineno-6-47" href="#002-typescript-server-__codelineno-6-47"></a><span class="s">    id: 3,</span>
</span><span id="__span-6-48"><a id="__codelineno-6-48" name="__codelineno-6-48" href="#002-typescript-server-__codelineno-6-48"></a><span class="s">    method: &quot;tools/call&quot;,</span>
</span><span id="__span-6-49"><a id="__codelineno-6-49" name="__codelineno-6-49" href="#002-typescript-server-__codelineno-6-49"></a><span class="s">    params: {</span>
</span><span id="__span-6-50"><a id="__codelineno-6-50" name="__codelineno-6-50" href="#002-typescript-server-__codelineno-6-50"></a><span class="s">      name: &quot;reverse_string&quot;,</span>
</span><span id="__span-6-51"><a id="__codelineno-6-51" name="__codelineno-6-51" href="#002-typescript-server-__codelineno-6-51"></a><span class="s">      arguments: {</span>
</span><span id="__span-6-52"><a id="__codelineno-6-52" name="__codelineno-6-52" href="#002-typescript-server-__codelineno-6-52"></a><span class="s">        text: &quot;Hello K-Agent&quot;</span>
</span><span id="__span-6-53"><a id="__codelineno-6-53" name="__codelineno-6-53" href="#002-typescript-server-__codelineno-6-53"></a><span class="s">      }</span>
</span><span id="__span-6-54"><a id="__codelineno-6-54" name="__codelineno-6-54" href="#002-typescript-server-__codelineno-6-54"></a><span class="s">    }</span>
</span><span id="__span-6-55"><a id="__codelineno-6-55" name="__codelineno-6-55" href="#002-typescript-server-__codelineno-6-55"></a><span class="s">  };</span>
</span><span id="__span-6-56"><a id="__codelineno-6-56" name="__codelineno-6-56" href="#002-typescript-server-__codelineno-6-56"></a><span class="s">  server.stdin.write(JSON.stringify(reverseRequest) + &#39;\n&#39;);</span>
</span><span id="__span-6-57"><a id="__codelineno-6-57" name="__codelineno-6-57" href="#002-typescript-server-__codelineno-6-57"></a><span class="s">}, 1000);</span>
</span><span id="__span-6-58"><a id="__codelineno-6-58" name="__codelineno-6-58" href="#002-typescript-server-__codelineno-6-58"></a>
</span><span id="__span-6-59"><a id="__codelineno-6-59" name="__codelineno-6-59" href="#002-typescript-server-__codelineno-6-59"></a><span class="s">// Test 4: Get timestamp</span>
</span><span id="__span-6-60"><a id="__codelineno-6-60" name="__codelineno-6-60" href="#002-typescript-server-__codelineno-6-60"></a><span class="s">setTimeout(() =&gt; {</span>
</span><span id="__span-6-61"><a id="__codelineno-6-61" name="__codelineno-6-61" href="#002-typescript-server-__codelineno-6-61"></a><span class="s">  console.log(&quot;\nTest 4: Get current timestamp...\n&quot;);</span>
</span><span id="__span-6-62"><a id="__codelineno-6-62" name="__codelineno-6-62" href="#002-typescript-server-__codelineno-6-62"></a><span class="s">  const timestampRequest = {</span>
</span><span id="__span-6-63"><a id="__codelineno-6-63" name="__codelineno-6-63" href="#002-typescript-server-__codelineno-6-63"></a><span class="s">    jsonrpc: &quot;2.0&quot;,</span>
</span><span id="__span-6-64"><a id="__codelineno-6-64" name="__codelineno-6-64" href="#002-typescript-server-__codelineno-6-64"></a><span class="s">    id: 4,</span>
</span><span id="__span-6-65"><a id="__codelineno-6-65" name="__codelineno-6-65" href="#002-typescript-server-__codelineno-6-65"></a><span class="s">    method: &quot;tools/call&quot;,</span>
</span><span id="__span-6-66"><a id="__codelineno-6-66" name="__codelineno-6-66" href="#002-typescript-server-__codelineno-6-66"></a><span class="s">    params: {</span>
</span><span id="__span-6-67"><a id="__codelineno-6-67" name="__codelineno-6-67" href="#002-typescript-server-__codelineno-6-67"></a><span class="s">      name: &quot;get_timestamp&quot;,</span>
</span><span id="__span-6-68"><a id="__codelineno-6-68" name="__codelineno-6-68" href="#002-typescript-server-__codelineno-6-68"></a><span class="s">      arguments: {}</span>
</span><span id="__span-6-69"><a id="__codelineno-6-69" name="__codelineno-6-69" href="#002-typescript-server-__codelineno-6-69"></a><span class="s">    }</span>
</span><span id="__span-6-70"><a id="__codelineno-6-70" name="__codelineno-6-70" href="#002-typescript-server-__codelineno-6-70"></a><span class="s">  };</span>
</span><span id="__span-6-71"><a id="__codelineno-6-71" name="__codelineno-6-71" href="#002-typescript-server-__codelineno-6-71"></a><span class="s">  server.stdin.write(JSON.stringify(timestampRequest) + &#39;\n&#39;);</span>
</span><span id="__span-6-72"><a id="__codelineno-6-72" name="__codelineno-6-72" href="#002-typescript-server-__codelineno-6-72"></a><span class="s">}, 1500);</span>
</span><span id="__span-6-73"><a id="__codelineno-6-73" name="__codelineno-6-73" href="#002-typescript-server-__codelineno-6-73"></a>
</span><span id="__span-6-74"><a id="__codelineno-6-74" name="__codelineno-6-74" href="#002-typescript-server-__codelineno-6-74"></a><span class="s">// Capture responses</span>
</span><span id="__span-6-75"><a id="__codelineno-6-75" name="__codelineno-6-75" href="#002-typescript-server-__codelineno-6-75"></a><span class="s">server.stdout.on(&#39;data&#39;, (data) =&gt; {</span>
</span><span id="__span-6-76"><a id="__codelineno-6-76" name="__codelineno-6-76" href="#002-typescript-server-__codelineno-6-76"></a><span class="s">  console.log(&#39;[Response]&#39;, data.toString());</span>
</span><span id="__span-6-77"><a id="__codelineno-6-77" name="__codelineno-6-77" href="#002-typescript-server-__codelineno-6-77"></a><span class="s">});</span>
</span><span id="__span-6-78"><a id="__codelineno-6-78" name="__codelineno-6-78" href="#002-typescript-server-__codelineno-6-78"></a>
</span><span id="__span-6-79"><a id="__codelineno-6-79" name="__codelineno-6-79" href="#002-typescript-server-__codelineno-6-79"></a><span class="s">// Cleanup</span>
</span><span id="__span-6-80"><a id="__codelineno-6-80" name="__codelineno-6-80" href="#002-typescript-server-__codelineno-6-80"></a><span class="s">setTimeout(() =&gt; {</span>
</span><span id="__span-6-81"><a id="__codelineno-6-81" name="__codelineno-6-81" href="#002-typescript-server-__codelineno-6-81"></a><span class="s">  server.kill();</span>
</span><span id="__span-6-82"><a id="__codelineno-6-82" name="__codelineno-6-82" href="#002-typescript-server-__codelineno-6-82"></a><span class="s">  console.log(&quot;\n‚úì All tests completed!&quot;);</span>
</span><span id="__span-6-83"><a id="__codelineno-6-83" name="__codelineno-6-83" href="#002-typescript-server-__codelineno-6-83"></a><span class="s">  process.exit(0);</span>
</span><span id="__span-6-84"><a id="__codelineno-6-84" name="__codelineno-6-84" href="#002-typescript-server-__codelineno-6-84"></a><span class="s">}, 3000);</span>
</span><span id="__span-6-85"><a id="__codelineno-6-85" name="__codelineno-6-85" href="#002-typescript-server-__codelineno-6-85"></a><span class="s">EOF</span>
</span><span id="__span-6-86"><a id="__codelineno-6-86" name="__codelineno-6-86" href="#002-typescript-server-__codelineno-6-86"></a>
</span><span id="__span-6-87"><a id="__codelineno-6-87" name="__codelineno-6-87" href="#002-typescript-server-__codelineno-6-87"></a><span class="c1"># Run tests</span>
</span><span id="__span-6-88"><a id="__codelineno-6-88" name="__codelineno-6-88" href="#002-typescript-server-__codelineno-6-88"></a>node<span class="w"> </span>test-server.js
</span></code></pre></div>
<hr />
<h2 id="002-typescript-server-08-hands-on-exercise">08. Hands-on Exercise<a class="headerlink" href="#002-typescript-server-08-hands-on-exercise" title="Permanent link">&para;</a></h2>
<h3 id="002-typescript-server-exercise-1-add-a-new-tool">Exercise 1: Add a New Tool<a class="headerlink" href="#002-typescript-server-exercise-1-add-a-new-tool" title="Permanent link">&para;</a></h3>
<p>Add a <code>to_uppercase</code> tool that converts text to uppercase.</p>
<p><strong>Steps:</strong></p>
<ol>
<li>Add tool definition in <code>ListToolsRequestSchema</code> handler:</li>
</ol>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#002-typescript-server-__codelineno-7-1"></a><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#002-typescript-server-__codelineno-7-2"></a><span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;to_uppercase&quot;</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#002-typescript-server-__codelineno-7-3"></a><span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Converts text to uppercase&quot;</span><span class="p">,</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#002-typescript-server-__codelineno-7-4"></a><span class="w">  </span><span class="nx">inputSchema</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#002-typescript-server-__codelineno-7-5"></a><span class="w">    </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#002-typescript-server-__codelineno-7-6"></a><span class="w">    </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#002-typescript-server-__codelineno-7-7"></a><span class="w">      </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#002-typescript-server-__codelineno-7-8"></a><span class="w">        </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#002-typescript-server-__codelineno-7-9"></a><span class="w">        </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Text to convert&quot;</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#002-typescript-server-__codelineno-7-10"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#002-typescript-server-__codelineno-7-11"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#002-typescript-server-__codelineno-7-12"></a><span class="w">    </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#002-typescript-server-__codelineno-7-13"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#002-typescript-server-__codelineno-7-14"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>Add tool handler in <code>CallToolRequestSchema</code>:</li>
</ol>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#002-typescript-server-__codelineno-8-1"></a><span class="k">case</span><span class="w"> </span><span class="s2">&quot;to_uppercase&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#002-typescript-server-__codelineno-8-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">};</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#002-typescript-server-__codelineno-8-3"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">upper</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">text</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#002-typescript-server-__codelineno-8-4"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#002-typescript-server-__codelineno-8-5"></a><span class="w">    </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#002-typescript-server-__codelineno-8-6"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#002-typescript-server-__codelineno-8-7"></a><span class="w">        </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#002-typescript-server-__codelineno-8-8"></a><span class="w">        </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Uppercase: </span><span class="si">${</span><span class="nx">upper</span><span class="si">}</span><span class="sb">`</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#002-typescript-server-__codelineno-8-9"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#002-typescript-server-__codelineno-8-10"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#002-typescript-server-__codelineno-8-11"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#002-typescript-server-__codelineno-8-12"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>Rebuild and test:</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#002-typescript-server-__codelineno-9-1"></a>npm<span class="w"> </span>run<span class="w"> </span>build
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#002-typescript-server-__codelineno-9-2"></a><span class="c1"># Test with your test script</span>
</span></code></pre></div>
<h3 id="002-typescript-server-exercise-2-add-input-validation">Exercise 2: Add Input Validation<a class="headerlink" href="#002-typescript-server-exercise-2-add-input-validation" title="Permanent link">&para;</a></h3>
<p>Enhance the <code>calculate</code> tool to validate inputs:</p>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#002-typescript-server-__codelineno-10-1"></a><span class="k">case</span><span class="w"> </span><span class="s2">&quot;calculate&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#002-typescript-server-__codelineno-10-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">operation</span><span class="p">,</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#002-typescript-server-__codelineno-10-3"></a><span class="w">    </span><span class="nx">operation</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#002-typescript-server-__codelineno-10-4"></a><span class="w">    </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#002-typescript-server-__codelineno-10-5"></a><span class="w">    </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#002-typescript-server-__codelineno-10-6"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#002-typescript-server-__codelineno-10-7"></a>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#002-typescript-server-__codelineno-10-8"></a><span class="w">  </span><span class="c1">// Validate inputs</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#002-typescript-server-__codelineno-10-9"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;number&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="ow">typeof</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;number&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#002-typescript-server-__codelineno-10-10"></a><span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s2">&quot;Invalid input: a and b must be numbers&quot;</span><span class="p">);</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#002-typescript-server-__codelineno-10-11"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#002-typescript-server-__codelineno-10-12"></a>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#002-typescript-server-__codelineno-10-13"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">[</span><span class="s1">&#39;add&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;subtract&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;multiply&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;divide&#39;</span><span class="p">].</span><span class="nx">includes</span><span class="p">(</span><span class="nx">operation</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#002-typescript-server-__codelineno-10-14"></a><span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Invalid operation: </span><span class="si">${</span><span class="nx">operation</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#002-typescript-server-__codelineno-10-15"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#002-typescript-server-__codelineno-10-16"></a>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#002-typescript-server-__codelineno-10-17"></a><span class="w">  </span><span class="c1">// ... rest of the code</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#002-typescript-server-__codelineno-10-18"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="002-typescript-server-exercise-3-add-error-handling">Exercise 3: Add Error Handling<a class="headerlink" href="#002-typescript-server-exercise-3-add-error-handling" title="Permanent link">&para;</a></h3>
<p>Create a test that triggers an error (division by zero):</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#002-typescript-server-__codelineno-11-1"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>test-error.js<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#002-typescript-server-__codelineno-11-2"></a><span class="s">const { spawn } = require(&#39;child_process&#39;);</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#002-typescript-server-__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#002-typescript-server-__codelineno-11-4"></a><span class="s">const server = spawn(&#39;node&#39;, [&#39;build/index.js&#39;]);</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#002-typescript-server-__codelineno-11-5"></a>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#002-typescript-server-__codelineno-11-6"></a><span class="s">// Test division by zero</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#002-typescript-server-__codelineno-11-7"></a><span class="s">const request = {</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#002-typescript-server-__codelineno-11-8"></a><span class="s">  jsonrpc: &quot;2.0&quot;,</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#002-typescript-server-__codelineno-11-9"></a><span class="s">  id: 1,</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#002-typescript-server-__codelineno-11-10"></a><span class="s">  method: &quot;tools/call&quot;,</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#002-typescript-server-__codelineno-11-11"></a><span class="s">  params: {</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#002-typescript-server-__codelineno-11-12"></a><span class="s">    name: &quot;calculate&quot;,</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#002-typescript-server-__codelineno-11-13"></a><span class="s">    arguments: {</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#002-typescript-server-__codelineno-11-14"></a><span class="s">      operation: &quot;divide&quot;,</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#002-typescript-server-__codelineno-11-15"></a><span class="s">      a: 10,</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#002-typescript-server-__codelineno-11-16"></a><span class="s">      b: 0</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#002-typescript-server-__codelineno-11-17"></a><span class="s">    }</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#002-typescript-server-__codelineno-11-18"></a><span class="s">  }</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#002-typescript-server-__codelineno-11-19"></a><span class="s">};</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#002-typescript-server-__codelineno-11-20"></a>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#002-typescript-server-__codelineno-11-21"></a><span class="s">server.stdin.write(JSON.stringify(request) + &#39;\n&#39;);</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#002-typescript-server-__codelineno-11-22"></a>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#002-typescript-server-__codelineno-11-23"></a><span class="s">server.stdout.on(&#39;data&#39;, (data) =&gt; {</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#002-typescript-server-__codelineno-11-24"></a><span class="s">  console.log(&#39;Response:&#39;, data.toString());</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#002-typescript-server-__codelineno-11-25"></a><span class="s">});</span>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#002-typescript-server-__codelineno-11-26"></a>
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#002-typescript-server-__codelineno-11-27"></a><span class="s">setTimeout(() =&gt; {</span>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#002-typescript-server-__codelineno-11-28"></a><span class="s">  server.kill();</span>
</span><span id="__span-11-29"><a id="__codelineno-11-29" name="__codelineno-11-29" href="#002-typescript-server-__codelineno-11-29"></a><span class="s">  process.exit(0);</span>
</span><span id="__span-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30" href="#002-typescript-server-__codelineno-11-30"></a><span class="s">}, 1000);</span>
</span><span id="__span-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31" href="#002-typescript-server-__codelineno-11-31"></a><span class="s">EOF</span>
</span><span id="__span-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32" href="#002-typescript-server-__codelineno-11-32"></a>
</span><span id="__span-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33" href="#002-typescript-server-__codelineno-11-33"></a>node<span class="w"> </span>test-error.js
</span></code></pre></div>
<p><strong>Expected:</strong> Error message about division by zero.</p>
<hr />
<h2 id="002-typescript-server-09-key-takeaways">09. Key Takeaways<a class="headerlink" href="#002-typescript-server-09-key-takeaways" title="Permanent link">&para;</a></h2>
<div class="admonition success">
<p class="admonition-title">What You Learned</p>
<ul>
<li>‚úì Created a TypeScript MCP server from scratch</li>
<li>‚úì Defined custom tools with JSON Schema validation</li>
<li>‚úì Implemented tool handlers with logic</li>
<li>‚úì Built and tested the server</li>
<li>‚úì Added error handling and validation</li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">Best Practices</p>
<ul>
<li>Always validate tool inputs</li>
<li>Provide clear error messages</li>
<li>Use TypeScript for type safety</li>
<li>Test each tool thoroughly</li>
<li>Document tool descriptions clearly</li>
</ul>
</div>
<hr />
<h2 id="002-typescript-server-10-next-steps">10. Next Steps<a class="headerlink" href="#002-typescript-server-10-next-steps" title="Permanent link">&para;</a></h2>
<p>Now that you can build TypeScript MCP servers, you&rsquo;ll learn about deploying MCP servers to Kubernetes.</p></section><section class="print-page" id="003-python-server" heading-number="2.5"><h1 id="003-python-server-lab-003-python-mcp-server-with-fastmcp">Lab 003 - Python MCP Server with FastMCP<a class="headerlink" href="#003-python-server-lab-003-python-mcp-server-with-fastmcp" title="Permanent link">&para;</a></h1>
<ul>
<li>In this lab, you&rsquo;ll build MCP servers using Python and the <code>FastMCP</code> framework. </li>
<li><code>FastMCP</code> is a high-level Python framework that simplifies the creating of MCP servers with minimal boilerplate code. </li>
<li>You&rsquo;ll learn how to define tools using decorators, handle parameters, and integrate with Python&rsquo;s ecosystem.</li>
</ul>
<p><strong>What you&rsquo;ll learn:</strong></p>
<ul>
<li>Building MCP servers with Python and <code>FastMCP</code></li>
<li>Using decorators to define tools</li>
<li>Working with tool parameters and validation</li>
<li>Testing Python MCP servers</li>
<li>Best practices for Python MCP development</li>
</ul>
<p><strong>Estimated time:</strong> 15-20 minutes</p>
<hr />
<h2 id="003-python-server-pre-requirements">Pre-Requirements<a class="headerlink" href="#003-python-server-pre-requirements" title="Permanent link">&para;</a></h2>
<ul>
<li>Completed <a href="#000-kagent-labs-setup">Lab 000 - K-Agent Labs Setup</a> and <a href="#001-mcp-basics">Lab 001 - MCP Basics</a></li>
<li>K-Agent labs environment running</li>
<li>Basic Python knowledge</li>
</ul>
<hr />
<h2 id="003-python-server-01-what-is-fastmcp">01. What is FastMCP?<a class="headerlink" href="#003-python-server-01-what-is-fastmcp" title="Permanent link">&para;</a></h2>
<p><code>FastMCP</code> is a Python framework that makes it easy to build MCP servers. It provides:</p>
<ul>
<li><strong>Simple Decorator API</strong>: Define tools with <code>@mcp.tool()</code> decorators</li>
<li><strong>Automatic Schema Generation</strong>: Generates JSON schemas from Python type hints</li>
<li><strong>Built-in Validation</strong>: Validates inputs based on type annotations</li>
<li><strong>Minimal Boilerplate</strong>: Focus on tool logic, not protocol details</li>
<li><strong>Python Ecosystem</strong>: Leverage any Python library in your tools</li>
</ul>
<h3 id="003-python-server-fastmcp-vs-mcp-sdk">FastMCP vs MCP SDK<a class="headerlink" href="#003-python-server-fastmcp-vs-mcp-sdk" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Feature</th>
<th>FastMCP</th>
<th>MCP SDK (TypeScript)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Language</td>
<td>Python</td>
<td>TypeScript/JavaScript</td>
</tr>
<tr>
<td>API Style</td>
<td>Decorator-based</td>
<td>Class-based</td>
</tr>
<tr>
<td>Typing</td>
<td>Type hints</td>
<td>TypeScript types</td>
</tr>
<tr>
<td>Best for</td>
<td>Python developers, rapid prototyping</td>
<td>Type safety, large projects</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="003-python-server-02-fastmcp-server-structure">02. FastMCP Server Structure<a class="headerlink" href="#003-python-server-02-fastmcp-server-structure" title="Permanent link">&para;</a></h2>
<p>A basic FastMCP server looks like this:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#003-python-server-__codelineno-0-1"></a><span class="ch">#!/usr/bin/env python3</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#003-python-server-__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fastmcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastMCP</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#003-python-server-__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#003-python-server-__codelineno-0-4"></a><span class="c1"># Create server instance</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#003-python-server-__codelineno-0-5"></a><span class="n">mcp</span> <span class="o">=</span> <span class="n">FastMCP</span><span class="p">(</span><span class="s2">&quot;My Server Name&quot;</span><span class="p">)</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#003-python-server-__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#003-python-server-__codelineno-0-7"></a><span class="c1"># Define tools using decorators</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#003-python-server-__codelineno-0-8"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#003-python-server-__codelineno-0-9"></a><span class="k">def</span><span class="w"> </span><span class="nf">my_tool</span><span class="p">(</span><span class="n">param</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#003-python-server-__codelineno-0-10"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Tool description here&quot;&quot;&quot;</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#003-python-server-__codelineno-0-11"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Result: </span><span class="si">{</span><span class="n">param</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#003-python-server-__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#003-python-server-__codelineno-0-13"></a><span class="c1"># Run the server</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#003-python-server-__codelineno-0-14"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#003-python-server-__codelineno-0-15"></a>    <span class="n">mcp</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></code></pre></div>
<p><strong>Key Components:</strong></p>
<ol>
<li><strong>Import FastMCP</strong>: <code>from fastmcp import FastMCP</code></li>
<li><strong>Create Server</strong>: <code>mcp = FastMCP("Server Name")</code></li>
<li><strong>Define Tools</strong>: Use <code>@mcp.tool()</code> decorator</li>
<li><strong>Run Server</strong>: Call <code>mcp.run()</code> to start</li>
</ol>
<hr />
<h2 id="003-python-server-03-tool-definition-with-decorators">03. Tool Definition with Decorators<a class="headerlink" href="#003-python-server-03-tool-definition-with-decorators" title="Permanent link">&para;</a></h2>
<p><code>FastMCP</code> uses Python decorators to define tools. The framework automatically:</p>
<ul>
<li>Extracts the tool name from the function name</li>
<li>Uses the docstring as the tool description</li>
<li>Generates input schema from type hints</li>
<li>Validates inputs against the schema</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#003-python-server-__codelineno-1-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#003-python-server-__codelineno-1-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">greeting</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#003-python-server-__codelineno-1-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Greet a person with a custom greeting&quot;&quot;&quot;</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#003-python-server-__codelineno-1-4"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">greeting</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span>
</span></code></pre></div>
<p>This creates a tool with:</p>
<ul>
<li><strong>Name</strong>: <code>greet</code></li>
<li><strong>Description</strong>: &ldquo;Greet a person with a custom greeting&rdquo;</li>
<li><strong>Parameters</strong>: <ul>
<li><code>name</code> (string, required)</li>
<li><code>greeting</code> (string, optional, default=&rdquo;Hello&rdquo;)</li>
</ul>
</li>
<li><strong>Return Type</strong>: string</li>
</ul>
<hr />
<h2 id="003-python-server-04-type-hints-and-validation">04. Type Hints and Validation<a class="headerlink" href="#003-python-server-04-type-hints-and-validation" title="Permanent link">&para;</a></h2>
<p><code>FastMCP</code> uses Python&rsquo;s type hints for automatic validation:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#003-python-server-__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#003-python-server-__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#003-python-server-__codelineno-2-3"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#003-python-server-__codelineno-2-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">calculate_average</span><span class="p">(</span><span class="n">numbers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#003-python-server-__codelineno-2-5"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the average of a list of numbers&quot;&quot;&quot;</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#003-python-server-__codelineno-2-6"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">numbers</span><span class="p">:</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#003-python-server-__codelineno-2-7"></a>        <span class="k">return</span> <span class="mf">0.0</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#003-python-server-__codelineno-2-8"></a>    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#003-python-server-__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#003-python-server-__codelineno-2-10"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#003-python-server-__codelineno-2-11"></a><span class="k">def</span><span class="w"> </span><span class="nf">find_user</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">include_details</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#003-python-server-__codelineno-2-12"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Find a user by ID&quot;&quot;&quot;</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#003-python-server-__codelineno-2-13"></a>    <span class="n">details</span> <span class="o">=</span> <span class="s2">&quot; with details&quot;</span> <span class="k">if</span> <span class="n">include_details</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#003-python-server-__codelineno-2-14"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">user_id</span><span class="si">}{</span><span class="n">details</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<p><strong>Supported Types:</strong></p>
<ul>
<li>Basic: <code>int</code>, <code>float</code>, <code>str</code>, <code>bool</code></li>
<li>Collections: <code>List</code>, <code>Dict</code>, <code>Tuple</code></li>
<li>Optional: <code>Optional[T]</code> or <code>T | None</code></li>
<li>Complex: Custom data classes</li>
</ul>
<hr />
<h2 id="003-python-server-05-hands-on-exercise">05. Hands-on Exercise<a class="headerlink" href="#003-python-server-05-hands-on-exercise" title="Permanent link">&para;</a></h2>
<h3 id="003-python-server-exercise-1-create-a-simple-calculator-server">Exercise 1: Create a Simple Calculator Server<a class="headerlink" href="#003-python-server-exercise-1-create-a-simple-calculator-server" title="Permanent link">&para;</a></h3>
<p>Let&rsquo;s build a calculator MCP server with multiple tools.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#003-python-server-__codelineno-3-1"></a><span class="c1"># Connect to container</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#003-python-server-__codelineno-3-2"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>kagent-controller<span class="w"> </span>bash
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#003-python-server-__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#003-python-server-__codelineno-3-4"></a><span class="c1"># Create a new Python file for our calculator server</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#003-python-server-__codelineno-3-5"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>/labs-scripts/calculator_server.py<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#003-python-server-__codelineno-3-6"></a><span class="s">#!/usr/bin/env python3</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#003-python-server-__codelineno-3-7"></a><span class="s">from fastmcp import FastMCP</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#003-python-server-__codelineno-3-8"></a>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#003-python-server-__codelineno-3-9"></a><span class="s"># Create the calculator MCP server</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#003-python-server-__codelineno-3-10"></a><span class="s">mcp = FastMCP(&quot;Calculator Server&quot;)</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#003-python-server-__codelineno-3-11"></a>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#003-python-server-__codelineno-3-12"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#003-python-server-__codelineno-3-13"></a><span class="s">def add(a: float, b: float) -&gt; float:</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#003-python-server-__codelineno-3-14"></a><span class="s">    &quot;&quot;&quot;Add two numbers together&quot;&quot;&quot;</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#003-python-server-__codelineno-3-15"></a><span class="s">    return a + b</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#003-python-server-__codelineno-3-16"></a>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#003-python-server-__codelineno-3-17"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#003-python-server-__codelineno-3-18"></a><span class="s">def subtract(a: float, b: float) -&gt; float:</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#003-python-server-__codelineno-3-19"></a><span class="s">    &quot;&quot;&quot;Subtract b from a&quot;&quot;&quot;</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#003-python-server-__codelineno-3-20"></a><span class="s">    return a - b</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#003-python-server-__codelineno-3-21"></a>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#003-python-server-__codelineno-3-22"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#003-python-server-__codelineno-3-23"></a><span class="s">def multiply(a: float, b: float) -&gt; float:</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#003-python-server-__codelineno-3-24"></a><span class="s">    &quot;&quot;&quot;Multiply two numbers&quot;&quot;&quot;</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#003-python-server-__codelineno-3-25"></a><span class="s">    return a * b</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#003-python-server-__codelineno-3-26"></a>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#003-python-server-__codelineno-3-27"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#003-python-server-__codelineno-3-28"></a><span class="s">def divide(a: float, b: float) -&gt; str:</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#003-python-server-__codelineno-3-29"></a><span class="s">    &quot;&quot;&quot;Divide a by b&quot;&quot;&quot;</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#003-python-server-__codelineno-3-30"></a><span class="s">    if b == 0:</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#003-python-server-__codelineno-3-31"></a><span class="s">        return &quot;Error: Division by zero&quot;</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#003-python-server-__codelineno-3-32"></a><span class="s">    result = a / b</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#003-python-server-__codelineno-3-33"></a><span class="s">    return f&quot;The result is {result}&quot;</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#003-python-server-__codelineno-3-34"></a>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#003-python-server-__codelineno-3-35"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#003-python-server-__codelineno-3-36"></a><span class="s">def power(base: float, exponent: float) -&gt; float:</span>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#003-python-server-__codelineno-3-37"></a><span class="s">    &quot;&quot;&quot;Raise base to the power of exponent&quot;&quot;&quot;</span>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#003-python-server-__codelineno-3-38"></a><span class="s">    return base ** exponent</span>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#003-python-server-__codelineno-3-39"></a>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#003-python-server-__codelineno-3-40"></a><span class="s">if __name__ == &quot;__main__&quot;:</span>
</span><span id="__span-3-41"><a id="__codelineno-3-41" name="__codelineno-3-41" href="#003-python-server-__codelineno-3-41"></a><span class="s">    mcp.run()</span>
</span><span id="__span-3-42"><a id="__codelineno-3-42" name="__codelineno-3-42" href="#003-python-server-__codelineno-3-42"></a><span class="s">EOF</span>
</span><span id="__span-3-43"><a id="__codelineno-3-43" name="__codelineno-3-43" href="#003-python-server-__codelineno-3-43"></a>
</span><span id="__span-3-44"><a id="__codelineno-3-44" name="__codelineno-3-44" href="#003-python-server-__codelineno-3-44"></a><span class="c1"># Make it executable</span>
</span><span id="__span-3-45"><a id="__codelineno-3-45" name="__codelineno-3-45" href="#003-python-server-__codelineno-3-45"></a>chmod<span class="w"> </span>+x<span class="w"> </span>/labs-scripts/calculator_server.py
</span></code></pre></div>
<hr />
<h3 id="003-python-server-exercise-2-test-with-mcp-inspector">Exercise 2: Test with MCP Inspector<a class="headerlink" href="#003-python-server-exercise-2-test-with-mcp-inspector" title="Permanent link">&para;</a></h3>
<p>Now let&rsquo;s test our calculator server:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#003-python-server-__codelineno-4-1"></a><span class="c1"># Inside the container, start MCP Inspector with our calculator server</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#003-python-server-__codelineno-4-2"></a>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>python3<span class="w"> </span>/labs-scripts/calculator_server.py
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Port Already in Use?</p>
<p>If you see <code>‚ùå Proxy Server PORT IS IN USE at port 6277 ‚ùå</code>, there&rsquo;s already an MCP Inspector running. </p>
<p><strong>Solution: Kill the existing process</strong>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#003-python-server-__codelineno-5-1"></a><span class="c1"># Find and kill any running inspector processes</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#003-python-server-__codelineno-5-2"></a>pkill<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;inspector&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">true</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#003-python-server-__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#003-python-server-__codelineno-5-4"></a><span class="c1"># Wait a moment for the port to be released</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#003-python-server-__codelineno-5-5"></a>sleep<span class="w"> </span><span class="m">2</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#003-python-server-__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#003-python-server-__codelineno-5-7"></a><span class="c1"># Now try again</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#003-python-server-__codelineno-5-8"></a>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>python3<span class="w"> </span>/labs-scripts/calculator_server.py
</span></code></pre></div></p>
<p><strong>Alternative: Kill specific port</strong>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#003-python-server-__codelineno-6-1"></a><span class="c1"># Kill process on port 6277</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#003-python-server-__codelineno-6-2"></a>lsof<span class="w"> </span>-ti:6277<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span><span class="nb">kill</span><span class="w"> </span>-9<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">true</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#003-python-server-__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#003-python-server-__codelineno-6-4"></a><span class="c1"># Also check port 6274 (sometimes used)</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#003-python-server-__codelineno-6-5"></a>lsof<span class="w"> </span>-ti:6274<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span><span class="nb">kill</span><span class="w"> </span>-9<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">true</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#003-python-server-__codelineno-6-6"></a>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#003-python-server-__codelineno-6-7"></a><span class="c1"># Try again</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#003-python-server-__codelineno-6-8"></a>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>python3<span class="w"> </span>/labs-scripts/calculator_server.py
</span></code></pre></div></p>
</div>
<div class="admonition info">
<p class="admonition-title">Testing Steps</p>
<ol>
<li>Copy the authentication URL from the terminal</li>
<li>Open it in your browser</li>
<li>Verify transport is set to <strong>stdio</strong></li>
<li>Command should show: <code>python3</code></li>
<li>Argument should show: <code>/labs-scripts/calculator_server.py</code></li>
<li>Click <strong>Connect</strong></li>
<li>Go to <strong>Tools</strong> tab and click <strong>List Tools</strong></li>
<li>You should see 5 tools: add, subtract, multiply, divide, power</li>
</ol>
</div>
<p><strong>Test the tools:</strong></p>
<ol>
<li>
<p><strong>Test Add Tool</strong>:</p>
<ul>
<li>Click <code>add</code></li>
<li>Enter <code>a</code>: <code>15</code></li>
<li>Enter <code>b</code>: <code>7</code></li>
<li>Click <strong>Run Tool</strong></li>
<li>Expected: <code>22.0</code></li>
</ul>
</li>
<li>
<p><strong>Test Divide Tool</strong>:</p>
<ul>
<li>Click <code>divide</code></li>
<li>Enter <code>a</code>: <code>100</code></li>
<li>Enter <code>b</code>: <code>4</code></li>
<li>Click <strong>Run Tool</strong></li>
<li>Expected: &ldquo;The result is 25.0&rdquo;</li>
</ul>
</li>
<li>
<p><strong>Test Power Tool</strong>:</p>
<ul>
<li>Click <code>power</code></li>
<li>Enter <code>base</code>: <code>2</code></li>
<li>Enter <code>exponent</code>: <code>8</code></li>
<li>Click <strong>Run Tool</strong></li>
<li>Expected: <code>256.0</code></li>
</ul>
</li>
<li>
<p><strong>Test Error Handling</strong>:</p>
<ul>
<li>Click <code>divide</code></li>
<li>Enter <code>a</code>: <code>10</code></li>
<li>Enter <code>b</code>: <code>0</code></li>
<li>Click <strong>Run Tool</strong></li>
<li>Expected: &ldquo;Error: Division by zero&rdquo;</li>
</ul>
</li>
</ol>
<hr />
<h3 id="003-python-server-exercise-3-build-a-text-processing-server">Exercise 3: Build a Text Processing Server<a class="headerlink" href="#003-python-server-exercise-3-build-a-text-processing-server" title="Permanent link">&para;</a></h3>
<p>Create a more advanced server with string manipulation tools:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#003-python-server-__codelineno-7-1"></a><span class="c1"># Inside the container</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#003-python-server-__codelineno-7-2"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>/labs-scripts/text_server.py<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#003-python-server-__codelineno-7-3"></a><span class="s">#!/usr/bin/env python3</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#003-python-server-__codelineno-7-4"></a><span class="s">from fastmcp import FastMCP</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#003-python-server-__codelineno-7-5"></a><span class="s">from typing import List</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#003-python-server-__codelineno-7-6"></a>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#003-python-server-__codelineno-7-7"></a><span class="s">mcp = FastMCP(&quot;Text Processing Server&quot;)</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#003-python-server-__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#003-python-server-__codelineno-7-9"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#003-python-server-__codelineno-7-10"></a><span class="s">def to_uppercase(text: str) -&gt; str:</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#003-python-server-__codelineno-7-11"></a><span class="s">    &quot;&quot;&quot;Convert text to uppercase&quot;&quot;&quot;</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#003-python-server-__codelineno-7-12"></a><span class="s">    return text.upper()</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#003-python-server-__codelineno-7-13"></a>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#003-python-server-__codelineno-7-14"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#003-python-server-__codelineno-7-15"></a><span class="s">def to_lowercase(text: str) -&gt; str:</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#003-python-server-__codelineno-7-16"></a><span class="s">    &quot;&quot;&quot;Convert text to lowercase&quot;&quot;&quot;</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#003-python-server-__codelineno-7-17"></a><span class="s">    return text.lower()</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#003-python-server-__codelineno-7-18"></a>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#003-python-server-__codelineno-7-19"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#003-python-server-__codelineno-7-20"></a><span class="s">def reverse_text(text: str) -&gt; str:</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#003-python-server-__codelineno-7-21"></a><span class="s">    &quot;&quot;&quot;Reverse the input text&quot;&quot;&quot;</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#003-python-server-__codelineno-7-22"></a><span class="s">    return text[::-1]</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#003-python-server-__codelineno-7-23"></a>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#003-python-server-__codelineno-7-24"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#003-python-server-__codelineno-7-25"></a><span class="s">def count_words(text: str) -&gt; int:</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#003-python-server-__codelineno-7-26"></a><span class="s">    &quot;&quot;&quot;Count the number of words in text&quot;&quot;&quot;</span>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#003-python-server-__codelineno-7-27"></a><span class="s">    return len(text.split())</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#003-python-server-__codelineno-7-28"></a>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#003-python-server-__codelineno-7-29"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#003-python-server-__codelineno-7-30"></a><span class="s">def count_characters(text: str, include_spaces: bool = True) -&gt; int:</span>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#003-python-server-__codelineno-7-31"></a><span class="s">    &quot;&quot;&quot;Count characters in text, optionally excluding spaces&quot;&quot;&quot;</span>
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#003-python-server-__codelineno-7-32"></a><span class="s">    if include_spaces:</span>
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#003-python-server-__codelineno-7-33"></a><span class="s">        return len(text)</span>
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#003-python-server-__codelineno-7-34"></a><span class="s">    return len(text.replace(&quot; &quot;, &quot;&quot;))</span>
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35" href="#003-python-server-__codelineno-7-35"></a>
</span><span id="__span-7-36"><a id="__codelineno-7-36" name="__codelineno-7-36" href="#003-python-server-__codelineno-7-36"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-7-37"><a id="__codelineno-7-37" name="__codelineno-7-37" href="#003-python-server-__codelineno-7-37"></a><span class="s">def find_substring(text: str, substring: str) -&gt; str:</span>
</span><span id="__span-7-38"><a id="__codelineno-7-38" name="__codelineno-7-38" href="#003-python-server-__codelineno-7-38"></a><span class="s">    &quot;&quot;&quot;Find if substring exists in text and return its position&quot;&quot;&quot;</span>
</span><span id="__span-7-39"><a id="__codelineno-7-39" name="__codelineno-7-39" href="#003-python-server-__codelineno-7-39"></a><span class="s">    index = text.find(substring)</span>
</span><span id="__span-7-40"><a id="__codelineno-7-40" name="__codelineno-7-40" href="#003-python-server-__codelineno-7-40"></a><span class="s">    if index == -1:</span>
</span><span id="__span-7-41"><a id="__codelineno-7-41" name="__codelineno-7-41" href="#003-python-server-__codelineno-7-41"></a><span class="s">        return f&quot;Substring &#39;{substring}&#39; not found in text&quot;</span>
</span><span id="__span-7-42"><a id="__codelineno-7-42" name="__codelineno-7-42" href="#003-python-server-__codelineno-7-42"></a><span class="s">    return f&quot;Substring &#39;{substring}&#39; found at position {index}&quot;</span>
</span><span id="__span-7-43"><a id="__codelineno-7-43" name="__codelineno-7-43" href="#003-python-server-__codelineno-7-43"></a>
</span><span id="__span-7-44"><a id="__codelineno-7-44" name="__codelineno-7-44" href="#003-python-server-__codelineno-7-44"></a><span class="s">@mcp.tool()</span>
</span><span id="__span-7-45"><a id="__codelineno-7-45" name="__codelineno-7-45" href="#003-python-server-__codelineno-7-45"></a><span class="s">def split_by_delimiter(text: str, delimiter: str = &quot;,&quot;) -&gt; List[str]:</span>
</span><span id="__span-7-46"><a id="__codelineno-7-46" name="__codelineno-7-46" href="#003-python-server-__codelineno-7-46"></a><span class="s">    &quot;&quot;&quot;Split text by a delimiter&quot;&quot;&quot;</span>
</span><span id="__span-7-47"><a id="__codelineno-7-47" name="__codelineno-7-47" href="#003-python-server-__codelineno-7-47"></a><span class="s">    return text.split(delimiter)</span>
</span><span id="__span-7-48"><a id="__codelineno-7-48" name="__codelineno-7-48" href="#003-python-server-__codelineno-7-48"></a>
</span><span id="__span-7-49"><a id="__codelineno-7-49" name="__codelineno-7-49" href="#003-python-server-__codelineno-7-49"></a><span class="s">if __name__ == &quot;__main__&quot;:</span>
</span><span id="__span-7-50"><a id="__codelineno-7-50" name="__codelineno-7-50" href="#003-python-server-__codelineno-7-50"></a><span class="s">    mcp.run()</span>
</span><span id="__span-7-51"><a id="__codelineno-7-51" name="__codelineno-7-51" href="#003-python-server-__codelineno-7-51"></a><span class="s">EOF</span>
</span><span id="__span-7-52"><a id="__codelineno-7-52" name="__codelineno-7-52" href="#003-python-server-__codelineno-7-52"></a>
</span><span id="__span-7-53"><a id="__codelineno-7-53" name="__codelineno-7-53" href="#003-python-server-__codelineno-7-53"></a>chmod<span class="w"> </span>+x<span class="w"> </span>/labs-scripts/text_server.py
</span></code></pre></div>
<p><strong>Test the text processing server:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#003-python-server-__codelineno-8-1"></a><span class="c1"># Start MCP Inspector</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#003-python-server-__codelineno-8-2"></a>npx<span class="w"> </span>@modelcontextprotocol/inspector<span class="w"> </span>python3<span class="w"> </span>/labs-scripts/text_server.py
</span></code></pre></div>
<div class="admonition info">
<p class="admonition-title">Testing Steps</p>
<ol>
<li>Copy the authentication URL from the terminal</li>
<li>Open it in your browser</li>
<li>Verify transport is set to <strong>stdio</strong></li>
<li>Command should show: <code>python3</code></li>
<li>Argument should show: <code>/labs-scripts/text_server.py</code></li>
<li>Click <strong>Connect</strong></li>
<li>Go to <strong>Tools</strong> tab and click <strong>List Tools</strong></li>
<li>You should see 7 tools: to_uppercase, to_lowercase, reverse_text, count_words, count_characters, find_substring, split_by_delimiter</li>
</ol>
</div>
<p>Try these tests:</p>
<ol>
<li>
<p><strong>to_uppercase</strong>:</p>
<ul>
<li>Input: &ldquo;hello world&rdquo;</li>
<li>Expected: &ldquo;HELLO WORLD&rdquo;</li>
</ul>
</li>
<li>
<p><strong>count_words</strong>:</p>
<ul>
<li>Input: &ldquo;The quick brown fox jumps&rdquo;</li>
<li>Expected: <code>5</code></li>
</ul>
</li>
<li>
<p><strong>find_substring</strong>:</p>
<ul>
<li>text: &ldquo;Python MCP Server&rdquo;</li>
<li>substring: &ldquo;MCP&rdquo;</li>
<li>Expected: &ldquo;Substring &lsquo;MCP&rsquo; found at position 7&rdquo;</li>
</ul>
</li>
<li>
<p><strong>split_by_delimiter</strong>:</p>
<ul>
<li>text: &ldquo;apple,banana,orange&rdquo;</li>
<li>delimiter: &ldquo;,&rdquo;</li>
<li>Expected: <code>["apple", "banana", "orange"]</code></li>
</ul>
</li>
</ol>
<hr />
<h3 id="003-python-server-exercise-4-command-line-testing">Exercise 4: Command-Line Testing<a class="headerlink" href="#003-python-server-exercise-4-command-line-testing" title="Permanent link">&para;</a></h3>
<p>Test tools programmatically using Python:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#003-python-server-__codelineno-9-1"></a><span class="c1"># Inside the container, create a test script</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#003-python-server-__codelineno-9-2"></a>cat<span class="w"> </span>&gt;<span class="w"> </span>/labs-scripts/test_calculator.py<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#003-python-server-__codelineno-9-3"></a><span class="s">#!/usr/bin/env python3</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#003-python-server-__codelineno-9-4"></a><span class="s">import subprocess</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#003-python-server-__codelineno-9-5"></a><span class="s">import json</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#003-python-server-__codelineno-9-6"></a><span class="s">import time</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#003-python-server-__codelineno-9-7"></a>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#003-python-server-__codelineno-9-8"></a><span class="s">def test_mcp_tool(server_path, tool_name, arguments):</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#003-python-server-__codelineno-9-9"></a><span class="s">    &quot;&quot;&quot;Test an MCP tool by spawning the server and sending requests&quot;&quot;&quot;</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#003-python-server-__codelineno-9-10"></a>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#003-python-server-__codelineno-9-11"></a><span class="s">    # Start the server process</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#003-python-server-__codelineno-9-12"></a><span class="s">    process = subprocess.Popen(</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#003-python-server-__codelineno-9-13"></a><span class="s">        [&#39;python3&#39;, server_path],</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#003-python-server-__codelineno-9-14"></a><span class="s">        stdin=subprocess.PIPE,</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#003-python-server-__codelineno-9-15"></a><span class="s">        stdout=subprocess.PIPE,</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#003-python-server-__codelineno-9-16"></a><span class="s">        stderr=subprocess.PIPE,</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#003-python-server-__codelineno-9-17"></a><span class="s">        text=True,</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#003-python-server-__codelineno-9-18"></a><span class="s">        bufsize=1</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#003-python-server-__codelineno-9-19"></a><span class="s">    )</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#003-python-server-__codelineno-9-20"></a>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#003-python-server-__codelineno-9-21"></a><span class="s">    time.sleep(0.5)  # Give server time to start</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#003-python-server-__codelineno-9-22"></a>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#003-python-server-__codelineno-9-23"></a><span class="s">    # Create the tool call request</span>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#003-python-server-__codelineno-9-24"></a><span class="s">    request = {</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#003-python-server-__codelineno-9-25"></a><span class="s">        &quot;jsonrpc&quot;: &quot;2.0&quot;,</span>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#003-python-server-__codelineno-9-26"></a><span class="s">        &quot;id&quot;: 1,</span>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#003-python-server-__codelineno-9-27"></a><span class="s">        &quot;method&quot;: &quot;tools/call&quot;,</span>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#003-python-server-__codelineno-9-28"></a><span class="s">        &quot;params&quot;: {</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#003-python-server-__codelineno-9-29"></a><span class="s">            &quot;name&quot;: tool_name,</span>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#003-python-server-__codelineno-9-30"></a><span class="s">            &quot;arguments&quot;: arguments</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#003-python-server-__codelineno-9-31"></a><span class="s">        }</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#003-python-server-__codelineno-9-32"></a><span class="s">    }</span>
</span><span id="__span-9-33"><a id="__codelineno-9-33" name="__codelineno-9-33" href="#003-python-server-__codelineno-9-33"></a>
</span><span id="__span-9-34"><a id="__codelineno-9-34" name="__codelineno-9-34" href="#003-python-server-__codelineno-9-34"></a><span class="s">    # Send request</span>
</span><span id="__span-9-35"><a id="__codelineno-9-35" name="__codelineno-9-35" href="#003-python-server-__codelineno-9-35"></a><span class="s">    process.stdin.write(json.dumps(request) + &quot;\n&quot;)</span>
</span><span id="__span-9-36"><a id="__codelineno-9-36" name="__codelineno-9-36" href="#003-python-server-__codelineno-9-36"></a><span class="s">    process.stdin.flush()</span>
</span><span id="__span-9-37"><a id="__codelineno-9-37" name="__codelineno-9-37" href="#003-python-server-__codelineno-9-37"></a>
</span><span id="__span-9-38"><a id="__codelineno-9-38" name="__codelineno-9-38" href="#003-python-server-__codelineno-9-38"></a><span class="s">    # Read response</span>
</span><span id="__span-9-39"><a id="__codelineno-9-39" name="__codelineno-9-39" href="#003-python-server-__codelineno-9-39"></a><span class="s">    time.sleep(0.5)</span>
</span><span id="__span-9-40"><a id="__codelineno-9-40" name="__codelineno-9-40" href="#003-python-server-__codelineno-9-40"></a><span class="s">    response_line = process.stdout.readline()</span>
</span><span id="__span-9-41"><a id="__codelineno-9-41" name="__codelineno-9-41" href="#003-python-server-__codelineno-9-41"></a>
</span><span id="__span-9-42"><a id="__codelineno-9-42" name="__codelineno-9-42" href="#003-python-server-__codelineno-9-42"></a><span class="s">    # Clean up</span>
</span><span id="__span-9-43"><a id="__codelineno-9-43" name="__codelineno-9-43" href="#003-python-server-__codelineno-9-43"></a><span class="s">    process.terminate()</span>
</span><span id="__span-9-44"><a id="__codelineno-9-44" name="__codelineno-9-44" href="#003-python-server-__codelineno-9-44"></a><span class="s">    process.wait(timeout=2)</span>
</span><span id="__span-9-45"><a id="__codelineno-9-45" name="__codelineno-9-45" href="#003-python-server-__codelineno-9-45"></a>
</span><span id="__span-9-46"><a id="__codelineno-9-46" name="__codelineno-9-46" href="#003-python-server-__codelineno-9-46"></a><span class="s">    try:</span>
</span><span id="__span-9-47"><a id="__codelineno-9-47" name="__codelineno-9-47" href="#003-python-server-__codelineno-9-47"></a><span class="s">        response = json.loads(response_line)</span>
</span><span id="__span-9-48"><a id="__codelineno-9-48" name="__codelineno-9-48" href="#003-python-server-__codelineno-9-48"></a><span class="s">        return response</span>
</span><span id="__span-9-49"><a id="__codelineno-9-49" name="__codelineno-9-49" href="#003-python-server-__codelineno-9-49"></a><span class="s">    except:</span>
</span><span id="__span-9-50"><a id="__codelineno-9-50" name="__codelineno-9-50" href="#003-python-server-__codelineno-9-50"></a><span class="s">        return {&quot;error&quot;: &quot;Failed to parse response&quot;, &quot;raw&quot;: response_line}</span>
</span><span id="__span-9-51"><a id="__codelineno-9-51" name="__codelineno-9-51" href="#003-python-server-__codelineno-9-51"></a>
</span><span id="__span-9-52"><a id="__codelineno-9-52" name="__codelineno-9-52" href="#003-python-server-__codelineno-9-52"></a><span class="s"># Test calculator operations</span>
</span><span id="__span-9-53"><a id="__codelineno-9-53" name="__codelineno-9-53" href="#003-python-server-__codelineno-9-53"></a><span class="s">print(&quot;Testing Calculator Server...&quot;)</span>
</span><span id="__span-9-54"><a id="__codelineno-9-54" name="__codelineno-9-54" href="#003-python-server-__codelineno-9-54"></a><span class="s">print(&quot;-&quot; * 50)</span>
</span><span id="__span-9-55"><a id="__codelineno-9-55" name="__codelineno-9-55" href="#003-python-server-__codelineno-9-55"></a>
</span><span id="__span-9-56"><a id="__codelineno-9-56" name="__codelineno-9-56" href="#003-python-server-__codelineno-9-56"></a><span class="s"># Test addition</span>
</span><span id="__span-9-57"><a id="__codelineno-9-57" name="__codelineno-9-57" href="#003-python-server-__codelineno-9-57"></a><span class="s">result = test_mcp_tool(&#39;/labs-scripts/calculator_server.py&#39;, &#39;add&#39;, {&#39;a&#39;: 10, &#39;b&#39;: 20})</span>
</span><span id="__span-9-58"><a id="__codelineno-9-58" name="__codelineno-9-58" href="#003-python-server-__codelineno-9-58"></a><span class="s">print(f&quot;add(10, 20) = {result}&quot;)</span>
</span><span id="__span-9-59"><a id="__codelineno-9-59" name="__codelineno-9-59" href="#003-python-server-__codelineno-9-59"></a>
</span><span id="__span-9-60"><a id="__codelineno-9-60" name="__codelineno-9-60" href="#003-python-server-__codelineno-9-60"></a><span class="s"># Test division</span>
</span><span id="__span-9-61"><a id="__codelineno-9-61" name="__codelineno-9-61" href="#003-python-server-__codelineno-9-61"></a><span class="s">result = test_mcp_tool(&#39;/labs-scripts/calculator_server.py&#39;, &#39;divide&#39;, {&#39;a&#39;: 100, &#39;b&#39;: 5})</span>
</span><span id="__span-9-62"><a id="__codelineno-9-62" name="__codelineno-9-62" href="#003-python-server-__codelineno-9-62"></a><span class="s">print(f&quot;divide(100, 5) = {result}&quot;)</span>
</span><span id="__span-9-63"><a id="__codelineno-9-63" name="__codelineno-9-63" href="#003-python-server-__codelineno-9-63"></a>
</span><span id="__span-9-64"><a id="__codelineno-9-64" name="__codelineno-9-64" href="#003-python-server-__codelineno-9-64"></a><span class="s"># Test power</span>
</span><span id="__span-9-65"><a id="__codelineno-9-65" name="__codelineno-9-65" href="#003-python-server-__codelineno-9-65"></a><span class="s">result = test_mcp_tool(&#39;/labs-scripts/calculator_server.py&#39;, &#39;power&#39;, {&#39;base&#39;: 3, &#39;exponent&#39;: 4})</span>
</span><span id="__span-9-66"><a id="__codelineno-9-66" name="__codelineno-9-66" href="#003-python-server-__codelineno-9-66"></a><span class="s">print(f&quot;power(3, 4) = {result}&quot;)</span>
</span><span id="__span-9-67"><a id="__codelineno-9-67" name="__codelineno-9-67" href="#003-python-server-__codelineno-9-67"></a>
</span><span id="__span-9-68"><a id="__codelineno-9-68" name="__codelineno-9-68" href="#003-python-server-__codelineno-9-68"></a><span class="s">print(&quot;-&quot; * 50)</span>
</span><span id="__span-9-69"><a id="__codelineno-9-69" name="__codelineno-9-69" href="#003-python-server-__codelineno-9-69"></a><span class="s">print(&quot;Tests complete!&quot;)</span>
</span><span id="__span-9-70"><a id="__codelineno-9-70" name="__codelineno-9-70" href="#003-python-server-__codelineno-9-70"></a><span class="s">EOF</span>
</span><span id="__span-9-71"><a id="__codelineno-9-71" name="__codelineno-9-71" href="#003-python-server-__codelineno-9-71"></a>
</span><span id="__span-9-72"><a id="__codelineno-9-72" name="__codelineno-9-72" href="#003-python-server-__codelineno-9-72"></a>chmod<span class="w"> </span>+x<span class="w"> </span>/labs-scripts/test_calculator.py
</span><span id="__span-9-73"><a id="__codelineno-9-73" name="__codelineno-9-73" href="#003-python-server-__codelineno-9-73"></a>
</span><span id="__span-9-74"><a id="__codelineno-9-74" name="__codelineno-9-74" href="#003-python-server-__codelineno-9-74"></a><span class="c1"># Run the tests</span>
</span><span id="__span-9-75"><a id="__codelineno-9-75" name="__codelineno-9-75" href="#003-python-server-__codelineno-9-75"></a>python3<span class="w"> </span>/labs-scripts/test_calculator.py
</span></code></pre></div>
<hr />
<h2 id="003-python-server-06-advanced-features">06. Advanced Features<a class="headerlink" href="#003-python-server-06-advanced-features" title="Permanent link">&para;</a></h2>
<h3 id="003-python-server-error-handling">Error Handling<a class="headerlink" href="#003-python-server-error-handling" title="Permanent link">&para;</a></h3>
<p>Add proper error handling to your tools:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#003-python-server-__codelineno-10-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#003-python-server-__codelineno-10-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">safe_divide</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#003-python-server-__codelineno-10-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Safely divide two numbers with error handling&quot;&quot;&quot;</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#003-python-server-__codelineno-10-4"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#003-python-server-__codelineno-10-5"></a>        <span class="k">if</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#003-python-server-__codelineno-10-6"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot divide by zero&quot;</span><span class="p">)</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#003-python-server-__codelineno-10-7"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#003-python-server-__codelineno-10-8"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Result: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#003-python-server-__codelineno-10-9"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#003-python-server-__codelineno-10-10"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<h3 id="003-python-server-using-python-libraries">Using Python Libraries<a class="headerlink" href="#003-python-server-using-python-libraries" title="Permanent link">&para;</a></h3>
<p><code>FastMCP</code> integrates seamlessly with Python&rsquo;s ecosystem:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#003-python-server-__codelineno-11-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#003-python-server-__codelineno-11-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#003-python-server-__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#003-python-server-__codelineno-11-4"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#003-python-server-__codelineno-11-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">calculate_sqrt</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#003-python-server-__codelineno-11-6"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate square root using math library&quot;&quot;&quot;</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#003-python-server-__codelineno-11-7"></a>    <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#003-python-server-__codelineno-11-8"></a>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#003-python-server-__codelineno-11-9"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#003-python-server-__codelineno-11-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_current_time</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#003-python-server-__codelineno-11-11"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get current timestamp&quot;&quot;&quot;</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#003-python-server-__codelineno-11-12"></a>    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span></code></pre></div>
<h3 id="003-python-server-complex-return-types">Complex Return Types<a class="headerlink" href="#003-python-server-complex-return-types" title="Permanent link">&para;</a></h3>
<p>Return structured data:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#003-python-server-__codelineno-12-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#003-python-server-__codelineno-12-2"></a>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#003-python-server-__codelineno-12-3"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#003-python-server-__codelineno-12-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">analyze_text</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#003-python-server-__codelineno-12-5"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Analyze text and return statistics&quot;&quot;&quot;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#003-python-server-__codelineno-12-6"></a>    <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#003-python-server-__codelineno-12-7"></a>        <span class="s2">&quot;characters&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">),</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#003-python-server-__codelineno-12-8"></a>        <span class="s2">&quot;words&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()),</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#003-python-server-__codelineno-12-9"></a>        <span class="s2">&quot;lines&quot;</span><span class="p">:</span> <span class="n">text</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#003-python-server-__codelineno-12-10"></a>        <span class="s2">&quot;vowels&quot;</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="s1">&#39;aeiou&#39;</span><span class="p">)</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#003-python-server-__codelineno-12-11"></a>    <span class="p">}</span>
</span></code></pre></div>
<hr />
<h2 id="003-python-server-07-best-practices">07. Best Practices<a class="headerlink" href="#003-python-server-07-best-practices" title="Permanent link">&para;</a></h2>
<div class="admonition tip">
<p class="admonition-title">FastMCP Best Practices</p>
<p><strong>1. Use Type Hints</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#003-python-server-__codelineno-13-1"></a><span class="c1"># Good</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#003-python-server-__codelineno-13-2"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#003-python-server-__codelineno-13-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">process</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">count</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#003-python-server-__codelineno-13-4"></a>    <span class="k">pass</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#003-python-server-__codelineno-13-5"></a>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#003-python-server-__codelineno-13-6"></a><span class="c1"># Avoid (no type hints)</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#003-python-server-__codelineno-13-7"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#003-python-server-__codelineno-13-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">process</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#003-python-server-__codelineno-13-9"></a>    <span class="k">pass</span>
</span></code></pre></div></p>
<p><strong>2. Write Clear Docstrings</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#003-python-server-__codelineno-14-1"></a><span class="c1"># Good</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#003-python-server-__codelineno-14-2"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#003-python-server-__codelineno-14-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">calculate_tax</span><span class="p">(</span><span class="n">amount</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#003-python-server-__codelineno-14-4"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate tax on an amount using the given rate.</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#003-python-server-__codelineno-14-5"></a>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#003-python-server-__codelineno-14-6"></a><span class="sd">    Args:</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#003-python-server-__codelineno-14-7"></a><span class="sd">        amount: The base amount</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#003-python-server-__codelineno-14-8"></a><span class="sd">        rate: Tax rate as a decimal (e.g., 0.15 for 15%)</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#003-python-server-__codelineno-14-9"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#003-python-server-__codelineno-14-10"></a>    <span class="k">return</span> <span class="n">amount</span> <span class="o">*</span> <span class="n">rate</span>
</span></code></pre></div></p>
<p><strong>3. Handle Errors Gracefully</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#003-python-server-__codelineno-15-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#003-python-server-__codelineno-15-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">safe_operation</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#003-python-server-__codelineno-15-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Perform operation with error handling&quot;&quot;&quot;</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#003-python-server-__codelineno-15-4"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#003-python-server-__codelineno-15-5"></a>        <span class="n">result</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">/</span> <span class="n">value</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#003-python-server-__codelineno-15-6"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Success: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#003-python-server-__codelineno-15-7"></a>    <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#003-python-server-__codelineno-15-8"></a>        <span class="k">return</span> <span class="s2">&quot;Error: Cannot divide by zero&quot;</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#003-python-server-__codelineno-15-9"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#003-python-server-__codelineno-15-10"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div></p>
<p><strong>4. Validate Inputs</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#003-python-server-__codelineno-16-1"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#003-python-server-__codelineno-16-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">process_positive</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#003-python-server-__codelineno-16-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Process only positive numbers&quot;&quot;&quot;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#003-python-server-__codelineno-16-4"></a>    <span class="k">if</span> <span class="n">number</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#003-python-server-__codelineno-16-5"></a>        <span class="k">return</span> <span class="s2">&quot;Error: Number must be positive&quot;</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#003-python-server-__codelineno-16-6"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Processing </span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div></p>
<p><strong>5. Use Meaningful Names</strong>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#003-python-server-__codelineno-17-1"></a><span class="c1"># Good</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#003-python-server-__codelineno-17-2"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#003-python-server-__codelineno-17-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">calculate_monthly_payment</span><span class="p">(</span><span class="n">principal</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">months</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#003-python-server-__codelineno-17-4"></a>    <span class="k">pass</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#003-python-server-__codelineno-17-5"></a>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#003-python-server-__codelineno-17-6"></a><span class="c1"># Avoid</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#003-python-server-__codelineno-17-7"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#003-python-server-__codelineno-17-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">calc</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#003-python-server-__codelineno-17-9"></a>    <span class="k">pass</span>
</span></code></pre></div></p>
</div>
<hr />
<h2 id="003-python-server-08-key-takeaways">08. Key Takeaways<a class="headerlink" href="#003-python-server-08-key-takeaways" title="Permanent link">&para;</a></h2>
<div class="admonition success">
<p class="admonition-title">What You Learned</p>
<ul>
<li>‚úì Building MCP servers with Python and FastMCP</li>
<li>‚úì Using <code>@mcp.tool()</code> decorator for tool definition</li>
<li>‚úì Leveraging type hints for automatic schema generation</li>
<li>‚úì Testing Python MCP servers with MCP Inspector</li>
<li>‚úì Implementing error handling and validation</li>
<li>‚úì Integrating Python libraries with MCP tools</li>
<li>‚úì Command-line testing with subprocess</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">FastMCP Advantages</p>
<ul>
<li><strong>Rapid Development</strong>: Minimal boilerplate, quick prototyping</li>
<li><strong>Python Ecosystem</strong>: Access to thousands of Python libraries</li>
<li><strong>Type Safety</strong>: Automatic validation from type hints</li>
<li><strong>Easy Testing</strong>: Simple to test with Python scripts</li>
<li><strong>Readable Code</strong>: Decorator pattern is clean and intuitive</li>
</ul>
</div>
<hr />
<h2 id="003-python-server-09-additional-resources">09. Additional Resources<a class="headerlink" href="#003-python-server-09-additional-resources" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://github.com/jlowin/fastmcp">FastMCP Documentation</a></li>
<li><a href="https://docs.python.org/3/library/typing.html">Python Type Hints Guide</a></li>
<li><a href="https://modelcontextprotocol.io/docs">MCP Specification</a></li>
<li><a href="https://realpython.com/primer-on-python-decorators/">Python Decorators Tutorial</a></li>
</ul>
<hr />
<h2 id="003-python-server-10-next-steps">10. Next Steps<a class="headerlink" href="#003-python-server-10-next-steps" title="Permanent link">&para;</a></h2>
<p>Now that you can build Python MCP servers with FastMCP, you&rsquo;ll learn how to create TypeScript-based MCP servers for type-safe, production-grade implementations.</p></section><section class="print-page" id="004-k8s-deploy" heading-number="2.6"><p><a href="https://github.com/CodeWizard-IL/Kagent/actions/workflows/004-k8s-deploy.yaml" target="_blank">
  <img src="https://github.com/CodeWizard-IL/Kagent/actions/workflows/004-k8s-deploy.yaml/badge.svg" alt="Lab 004-k8s-deploy">
</a></p>
<hr />
<h1 id="004-k8s-deploy-lab-004-deploy-mcp-to-kubernetes">Lab 004 - Deploy MCP to Kubernetes<a class="headerlink" href="#004-k8s-deploy-lab-004-deploy-mcp-to-kubernetes" title="Permanent link">&para;</a></h1>
<p><strong>What you&rsquo;ll learn:</strong>
- Deploy MCP to Kubernetes concepts and implementation
- Hands-on exercises with K-Agent
- Best practices and patterns</p>
<p><strong>Estimated time:</strong> 10-15 minutes</p>
<hr />
<h2 id="004-k8s-deploy-pre-requirements">Pre-Requirements<a class="headerlink" href="#004-k8s-deploy-pre-requirements" title="Permanent link">&para;</a></h2>
<ul>
<li>Completed <a href="#003-*">Lab 003</a></li>
<li>K-Agent labs environment running</li>
</ul>
<hr />
<h2 id="004-k8s-deploy-01-introduction">01. Introduction<a class="headerlink" href="#004-k8s-deploy-01-introduction" title="Permanent link">&para;</a></h2>
<p>This lab focuses on deploy mcp to kubernetes.</p>
<hr />
<h2 id="004-k8s-deploy-02-setup">02. Setup<a class="headerlink" href="#004-k8s-deploy-02-setup" title="Permanent link">&para;</a></h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#004-k8s-deploy-__codelineno-0-1"></a><span class="c1"># Connect to container</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#004-k8s-deploy-__codelineno-0-2"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>kagent-controller<span class="w"> </span>bash
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#004-k8s-deploy-__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#004-k8s-deploy-__codelineno-0-4"></a><span class="c1"># Navigate to labs directory</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#004-k8s-deploy-__codelineno-0-5"></a><span class="nb">cd</span><span class="w"> </span>/labs-scripts
</span></code></pre></div>
<hr />
<h2 id="004-k8s-deploy-03-hands-on-exercise">03. Hands-on Exercise<a class="headerlink" href="#004-k8s-deploy-03-hands-on-exercise" title="Permanent link">&para;</a></h2>
<h3 id="004-k8s-deploy-exercise-1-core-implementation">Exercise 1: Core Implementation<a class="headerlink" href="#004-k8s-deploy-exercise-1-core-implementation" title="Permanent link">&para;</a></h3>
<p>[Lab-specific content]</p>
<hr />
<h2 id="004-k8s-deploy-04-verification">04. Verification<a class="headerlink" href="#004-k8s-deploy-04-verification" title="Permanent link">&para;</a></h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#004-k8s-deploy-__codelineno-1-1"></a><span class="c1"># Verify your implementation</span>
</span></code></pre></div>
<hr />
<h2 id="004-k8s-deploy-05-key-takeaways">05. Key Takeaways<a class="headerlink" href="#004-k8s-deploy-05-key-takeaways" title="Permanent link">&para;</a></h2>
<div class="admonition success">
<p class="admonition-title">What You Learned</p>
<ul>
<li>‚úì Deploy MCP to Kubernetes implementation</li>
<li>‚úì Practical hands-on experience</li>
<li>‚úì Testing and validation</li>
</ul>
</div>
<hr />
<h2 id="004-k8s-deploy-06-next-steps">06. Next Steps<a class="headerlink" href="#004-k8s-deploy-06-next-steps" title="Permanent link">&para;</a></h2>
<p>Continue to Lab 005 to build on these concepts.</p></section></section>
                    <section class='print-page md-section' id='section-3' heading-number='3'>
                        <h1>Tasks<a class='headerlink' href='#section-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="tasks" heading-number="3.1"><h1 id="tasks-list-of-tasks">List of tasks<a class="headerlink" href="#tasks-list-of-tasks" title="Permanent link">&para;</a></h1></section><section class="print-page" id="tasks-000-setup-roocode-000-setup-roocode" heading-number="3.2"><h1 id="tasks-000-setup-roocode-000-setup-roocode-task-install-and-setup-roo-code">Task: Install and Setup Roo Code<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-task-install-and-setup-roo-code" title="Permanent link">&para;</a></h1>
<ul>
<li>This guide outlines the steps to install Roo Code (formerly Cline), configure it with custom instructions and MCP (Model Context Protocol), and demonstrates a usage example with a hypothetical &ldquo;Context7&rdquo; MCP server.</li>
</ul>
<hr />
<h2 id="tasks-000-setup-roocode-000-setup-roocode-1-install-roo-code">1. Install Roo Code<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-1-install-roo-code" title="Permanent link">&para;</a></h2>
<p>Roo Code is an autonomous coding agent extension for VS Code.</p>
<ol>
<li>Open <strong>VS Code</strong>.</li>
<li>Go to the <strong>Extensions</strong> view (Click the square icon on the sidebar or press <code>Cmd+Shift+X</code>).</li>
<li>Search for <strong>&ldquo;Roo Code&rdquo;</strong>.</li>
<li>Look for the extension published by <strong>RooVeterinaryInc</strong> (ID: <code>RooVeterinaryInc.roo-cline</code>).</li>
<li>Click <strong>Install</strong>.</li>
</ol>
<hr />
<h2 id="tasks-000-setup-roocode-000-setup-roocode-2-setup-roo-code">2. Setup Roo Code<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-2-setup-roo-code" title="Permanent link">&para;</a></h2>
<ol>
<li>Once installed, you need to configure Roo Code.</li>
<li>Open the <strong>Roo Code</strong> sidebar by clicking the Roo Code icon on the sidebar.</li>
<li>You will see the main Roo Code interface.</li>
<li>We will go over the key configuration options during the lecture.</li>
<li>
<p>Adding API Keys (Use exiting or create new keys as needed) <a href="#tasks-000-setup-roocode-000-setup-roocode-free api keys for google gemini">https://aistudio.google.com/api-keys</a></p>
<p><img src="../assets/images/RooCode/RooCode01.png" alt="Roo Code Sidebar" style="max-width:800px;"/></p>
<p><img src="../assets/images/RooCode/RooCode02.png" alt="Roo Code Sidebar" style="max-width:800px;"/></p>
</li>
</ol>
<hr />
<h2 id="tasks-000-setup-roocode-000-setup-roocode-3-configuring-roo-code-features">3. Configuring Roo Code Features<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-3-configuring-roo-code-features" title="Permanent link">&para;</a></h2>
<h3 id="tasks-000-setup-roocode-000-setup-roocode-create-profile">Create Profile<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-create-profile" title="Permanent link">&para;</a></h3>
<div class="admonition success">
<p class="admonition-title">Creating a Profile</p>
<ol>
<li>Open the <strong>Roo Code</strong> sidebar.</li>
<li>Click the <strong>Profile</strong> icon (user icon).</li>
<li>Click <strong>&ldquo;Create Profile&rdquo;</strong>.</li>
<li>Fill in your details and preferences.</li>
<li>Click <strong>&ldquo;Save Profile&rdquo;</strong>.</li>
<li>Your profile will help Roo Code tailor its responses to your coding style and preferences.</li>
<li>You can create multiple profiles for different projects or coding styles.</li>
<li>Switch between profiles as needed.</li>
</ol>
</div>
<h3 id="tasks-000-setup-roocode-000-setup-roocode-api-keys">API Keys<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-api-keys" title="Permanent link">&para;</a></h3>
<div class="admonition success">
<p class="admonition-title">Setting Up API Keys</p>
<ol>
<li>Open the <strong>Roo Code</strong> sidebar.</li>
<li>Click the <strong>Settings</strong> (gear icon).</li>
<li>Scroll to <strong>&ldquo;API Keys&rdquo;</strong>.</li>
<li>Enter your API keys for the models you want to use (e.g., OpenAI, Google Gemini).</li>
<li>Click <strong>&ldquo;Save&rdquo;</strong>.</li>
<li>Roo Code will use these keys to access the respective language models for code generation and assistance.</li>
</ol>
</div>
<h3 id="tasks-000-setup-roocode-000-setup-roocode-modes">Modes<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-modes" title="Permanent link">&para;</a></h3>
<div class="admonition success">
<p class="admonition-title">Setting Up Modes</p>
<ol>
<li>Open the <strong>Roo Code</strong> sidebar.</li>
<li>Click the <strong>Settings</strong> (gear icon).</li>
<li>Scroll to <strong>&ldquo;Default Mode&rdquo;</strong>.</li>
<li>Select your preferred default mode (e.g., Code, Architect, Ask).</li>
<li>Click <strong>&ldquo;Save&rdquo;</strong>.</li>
<li>This setting determines how Roo Code will approach tasks by default.</li>
</ol>
</div>
<hr />
<h3 id="tasks-000-setup-roocode-000-setup-roocode-4-advanced-configuration">4. Advanced Configuration<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-4-advanced-configuration" title="Permanent link">&para;</a></h3>
<h4 id="tasks-000-setup-roocode-000-setup-roocode-mcp-servers">MCP Servers<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-mcp-servers" title="Permanent link">&para;</a></h4>
<ul>
<li>MCP (Model Context Protocol) allows Roo Code to connect to external tools and data sources.</li>
</ul>
<div class="admonition success">
<p class="admonition-title">Setting Up MCP Servers</p>
<ol>
<li>In the Roo Code sidebar, click the <strong>MCP</strong> icon (server icon) or go to <strong>Settings &gt; MCP Servers</strong>.</li>
<li>Click <strong>&ldquo;Edit MCP Settings&rdquo;</strong> (Global or Project).  </li>
<li>This will open a JSON file for the MCP settings.</li>
<li>Add your MCP servers to the <code>mcpServers</code> object.<ul>
<li>Each server configuration includes the command to start the server, arguments, and environment variables if needed.</li>
</ul>
</li>
<li>Save the file. </li>
<li>Roo Code will now be able to use these MCP servers for enhanced context and capabilities.</li>
</ol>
</div>
<hr />
<h3 id="tasks-000-setup-roocode-000-setup-roocode-additional-settings">Additional Settings<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-additional-settings" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>We will cover these in the lecture.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Setting</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Auto-Approve</strong></td>
<td style="text-align: left;">Automatically approve Roo Code&rsquo;s suggested changes.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Slash Commands</strong></td>
<td style="text-align: left;">Enable or disable slash commands for quick actions.</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Context</strong></td>
<td style="text-align: left;">Configure how much file context Roo Code uses when generating code (Tabs, limits etc.).</td>
</tr>
<tr>
<td style="text-align: left;"><strong>Prompts</strong></td>
<td style="text-align: left;">Customize prompt templates for different modes.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<hr />
<h2 id="tasks-000-setup-roocode-000-setup-roocode-4-adding-custom-instructions">4. Adding Custom Instructions<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-4-adding-custom-instructions" title="Permanent link">&para;</a></h2>
<ul>
<li>Adding custom instructions to Roo Code is a powerful way to enforce coding standards, project context, or specific AI behaviors. </li>
<li>There are three primary ways to do this: Project-specific files, the UI (Prompts Tab), and Global configuration.</li>
</ul>
<h4 id="tasks-000-setup-roocode-000-setup-roocode-1-project-specific-instructions-recommended">1. Project-Specific Instructions (Recommended)<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-1-project-specific-instructions-recommended" title="Permanent link">&para;</a></h4>
<ul>
<li>This is the best way to ensure that any developer working on your specific project gets the same AI behavior.</li>
</ul>
<p><strong>Method A: The <code>.roo/rules/</code> Directory (Modern)</strong></p>
<ul>
<li>
<p>Roo Code now looks for a directory in your project root to load instructions.</p>
<div class="admonition success">
<p class="admonition-title">Setting Up Custom Rules</p>
<ul>
<li>Create a folder named <code>.roo/rules/</code> in your project&rsquo;s root directory.  </li>
<li>Roo Code will read all files in this directory and apply the instructions when working on the project.   </li>
<li>Example filenames: <br />
  <div class="language-markdown highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-0-1"></a>  coding-standards.md
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-0-2"></a>  project-context.md
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-0-3"></a>  api-guidelines.md
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-0-4"></a>  testing-instructions.md
</span></code></pre></div></li>
<li>Add any number of <code>.md</code> (Markdown) files in this directory.<br />
  <div class="language-markdown highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-1-1"></a>  your-project/
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-1-2"></a>  ‚îú‚îÄ‚îÄ .roo/
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-1-3"></a>  ‚îÇ   ‚îî‚îÄ‚îÄ rules/
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-1-4"></a>  ‚îÇ       ‚îú‚îÄ‚îÄ coding-standards.md
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-1-5"></a>  ‚îÇ       ‚îú‚îÄ‚îÄ project-context.md
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-1-6"></a>  ‚îÇ       ‚îî‚îÄ‚îÄ api-guidelines.md
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-1-7"></a>  ‚îî‚îÄ‚îÄ src/
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-1-8"></a>      ‚îî‚îÄ‚îÄ main.py
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-1-9"></a>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-1-10"></a>  # Each file can contain specific instructions or context for Roo Code.      
</span></code></pre></div></li>
<li>Example content for <code>coding-standards.md</code>:
    <div class="language-markdown highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-2-1"></a><span class="gh"># Coding Standards</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-2-2"></a><span class="k">-</span><span class="w"> </span>Follow PEP 8 for Python code.
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-2-3"></a><span class="k">-</span><span class="w"> </span>Use meaningful variable names.
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#tasks-000-setup-roocode-000-setup-roocode-__codelineno-2-4"></a><span class="k">-</span><span class="w"> </span>Write unit tests for all new features.
</span></code></pre></div></li>
<li>This method allows for easy version control and sharing of instructions with your team.</li>
<li>Roo Code will automatically pick up changes to these files.</li>
</ul>
</div>
</li>
</ul>
<hr />
<h4 id="tasks-000-setup-roocode-000-setup-roocode-2-using-the-prompts-tab-in-the-ui-globalquick-edits">2. Using the Prompts Tab in the UI (Global/Quick Edits)<a class="headerlink" href="#tasks-000-setup-roocode-000-setup-roocode-2-using-the-prompts-tab-in-the-ui-globalquick-edits" title="Permanent link">&para;</a></h4>
<ul>
<li>You can also add custom instructions directly through the Roo Code UI.</li>
<li>
<p>This method is less ideal for project-specific instructions but can be useful for quick adjustments.</p>
<div class="admonition success">
<p class="admonition-title">Adding Custom Prompts via UI</p>
<ul>
<li>Open the <strong>Roo Code</strong> sidebar.</li>
<li>Click on the <strong>Prompts</strong> tab.</li>
<li>Here, you can add or edit custom prompts for different modes.</li>
<li>Save your changes.</li>
</ul>
</div>
<ul>
<li>Roo Code will use these prompts when generating code.</li>
</ul>
</li>
</ul></section></section>
                    <section class='print-page md-section' id='section-4' heading-number='4'>
                        <h1>Resources<a class='headerlink' href='#section-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="resources-001-mcp-basics-001-mcp-basics-ts" heading-number="4.1"><h1 id="resources-001-mcp-basics-001-mcp-basics-ts-mcp-server-example-ts">MCP Server Example (TS)<a class="headerlink" href="#resources-001-mcp-basics-001-mcp-basics-ts-mcp-server-example-ts" title="Permanent link">&para;</a></h1>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-1"></a><span class="ch">#!/usr/bin/env node</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-3"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Server</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@modelcontextprotocol/sdk/server/index.js&quot;</span><span class="p">;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-4"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@modelcontextprotocol/sdk/server/stdio.js&quot;</span><span class="p">;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-5"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-6"></a><span class="w">  </span><span class="nx">CallToolRequestSchema</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-7"></a><span class="w">  </span><span class="nx">ListToolsRequestSchema</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-8"></a><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;@modelcontextprotocol/sdk/types.js&quot;</span><span class="p">;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-10"></a><span class="cm">/**</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-11"></a><span class="cm"> * K-Agent MCP Server</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-12"></a><span class="cm"> * A simple Model Context Protocol server with example tools</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-13"></a><span class="cm"> */</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-14"></a>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-15"></a><span class="c1">// Create server instance</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-16"></a><span class="kd">const</span><span class="w"> </span><span class="nx">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Server</span><span class="p">(</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-17"></a><span class="w">  </span><span class="p">{</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-18"></a><span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;kagent-mcp-server&quot;</span><span class="p">,</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-19"></a><span class="w">    </span><span class="nx">version</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-20"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-21"></a><span class="w">  </span><span class="p">{</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-22"></a><span class="w">    </span><span class="nx">capabilities</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-23"></a><span class="w">      </span><span class="nx">tools</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-24"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-25"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-26"></a><span class="p">);</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-27"></a>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-28"></a><span class="c1">// List available tools</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-29"></a><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">ListToolsRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-30"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-31"></a><span class="w">    </span><span class="nx">tools</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-32"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-33"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="p">,</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-34"></a><span class="w">        </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Returns a friendly greeting message&quot;</span><span class="p">,</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-35"></a><span class="w">        </span><span class="nx">inputSchema</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-36"></a><span class="w">          </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-37"></a><span class="w">          </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-38"></a><span class="w">            </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-39"></a><span class="w">              </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-40"></a><span class="w">              </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Name to greet&quot;</span><span class="p">,</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-41"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-42"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-43"></a><span class="w">          </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-44"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-45"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-46"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-47"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;add&quot;</span><span class="p">,</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-48"></a><span class="w">        </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Adds two numbers together&quot;</span><span class="p">,</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-49"></a><span class="w">        </span><span class="nx">inputSchema</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-50"></a><span class="w">          </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-51"></a><span class="w">          </span><span class="nx">properties</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-52"></a><span class="w">            </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-53"></a><span class="w">              </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-54"></a><span class="w">              </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;First number&quot;</span><span class="p">,</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-55"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-56"></a><span class="w">            </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-57"></a><span class="w">              </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-58"></a><span class="w">              </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Second number&quot;</span><span class="p">,</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-59"></a><span class="w">            </span><span class="p">},</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-60"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-61"></a><span class="w">          </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;b&quot;</span><span class="p">],</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-62"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-63"></a><span class="w">      </span><span class="p">},</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-64"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-65"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-66"></a><span class="p">});</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-67"></a>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-68"></a><span class="c1">// Handle tool calls</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-69"></a><span class="nx">server</span><span class="p">.</span><span class="nx">setRequestHandler</span><span class="p">(</span><span class="nx">CallToolRequestSchema</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">request</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-70"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">arguments</span><span class="o">:</span><span class="w"> </span><span class="kt">args</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-71"></a>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-72"></a><span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-73"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-74"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">nameArg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="o">?</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-75"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-76"></a><span class="w">        </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-77"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-78"></a><span class="w">            </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-79"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`Hello, </span><span class="si">${</span><span class="nx">nameArg</span><span class="si">}</span><span class="sb">! Welcome to K-Agent Labs.`</span><span class="p">,</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-80"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-81"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-82"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-83"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-84"></a>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-85"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s2">&quot;add&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-86"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="o">?</span><span class="p">.</span><span class="nx">a</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-87"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">args</span><span class="o">?</span><span class="p">.</span><span class="nx">b</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-88"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">b</span><span class="p">;</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-89"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-90"></a><span class="w">        </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-91"></a><span class="w">          </span><span class="p">{</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-92"></a><span class="w">            </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-93"></a><span class="w">            </span><span class="nx">text</span><span class="o">:</span><span class="w"> </span><span class="sb">`The sum of </span><span class="si">${</span><span class="nx">a</span><span class="si">}</span><span class="sb"> and </span><span class="si">${</span><span class="nx">b</span><span class="si">}</span><span class="sb"> is </span><span class="si">${</span><span class="nx">result</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-94"></a><span class="w">          </span><span class="p">},</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-95"></a><span class="w">        </span><span class="p">],</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-96"></a><span class="w">      </span><span class="p">};</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-97"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-98"></a>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-99"></a><span class="w">    </span><span class="nx">default</span><span class="o">:</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-100"></a><span class="w">      </span><span class="kt">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`Unknown tool: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-101"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-102"></a><span class="p">});</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-103"></a>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-104"></a><span class="c1">// Start the server</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-105"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-106"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">transport</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">StdioServerTransport</span><span class="p">();</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-107"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">server</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">transport</span><span class="p">);</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-108"></a><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;K-Agent MCP Server running on stdio&quot;</span><span class="p">);</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-109"></a><span class="p">}</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-110"></a>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-111"></a><span class="nx">main</span><span class="p">().</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-112"></a><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Server error:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-113"></a><span class="w">  </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114" href="#resources-001-mcp-basics-001-mcp-basics-ts-__codelineno-0-114"></a><span class="p">});</span>
</span></code></pre></div></section><section class="print-page" id="resources-001-mcp-basics-001-mcp-basics-py" heading-number="4.2"><h1 id="resources-001-mcp-basics-001-mcp-basics-py-resources-001-mcp-basics-001-mcp-basics-py">001 - MCP Basics (PY)</h1><h3 id="mcp-basics-with-python">MCP Basics with Python<a class="headerlink" href="#resources-001-mcp-basics-001-mcp-basics-py-mcp-basics-with-python" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">mcp.server.fastmcp</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastMCP</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-3"></a><span class="c1"># Create server instance</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-4"></a><span class="n">mcp</span> <span class="o">=</span> <span class="n">FastMCP</span><span class="p">(</span><span class="s2">&quot;kagent-mcp-server&quot;</span><span class="p">)</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-6"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-8"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a friendly greeting message&quot;&quot;&quot;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-9"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">! Welcome to K-Agent Labs.&quot;</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-11"></a><span class="nd">@mcp</span><span class="o">.</span><span class="n">tool</span><span class="p">()</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-12"></a><span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-13"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds two numbers together&quot;&quot;&quot;</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-14"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-15"></a>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;The sum of </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2"> and </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-16"></a>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-17"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-18"></a>    <span class="c1"># Initialize and run the server</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-19"></a>    <span class="n">mcp</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-20"></a>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-21"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#resources-001-mcp-basics-001-mcp-basics-py-__codelineno-0-22"></a>    <span class="n">main</span><span class="p">()</span>
</span></code></pre></div></section></section></div><style>.print-site-enumerate-headings #welcome > h1:before { content: '1 ' }

                .print-site-enumerate-headings #welcome h2:before { content: '1.' counter(counter-welcome-2) ' ' }
                .print-site-enumerate-headings #welcome h2 {  counter-reset: counter-welcome-3 ;  counter-increment: counter-welcome-2 }
            
                .print-site-enumerate-headings #welcome h3:before { content: '1.' counter(counter-welcome-2) '.' counter(counter-welcome-3) ' ' }
                .print-site-enumerate-headings #welcome h3 {  counter-increment: counter-welcome-3 }
            
.print-site-enumerate-headings #section-2 > h1:before { content: '2 ' }
.print-site-enumerate-headings #index > h1:before { content: '2.1 ' }

                .print-site-enumerate-headings #index h2:before { content: '2.1.' counter(counter-index-2) ' ' }
                .print-site-enumerate-headings #index h2 {  counter-increment: counter-index-2 }
            
.print-site-enumerate-headings #000-setup > h1:before { content: '2.2 ' }

                .print-site-enumerate-headings #000-setup h2:before { content: '2.2.' counter(counter-000-setup-2) ' ' }
                .print-site-enumerate-headings #000-setup h2 {  counter-increment: counter-000-setup-2 }
            
.print-site-enumerate-headings #001-mcp-basics > h1:before { content: '2.3 ' }

                .print-site-enumerate-headings #001-mcp-basics h2:before { content: '2.3.' counter(counter-001-mcp-basics-2) ' ' }
                .print-site-enumerate-headings #001-mcp-basics h2 {  counter-increment: counter-001-mcp-basics-2 }
            
.print-site-enumerate-headings #002-typescript-server > h1:before { content: '2.4 ' }

                .print-site-enumerate-headings #002-typescript-server h2:before { content: '2.4.' counter(counter-002-typescript-server-2) ' ' }
                .print-site-enumerate-headings #002-typescript-server h2 {  counter-increment: counter-002-typescript-server-2 }
            
.print-site-enumerate-headings #003-python-server > h1:before { content: '2.5 ' }

                .print-site-enumerate-headings #003-python-server h2:before { content: '2.5.' counter(counter-003-python-server-2) ' ' }
                .print-site-enumerate-headings #003-python-server h2 {  counter-increment: counter-003-python-server-2 }
            
.print-site-enumerate-headings #004-k8s-deploy > h1:before { content: '2.6 ' }

                .print-site-enumerate-headings #004-k8s-deploy h2:before { content: '2.6.' counter(counter-004-k8s-deploy-2) ' ' }
                .print-site-enumerate-headings #004-k8s-deploy h2 {  counter-increment: counter-004-k8s-deploy-2 }
            
.print-site-enumerate-headings #section-3 > h1:before { content: '3 ' }
.print-site-enumerate-headings #tasks > h1:before { content: '3.1 ' }

                .print-site-enumerate-headings #tasks h2:before { content: '3.1.' counter(counter-tasks-2) ' ' }
                .print-site-enumerate-headings #tasks h2 {  counter-increment: counter-tasks-2 }
            
.print-site-enumerate-headings #tasks-000-setup-roocode-000-setup-roocode > h1:before { content: '3.2 ' }

                .print-site-enumerate-headings #tasks-000-setup-roocode-000-setup-roocode h2:before { content: '3.2.' counter(counter-tasks-000-setup-roocode-000-setup-roocode-2) ' ' }
                .print-site-enumerate-headings #tasks-000-setup-roocode-000-setup-roocode h2 {  counter-increment: counter-tasks-000-setup-roocode-000-setup-roocode-2 }
            
.print-site-enumerate-headings #section-4 > h1:before { content: '4 ' }
.print-site-enumerate-headings #resources-001-mcp-basics-001-mcp-basics-ts > h1:before { content: '4.1 ' }

                .print-site-enumerate-headings #resources-001-mcp-basics-001-mcp-basics-ts h2:before { content: '4.1.' counter(counter-resources-001-mcp-basics-001-mcp-basics-ts-2) ' ' }
                .print-site-enumerate-headings #resources-001-mcp-basics-001-mcp-basics-ts h2 {  counter-increment: counter-resources-001-mcp-basics-001-mcp-basics-ts-2 }
            
.print-site-enumerate-headings #resources-001-mcp-basics-001-mcp-basics-py > h1:before { content: '4.2 ' }

                .print-site-enumerate-headings #resources-001-mcp-basics-001-mcp-basics-py h2:before { content: '4.2.' counter(counter-resources-001-mcp-basics-001-mcp-basics-py-2) ' ' }
                .print-site-enumerate-headings #resources-001-mcp-basics-001-mcp-basics-py h2 {  counter-increment: counter-resources-001-mcp-basics-001-mcp-basics-py-2 }
            </style>
<!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Render date of last update -->


<!-- Render date of creation -->


<!-- ---------------------------------------------------------------------- -->

<!-- Render authors -->


<!-- ---------------------------------------------------------------------- -->

<!-- Render committers from GitHub -->


<!-- Render committers from GitLab -->


<!-- Render committers -->


<!-- ---------------------------------------------------------------------- -->

<!-- Determine date of last update -->


<!-- Source file information -->





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Footer -->
<footer class="md-footer">
  <div class="logo1"></div>
  <div class="logo2"></div>

  <!-- Link to previous and/or next page -->
  
    
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      ¬©2021-2025 Nir Geier<br/><a href="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" target="_blank" rel="noopener"><img src="https://visitor-badge.laobi.icu/badge?page_id=nirgeier" alt="Visitor Badge"></a>
    </div>
  
  
</div>

      <!-- Social links -->
      
        
<div class="md-social">
    
    
    
    
    
    <a href="https://github.com/CodeWizard-IL/Kagent" target="_blank" rel="noopener" title="View on GitHub"
        class="md-social__link social-class__github">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
    
    
    
    
    
    <a href="https://github.com/CodeWizard-IL/Kagent/network/members" target="_blank" rel="noopener" title="Fork this repo"
        class="md-social__link social-class__fork">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0M5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0m6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0"/></svg>
    </a>
    
    
    
    
    
    <a href="https://github.com/CodeWizard-IL/Kagent/stargazers" target="_blank" rel="noopener" title="Star this repo"
        class="md-social__link social-class__star">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25m0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://www.linkedin.com/in/nirgeier/" target="_blank" rel="noopener" title="Connect on LinkedIn"
        class="md-social__link social-class__linkedin">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://discord.gg/U6xW23Ss" target="_blank" rel="noopener" title="Follow me on Discord"
        class="md-social__link social-class__discord">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
    
    
    
    
    
    <a href="https://stackoverflow.com/users/1755598/codewizard" target="_blank" rel="noopener" title="Follow me on Stack Overflow"
        class="md-social__link social-class__stackoverflow">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M291 311 95.3 269.7 87.1 309l195.7 41zm51-87L188.5 95.7 163 126.5l153.5 128.3zm-31.2 39.7L129.5 179l-16.7 36.5L294 300zM262.3 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H43V320H3v160h359.5V320h-40z"/></svg>
    </a>
    
    
    
    
    
    <a href="https://wa.me/972548122310" target="_blank" rel="noopener" title="Follow me on WhatsApp"
        class="md-social__link social-class__whatsapp">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157m-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1s56.2 81.2 56.1 130.5c0 101.8-84.9 184.6-186.6 184.6m101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7s-12.5-30.1-17.1-41.2c-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3s19.9 53.7 22.6 57.4c2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4s4.6-24.1 3.2-26.4c-1.3-2.5-5-3.9-10.5-6.6"/></svg>
    </a>
    
    
    
    
    
    <a href="mailto:nirg@codewizard.co.il" target="_blank" rel="noopener" title="Email me"
        class="md-social__link social-class__email">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg>
    </a>
    
</div>
      
    </div>
  </div>
</footer>

      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "/Kagent/", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "content.footer.last-updated", "content.footer.contributors", {"navigation.expand": false}, "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", {"navigation.top": true}, "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate", "toc.sticky", "mermaid"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="https://buttons.github.io/buttons.js?v=1766553928"></script>
      
    
  </body>
</html>